define("course-taking-dashboard.app/../../ud-core",["angular","angular-sanitize","ud-translate","ud-template"],function(e){return e.module("ud.core",["ngSanitize","udTemplate","udTranslate"]).value("NG_APPS_URL","/staticx/udemy/js/ng/apps/")}),define("ud.api",["jquery","jquery-migrate","jquery.cookie"],function(e){UD.API={version:"api-1.1",getHeaders:function(){var t={};return t["X-Udemy-Snail-Case"]=!0,e.cookie("client_id")&&(t["X-Udemy-Client-Id"]=e.cookie("client_id")),e.cookie("access_token")?t["X-Udemy-Bearer-Token"]=e.cookie("access_token"):e.cookie("client_secret")&&(t["X-Udemy-Client-Secret"]=e.cookie("client_secret")),t},call:function(t,i){return e.ajax(e.extend(!0,{url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},i))},regularCall:function(t,i){return e.ajax(e.extend({url:UD.Config.url.to_root+t},i))}},UD.API.Lecture={create:function(e,t,i){UD.API.call("/lectures/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/lectures/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/lectures/"+e,{type:"PUT",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/lectures/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Quiz={create:function(e,t,i){UD.API.call("/quizzes/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/quizzes/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcaceGets=1,UD.API.call("/quizzes/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/quizzes/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Chapter={create:function(e,t,i){UD.API.call("/chapters/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/chapters/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/chapters/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/chapters/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Checkpoint={create:function(e,t,i){UD.API.call("/checkpoints/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/checkpoints/"+e,{type:"GET",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/checkpoints/"+e,{type:"DELETE",success:t,error:i})}},UD.API.Asset={read:function(e,t,i,n){UD.API.call("/assets/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/assets/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/assets/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Stat={increment:function(e,t,i,n){UD.API.call("/stats/"+e+"/increment",{type:"POST",data:{tags:t},success:i,error:n})},timing:function(e,t,i,n){UD.API.call("/stats/"+e+"/timing",{type:"POST",data:{time:t},success:i,error:n})}},UD.API.HelloBar={close:function(e,t,i){UD.API.call("/hello-bars/"+e+"/user-setting",{type:"PUT",data:{setting:"closed",value:"true"},success:t,error:i})}}}),define("ud.api.v2",["jquery","jquery-migrate","jquery.cookie"],function(e){UD.API_V2={version:"api-2.0",getHeaders:function(){var t={};return e.cookie("access_token")&&(t.Authorization="Bearer "+e.cookie("access_token")),t},call:function(t,i){return e.ajax(e.extend({url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},i))}}}),define("course-taking-dashboard.app/../../config/http-interceptors",["jquery","ud.api","ud.api.v2"],function(e){return["$httpProvider",function(t){var i=t.defaults.headers;i.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",i.put["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",i.patch["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var n=function(t){return void 0===t?t:e.param(t)};t.interceptors.push(function(){return{request:function(e){return e.url.search("/api-1.1/")>=0?(angular.extend(e.headers,UD.API.getHeaders()),e.headers["X-Udemy-Snail-Case"]=!1):e.url.search("/api-2.0/")>=0&&angular.extend(e.headers,UD.API_V2.getHeaders()),e.headers["Content-Type"]&&e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(e.transformRequest=n),e}}})}]}),angular.module("services").factory("Activity",["$http",function(e){var t=function(e){angular.extend(this,e)};return t.getAll=function(t,i,n){return e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:{types:"all",beforeId:n}})},t.getSome=function(t){return e({url:"/api-1.1/activity/",method:"GET",params:{"ids[]":t}})},t.getAnnouncements=function(t,i,n){return e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:{types:"announcements",beforeId:n}})},t.getDiscussions=function(t,i,n,r){var a={types:"discussions",beforeId:n};return angular.isDefined(r)&&(a.unanswered=r?1:0),e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:a})},t.getLectureDiscussions=function(t,i){return e({url:"/api-1.1/lectures/"+i+"/discussion-activities",method:"GET",params:{p:t,pageSize:12}})},t.updateActivity=function(t,i){return e({url:"/api-1.1/activity/"+t,method:"PUT",params:i})},t.deleteActivity=function(t){return e({url:"/api-1.1/activity/"+t,method:"DELETE"})},t.createComment=function(t,i){return e({url:"/api-1.1/activity/"+t+"/comment",method:"POST",data:{comment:i}})},t.updateComment=function(t,i,n){return e({url:"/api-1.1/activity/"+i+"/comments/"+t,method:"PUT",data:{comment:n}})},t.deleteComment=function(t,i){return e({url:"/api-1.1/activity/"+i+"/comments/"+t,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/like",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/unlike",method:"POST"})},t.followActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/follow",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/unfollow",method:"POST"})},t.getMyActivity=function(t,i,n){return e({url:"/api-1.1/users/me/taking/"+t+"/my-activity",method:"GET",params:{activityClassName:i,id:n}})},t.updateDiscussionsLastSeenTime=function(t){return e({url:"/api-1.1/users/me/taking/"+t+"/activity-feed-last-seen-time",method:"PUT",data:{activityClassName:"DiscussionPostActivity"}})},t.updateAnnouncementsLastSeenTime=function(t){return e({url:"/api-1.1/users/me/taking/"+t+"/activity-feed-last-seen-time",method:"PUT",data:{activityClassName:"AnnouncementMadeActivity"}})},t}]),define("course-taking-dashboard.app/../../services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){var t=function(e){angular.extend(this,e)};return t.update=function(t,i){return e({url:"/api-1.1/announcements/"+t,method:"PUT",params:i})},t}]),define("course-taking-dashboard.app/../../services/Announcement",function(){}),angular.module("services").factory("Course",["$http","Utils",function(e,t){var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.get=function(t,i,n){return i=i||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+i,{params:n})},n.getCurriculum=function(t){var i={"fields[lecture]":"@min,completionRatio,progressStatus","fields[quiz]":"@min,completionRatio","fields[chapter]":"@min,description"};return e.get("/api-1.1/courses/"+t+"/curriculum",{params:i})},n.initChaptersAndLectures=function(e){var t=[];for(var i in e){var n=e[i],r="chapter"===n.__class?n.index:n.chapterIndex;"undefined"==typeof t[r]&&(t[r]=[]),"undefined"==typeof t[r].lectures&&(t[r].lectures=[]),"undefined"==typeof t[r].chapter&&(t[r].chapter={}),"chapter"===n.__class?t[r].chapter=n:("lecture"===n.__class||"quiz"===n.__class)&&t[r].lectures.push(n)}return t},n.getCourseFeedback=function(t){return e.get("/api-2.0/users/me/course-feedbacks/",{params:{course:t}})},n.getProgress=function(t){return e.get("/api-1.1/courses/"+t+"/progress")},n.getCourseReview=function(t){return e.get("/api-2.0/courses/"+t+"/reviews",{params:{"fields[course_review]":"@min",user:UD.me.id}})},n.createCourseReview=function(t,i){return e({method:"POST",url:"/api-2.0/courses/"+t+"/reviews",data:{rating:i.rating,title:i.title,content:i.content},params:{"fields[course_review]":"@min"}})},n.updateCourseReview=function(t,i){return e({method:"PATCH",url:"/api-2.0/courses/"+t+"/reviews/"+i.id,data:{rating:i.rating,title:i.title,content:i.content},params:{"fields[course_review]":"@min"}})},n.deleteCourseReview=function(t,i){return e({method:"DELETE",url:"/api-2.0/courses/"+t+"/reviews/"+i.id})},n.get5RandomStudents=function(t){return e.get("/api-1.1/courses/"+t+"/5-random-students")},n.initializeCourseData=function(e){return e.hasAtLeastOneVisibleInstructor=e.visibleInstructors.length>=1,e.hasSingleInstructor=1==e.visibleInstructors.length,e.hasAtLeastTwoInstructors=e.visibleInstructors.length>=2,e.hasExactlyThreeInstructors=3==e.visibleInstructors.length,e.hasMoreThanThreeInstructors=e.visibleInstructors.length>3,e.numberOfInstructors=e.visibleInstructors.length,e},n.updateSetting=function(t,i,n){var r={};return r[i]=n,e({url:"/api-1.1/courses/"+t+"/settings",method:"POST",data:{data:r}})},n.createAnnouncement=function(t,n,r){return e({url:"/api-1.1/announcements/",method:"POST",params:i.appendIgnoreWarningsParam(r),data:{courseId:t,content:n}})},n.searchDiscussionActivities=function(t,i,n,r){return e({url:"/api-1.1/courses/"+t+"/discussion-activities",method:"GET",params:{search:i,p:r,pageSize:n}})},n.createDiscussion=function(t,n,r,a,o){return e({url:"/api-1.1/discussions/",method:"POST",data:{courseId:t,lectureId:n,body:r,title:a},params:i.appendIgnoreWarningsParam(o)})},n.getCertificateOfUser=function(t,i){return e.get("/api-1.1/courses/"+t+"/certificate?userId="+i)},n.createCertificate=function(t){return e.post("/api-1.1/courses/"+t+"/certificate")},n.logView=function(t,i,n,r){return e({url:"/api-1.1/discover/log/view",method:"POST",data:{page:n,ids:r.join(","),context:t,subcontext:i}})},n}]),define("course-taking-dashboard.app/../../services/Course",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.update=function(t,n,r){return e({url:"/api-1.1/discussions/"+t,method:"PUT",data:n,params:i.appendIgnoreWarningsParam(r)})},n.remove=function(t){return e({url:"/api-1.1/discussions/"+t,method:"DELETE"})},n.deleteDiscussionReply=function(t,i){return e({url:"/api-1.1/discussions/"+t+"/replies/"+i,method:"DELETE"})},n.addDiscussionReply=function(t,n,r){return e({url:"/api-1.1/discussions/"+t+"/replies",method:"POST",data:{body:n},params:i.appendIgnoreWarningsParam(r)})},n.updateDiscussionReply=function(t,n,r,a){return e({url:"/api-1.1/discussions/"+t+"/replies/"+n,method:"PUT",data:{body:r},params:i.appendIgnoreWarningsParam(a)})},n.getDiscussionReplies=function(t,i,n){return e({url:"/api-1.1/discussions/"+t+"/replies/",method:"GET",params:{p:i,pageSize:n}})},n}]),define("course-taking-dashboard.app/../../services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.isCourseAnnouncementRateLimitReached=function(t){return e.get("/api-1.1/users/me/rate-limits/course-announcement/",{params:{courseId:t}})};var i={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio","fields[user]":"@min"};return t.getTakingCourses=function(t,n,r){var a={page:t,page_size:n};return angular.extend(a,i),r&&(a.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:a})},t.getTeachingCourses=function(t,i,n){var r={page:t,page_size:i,"fields[course]":"@default,earnings,status_label,is_private","fields[user]":"@min"};return n&&(r.search=n),e.get("/api-2.0/users/me/taught-courses",{params:r})},t.getWishlistedCourses=function(t,i,n){var r="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription",a={page:t,page_size:i,"fields[course]":r,"fields[user]":"@min"};return n&&(a.search=n),e.get("/api-2.0/users/me/wishlisted-courses",{params:a})},t.getArchivedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,n,r,a){var o={page:t,page_size:n,min_progress:r,max_progress:a};return angular.extend(o,i),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:i})},t.unfavoriteCourse=function(t){return e.delete("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:i})},t.unarchiveCourse=function(t){return e.delete("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e.delete("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t}]),define("course-taking-dashboard.app/../../services/User",function(){}),angular.module("services").factory("Scroll",function(){var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("course-taking-dashboard.app/../../services/Scroll",function(){}),define("ud.googleanalytics",["jquery","jquery-migrate"],function(){UD=UD||{},UD.GoogleAnalytics={trackEvent:function(e,t,i,n,r){if(_gaq&&e&&t){var a=["_trackEvent",e,t];i&&a.push(i),n&&a.push(parseInt(n)||0),r&&a.push(Boolean(n)),_gaq.push(a)}}}}),angular.module("services").factory("Onboarding",["$http","$rootScope",function(e,t){var i=function(e){angular.extend(this,e)};return i.getOptions=function(t){return e({url:t,method:"GET"})},i.start=function(e,n,r){t.$watch("chaptersAndLectures",function(t){t&&e&&i.getOptions(e).success(function(e){e&&(require(["introjs","jquery","ud.googleanalytics"],function(t,i){var n=t();n.setOptions(e),n.start(),i(".introjs-nextbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","step-"+(n._currentStep-1)+"-next")}),i(".introjs-skipbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","exit")}),i(".start-tour-btn").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","start"),n.goToStep(2),window.scrollTo(0,0)}),r&&r(n)}),"undefined"!=typeof n&&n&&i.end(n))})},!0)},i.end=function(t){return e({url:t,method:"POST"})},i}]),define("course-taking-dashboard.app/../../services/Onboarding",function(){}),define("course-taking-dashboard.app/../../services/Utils",["angular"],function(e){e.module("services").factory("Utils",["$timeout","$q",function(t,i){var n=function(t){e.extend(this,t)};return n.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},n.removeItemFromArray=function(e,t){var i=t.indexOf(e);return 0>=i?(t.splice(i,1),!0):!1},n.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},n.convertParamToBool=function(e){return"true"===e||e>0},n.UdemyApiHelper={appendIgnoreWarningsParam:function(e,t){return t=t||{},t.ignoreWarnings=n.convertBoolToInt(e),t}},n.htmlTagsHasContent=function(e){return!!n.trimTags(e)},n.joinObjWithEnclosedTag=function(e,t){var i,n="";for(i in e)e.hasOwnProperty(i)&&(n+="<"+t+">"+e[i]+"</"+t+">");return n},n.debounce=function(e,n,r){var a,o=i.defer();return function(){var s=this,u=arguments,c=function(){a=null,r||(o.resolve(e.apply(s,u)),o=i.defer())},d=r&&!a;return a&&t.cancel(a),a=t(c,n),d&&(o.resolve(e.apply(s,u)),o=i.defer()),o.promise}},n}])}),define("course-taking-dashboard.app/../../services",["./services/Activity","./services/Announcement","./services/Course","./services/Discussion","./services/User","./services/Scroll","./services/Onboarding","./services/Utils"],function(){}),define("course-taking-dashboard.app/../../filters/jsonutils",["angular"],function(e){e.module("filters",[]).filter("prettyJSON",function(){return function(e){var t,i=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"string"==i?t=JSON.parse(e):"object"==i&&(t=e),JSON.stringify(t,null,4)}})}),define("course-taking-dashboard.app/../../filters/htmlutils",["angular","jquery","../services/Utils"],function(e,t){e.module("filters",[]).filter("textToHtml",function(){return function(e){if(!e)return e;e=t("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var i,n=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r=[],a=[];i=n.exec(e);)r.push(i.index),a.push(i[0]);if(0===r.length)return e;for(var o,s=e.substring(0,r[0]),u=0;u<r.length;u++)o=u+1<r.length?e.substring(r[u],r[u+1]):e.substring(r[u]),s+=o.replace(a[u],'<a href="'+a[u]+'" target="_blank">'+a[u]+"</a>");return s}}).filter("isStrippedHTMLEmpty",["Utils",function(e){return function(t){return!e.trimTags(t)}}]).filter("thousandsToK",function(){return function(e){return e>=1e3?(e=Math.round(e/100)/10,e.toString().replace(".0","")+"K"):e.toString()}}).filter("mysqlDate",["$filter",function(e){return function(t,i){var n=t.split(/[- :]/),r=new Date(n[0],n[1]-1,n[2],n[3]||0,n[4]||0,n[5]||0);return e("date")(r,i)}}]).filter("firstNameRestInitials",function(){return function(e){var t=e.split(" ");return t[0]+" "+t.slice(1).join(" ").replace(/(\S)\S*\s*/gi,"$1.")}})}),define("course-taking-dashboard.app/../../filters/moment",["angular","moment-timezone"],function(e,t){t.lang(UD.me.locale),e.module("filters",[]).filter("fromNow",function(){return function(e){return e?t.tz(e,"America/Los_Angeles").subtract("seconds",3).fromNow():t().fromNow()}}).filter("humanize",function(){return function(e){var i=t.duration({seconds:e}),n=i.hours(),r=i.minutes(),a=i.seconds();return(n?n+":":"")+(10>r?"0"+r:r)+":"+(10>a?"0"+a:a)}})}),define("course-taking-dashboard.app/../../filters/fixurl",["angular","jsuri"],function(e,t){e.module("filters",[]).filter("fixurl",function(){return function(e){var i=window.location.pathname,n=new t(e),r=n.path(),a=n.anchor();"/"===r.slice(-1)&&"/"!==i.slice(-1)&&n.setPath(r.substr(0,r.length-1)),"/"!==a.substr(0,1)&&n.setAnchor("/"+a);var o=new t(window.location),s=o.query().toString();return s&&n.setQuery(s),n.toString()}})}),define("course-taking-dashboard.app/../../filters/ceil",["angular"],function(e){e.module("filters",[]).filter("ceil",[function(){return function(e){return Math.ceil(e)}}])}),define("course-taking-dashboard.app/../../filters/currency",["angular"],function(e){e.module("filters",[]).filter("noFractionCurrency",["$filter","$locale",function(e,t){var i=e("currency"),n=t.NUMBER_FORMATS;return function(e,t){var r=i(e,t);return r.replace(new RegExp("\\"+n.DECIMAL_SEP+"\\d{2}"),"")}}])}),define("course-taking-dashboard.app/../../filters",["./filters/jsonutils","./filters/htmlutils","./filters/moment","./filters/fixurl","./filters/ceil","./filters/currency"],function(){}),define("course-taking-dashboard.app/../../directives/common/utils",["angular","jquery"],function(e,t){e.module("directives").directive("preventClick",function(){return function(e,i){t(i).click(function(e){e.preventDefault()})}}).directive("stopPropagation",function(){return function(e,i,n){var r=e.$eval(n.stopCondition);r&&t(i).on(n.stopPropagation,function(e){e.stopPropagation()})}}).directive("initPopup",function(){return function(e,i){var n=["ud.popup"];require(n,function(){t(i).ud_popup()})}}).directive("initializeUdWidget",function(){return function(e,i,n){var r=n.moduleId,a=n.fname;require([r],function(){t(i)[a]()})}}).directive("initializeBootstrapTooltip",function(){return function(){require(["bootstrap"],function(){t('[data-toggle="tooltip"]').tooltip()})}}).directive("initializeUdPopupOnEvent",function(){return function(e,i,n){var r=n.initializeUdPopupOnEvent;e.$on(r,function(){var e=["ud.popup"];require(e,function(){t(i).ud_popup()})})}}).directive("initializeUdPopupOnValueChange",function(){return function(e,i,n){var r=n.initializeUdPopupOnValueChange;e.$watch(r,function(e){if(e){var n=["ud.popup"];require(n,function(){t(i).ud_popup()})}})}}).directive("textAreaExpand",function(){return function(e,i,n){var r=n.minHeight,a=n.maxHeight;require(["jquery.textarea-expander"],function(){t(i).TextAreaExpander(r,a)})}}).directive("focusOn",["$timeout",function(e){return function(i,n,r){i.$watch(r.focusOn,function(a){a===!0&&e(function(){var e=t(n[0]).val();t(n[0]).focus().val("").val(e),i[r.focusOn]=!1})})}}]).directive("blurOn",["$timeout",function(e){return function(i,n,r){i.$watch(r.blurOn,function(a){a===!0&&e(function(){var e=t(n[0]).val();t(n[0]).blur().val("").val(e),i[r.blurOn]=!1})})}}]).directive("infiniteScroll",function(){return function(e,t,i){var n=t[0];setInterval(function(){n.scrollTop+n.offsetHeight+500>=n.scrollHeight&&e.$apply(i.infiniteScroll)},100)}}).directive("udMaxlength",function(){return{require:"ngModel",link:function(e,t,i,n){function r(e){return n.$setValidity("unique",e.length<=a),e}var a=Number(i.udMaxlength);n.$parsers.push(r)}}})}),define("course-taking-dashboard.app/../../directives/common/ud-wysiwyg",["angular","../../services/Utils"],function(e){e.module("directives").directive("udWysiwyg",["Utils",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@",defaultText:"=",editorValueCollectedFn:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/ud-wysiwyg.tpl.html",link:function(t,i){t.initEditor=function(){var n=function(e){t.editorValue=e,t.$$phase||t.$root.$$phase||t.$apply()};i.ud_wysiwyg({changeCallback:e.debounce(n,500,!1),placeholder:t.placeholderText}),t.setValue(t.editorValue)},t.getValue=function(){return i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").getValue()},t.setValue=function(e){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").setValue(e)},t.resetValue=function(){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").setValue("")},t.destroyEditor=function(){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").destroy()},t.$watch("requestEditorValue",function(e){e===!0&&t.editorValueCollectedFn&&t.editorValueCollectedFn(t.editorValue?t.editorValue:"")}),t.$watch("requestResetValue",function(e){e===!0&&t.resetValue()}),t.$watch("requestEditorInit",function(e){e===!0&&require(["ud.wysiwyg"],function(){t.initEditor()})}),t.$watch("placeholderText",function(e){i.attr("placeholder",e)})}}}])}),define("course-taking-dashboard.app/../../directives/common/popup",["angular","jquery","jsuri"],function(e,t,i){e.module("directives").directive("popup",["$timeout","$parse",function(e,n){return{scope:{open:"=?"},restrict:"EA",terminal:!0,link:function(r,a,o){var s;o.beforeClose&&(s=function(){n(o.beforeClose)(r)});var u={scrolling:"auto",width:o.width||400,height:o.height||"auto",minWidth:o.width||400,minHeight:o.height||"auto",autoDimensions:!1,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,wrapCSS:"static-content-wrapper",beforeClose:function(){t("#fancybox-overlay").addClass("noopacity");var i=s?s():!0;return e(function(){r.$apply()},0),i}};if(o.href){u.type="ajax";var c=new i(o.href);c.addQueryParam("displayType","ajax"),u.href=c}a.css("display","block"),r.$watch("open",function(e){e&&(t.fancybox.open(a,u),r.open=!1)}),r.$watch(function(){return n(o.reposition)(r)},function(e){e&&t.fancybox.reposition()})}}}])}),define("course-taking-dashboard.app/../../directives/common/ajax-loader",["angular"],function(e){e.module("directives",[]).directive("ajaxLoader",function(){return{restrict:"E",replace:!0,scope:{loading:"="},template:'<span ng-show="loading" class="ajax-loader-stick" style="padding: 0px 25px;"></span>'}})}),define("jquery-widget-init",["jquery","jquery-migrate","jquery.ui","bootstrap"],function(e){var t=e.fn.button.noConflict();return e.fn.btn=t,Function.prototype.context=function(e){if(arguments.length<2&&"undefined"===arguments[0])return this;var t=this,i=arguments;return function(){for(var n=[],r=1;r<i.length;r++)n.push(i[r]);for(r=0;r<arguments.length;r++)n.push(arguments[r]);return t.apply(e,n)}},e}),define("ud.page",["jquery-widget-init","ud-link","jsuri","jquery.ba-throttle-debounce"],function(e,t,i){e.widget("ud.ud_page",{options:{pages:[]},_create:function(){if(this.element.data("page-name")){this.options.pages=this.element.data("page-name").split(",");for(var e=0;e<this.options.pages.length;e++)"undefined"!=typeof this._pages[this.options.pages[e]]&&this._pages[this.options.pages[e]].apply(this)}window.tmp=this},destroy:function(){},_pages:{}}),e.extend(e.ud.ud_page.prototype._pages,{"import-content":function(){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").show(),this.element.find("#title").val()||this.element.find("#title").val(t.title),this.element.find("#description").val()||this.element.find("#description").val(t.description)}.context(this))},"quick-import-content":function(){this.element.find("button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("#title").val(t.title),this.element.find("#description").val(t.description),this.element.find("button").show()}.context(this))},"message-delete-icon-hover":function(){this.element.hover(function(){e(this).find(".delete").show()},function(){e(this).find(".delete").hide()})},"admin-affiliate-approval":function(){this.element.click(function(t){t.preventDefault(),e.ajax({url:e(t.currentTarget).attr("href")}).success(function(i){UD.Utils.Feedback.fromText(i,"info"),e(t.currentTarget).parent().html('<span class="text-success">Done</span>')}).fail(function(i){UD.Utils.Feedback.fromText(i.responseText,"error"),e(t.currentTarget).parent().html('<span class="text-danger"><i class="icon-warning-sign text-danger"></i> Error</span>')})}.context(this))},"admin-reset-password":function(){this.element.click(function(){var t=this.element.parent().children(".resetPasswordResult");t.text("...");var i={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetPassword",i,function(e){t.html(e)})}.context(this))},"admin-reset-certificate":function(){this.element.click(function(){if(confirm("Are you sure you want to reset this certificate?")){var t=this.element.parent(".resetLinkContainer");t.text("..."),e.post("/apps/admin/certificate/reset",{certificateId:this.element.data("certificateId")},function(e){t.html(e)})}}.context(this))},"admin-reset-website-token":function(){this.element.click(function(){var t=this.element.parent().children(".resetWebsiteTokenResult");t.text("...");var i={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetWebsiteToken",i,function(e){t.html(e)})}.context(this))},"admin-course-update-organization":function(){this.element.click(function(){var t=this.element.parent().children(".result"),i=0;t.text("..."),""!==this.element.parent().find("#organizationId-text").val().trim()&&(i=this.element.parent().children("#update-source-organization-form").find("#organizationId").val());var n={courseId:this.element.data("courseId"),organizationId:i};e.post("/apps/admin/course/updateOrganization",n,function(e){t.html(e)})}.context(this))},"admin-course-update-subcategory":function(){this.element.parent().on("course_subcategory_changed",function(){e("#form-item-isLocked",this.element).removeClass("none")}),this.element.click(function(){var t=this.element.parent().children(".result"),i=this.element.parent().children("#update-course-subcategory-form"),n=i.find("#courseSubcategoryId").val(),r=i.find("#isLocked").is(":checked")?1:0;if(t.html("..."),n){var a={courseId:this.element.data("courseId"),courseSubcategoryId:n,isLocked:r};e.post("/apps/admin/course/updateCourseSubcategory",a,function(e){t.html(e)})}else t.html("Please select a subcategory!")}.context(this))},"admin-generate-change-password-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-change-password-link-result"),i=this.element;t.text("..."),e.post("/apps/admin/user/generateChangePasswordLink",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-generate-backdoor-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-backdoor-link-result"),i=this.element;t.text("..."),e.post("/apps/admin/user/generateBackdoorLink",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-activate-user-email":function(){this.element.click(function(){var t=this.element.parent().children(".user-email-status"),i=this.element;t.text("..."),e.post("/apps/admin/user/activateUserEmail",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-mark-as-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".markingResult");t.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/mark-as-fraudster",i,function(e){t.html(e)})}.context(this))},"admin-unmark-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".unmarkingResult");t.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/unmark-fraudster",i,function(e){t.html(e)})}.context(this))},"admin-send-receipt":function(){this.element.click(function(){var t=this.element.parent().children(".sendReceiptResult");t.text("...");var i={transactionId:this.element.data("transactionId")};e.post("/apps/admin/user/send-receipt",i,function(e){t.html(e)})}.context(this))},"admin-copy-dispute-response":function(){this.element.click(function(){var t={transactionId:this.element.data("transactionId")};e.post("/apps/admin/manage-user-payment/generateDisputeInfo",t,function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)})}.context(this))},"admin-block-transaction-courses":function(){this.element.click(function(){var t=this.element,i=t.parent().children(".result");i.text("...");var n=t.data("blockStatus"),r={transactionId:t.data("transactionId"),blockStatus:n};e.post("/apps/admin/manage-user-payment/updateBlockStatus",r,function(e){i.html(e),n?(t.data("blockStatus",0),t.text("Unblock")):(t.data("blockStatus",1),t.text("Block"))})}.context(this))},"admin-test-asset-starred-form":function(){this.element.on("submit",function(){return e.post(this.element.attr("action"),this.element.serialize(),function(e){this.element.next().html(e)}.context(this),"json"),!1}.context(this)),this.element.find("input[type=checkbox]").on("change",function(){this.element.submit()}.context(this))},"admin-collection-memcache-reset-link":function(){this.element.click(function(){var t=this.element.parent().children(".collection-memcache-reset-result"),i=this.element;t.text("..."),e.post("/apps/admin/collection/resetCollectionMemcache",{collectionId:i.data("collectionId")},function(e){t.html(e),i.remove()})}.context(this))},"init-price-form":function(){var t=this.element.find("form"),i=function(){var e=t.find('input[name="isPremium"]:checked');0!==e.length&&("Yes"==e.attr("value")?(t.find("#form-item-initPrice").show(),t.find("#form-item-recurringPrice").show()):(t.find("#form-item-initPrice").hide(),t.find("#form-item-recurringPrice").hide()))};t.find("#form-item-isPremium input").each(function(){e(this).change(function(){i()})}),i()},"remove-links":function(){this.element.find("a").click(function(e){e.preventDefault()
})},"test-video-toggle-form-button":function(){this.element.on("click",function(){var t=e(".test-video-form");t.is(":hidden")?t.slideDown():t.slideUp()})},"toggle-change-price-form":function(){var t=300,i=this.element.find(".change-pricing"),n=this.element.find(".show-pricing");e(".toggle-price-form").on("click",e.debounce(100,function(){n.slideToggle(t,function(){i.slideToggle(t),i.css("display","block")})}).context(this)),e(".change-pricing .cancel-link").on("click",e.debounce(100,function(){i.slideToggle(t,function(){n.slideToggle(t),n.css("display","block")})}).context(this))},"mark-announcement-as-read":function(){this.element.find(".unread").click(function(t){e(t.currentTarget).removeClass("unread"),e(t.currentTarget).addClass("read")})},"resize-course-title-page-element":function(){var t=function(){var t=this.element,i=0;marginTop=t.outerHeight(!0)-t.innerHeight(),t.siblings("div").each(function(){i+=e(this).outerHeight(!0)});var n=t.parent().height(),r=n-i;t.height(r);var a=t.height(),o=0,s=!0,u=0;do u=o,o=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)<60?parseInt(fontSize)+1:parseInt(fontSize):parseInt(fontSize)<42?parseInt(fontSize)+1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),o+=e(this).outerHeight(!0)}),o==u&&(s=!1);while(s&&a>o);do u=o,o=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)>24?parseInt(fontSize)-1:parseInt(fontSize):parseInt(fontSize)>12?parseInt(fontSize)-1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),o+=e(this).outerHeight(!0)}),o==u&&(s=!1);while(s&&o>a);var c=a-o;this.element.children(":nth-child(1)").css("marginBottom",c/2+"px")}.context(this);t(),e(window).resize(t)},"ajaxify-pagination":function(){e("li[class*=navigation-] a",this.element).live("click",function(){var t=e(this);t.closest(".slider-pagination").addClass("on");var i=t.attr("href");return e.ajax({type:"GET",url:i+"&displayType=ajax",success:function(e){t.closest(".courses").replaceWith(e)}}),!1})},"clear-notifications":function(){var t=this;this.element.click(function(i){var n=t.element.data("num");t.element.closest("#notifications").hide(),e("#dashboard-controller")&&e("#dashboard-controller").find("li.selected .notifier").hide(),e("#u_bar").find(".my-courses-dropdown")&&(e("#u_bar").find(".my-courses-dropdown:first").find("b").text(--n),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("b").text()&&e("#u_bar").find(".my-courses-dropdown").find("b").hide(),e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier")&&(e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text(--n),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text()&&e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").hide())),e.ajax({type:"GET",url:t.element.attr("href")}),i.preventDefault()})},"settings-page":function(){"disableAllEmails"==e("input#disableAllEmails",this.element).attr("id")&&e("input#disableAllEmails",this.element).attr("checked")&&this.element.find(".settings-form-l2 input[type=checkbox]").attr("disabled","disabled"),e("input,select",this.element).change(function(t){e(t.target).parents("form").find("button").removeClass("disabled")}),e("input#disableAllEmails",this.element).change(function(t){e(t.target).attr("checked")?e("#general-notification-settings input[type=checkbox]",this.element).attr("disabled","disabled"):e("#general-notification-settings input[type=checkbox]",this.element).removeAttr("disabled")}.context(this))},"categorized-select":function(){var t=this.element;t.hide();var i=t.find("option"),n={},r={},a=[],o="",s=e('<select style="width:auto"></select>');s.append('<option selected="selected" value="">-- Select One --</option>'),e("body").append(s);var u;e.each(i,function(t){if(0!=t)var i=e(this).attr("category");e(this).attr("selected")&&(a=e(this).val(),0!=t&&(o=i)),0!=t&&(n[i]||(n[i]=[],r[i]=[],s.append('<option value="'+i+'">'+i+"</option>")),n[i].push(e(this)),r[i].push(e(this).text()))});var u=e("<span>&nbsp;&gt;&nbsp;</span>");u.hide(),t.before(s).before(u);var c=function(i){t.html(""),i?(t.append('<option selected="selected" value="">-- Select One --</option>'),e.each(n[i],function(e){var n="";a==this.val()&&(t.children().removeAttr("selected"),n='selected="selected"'),t.append('<option category="'+i+'" value="'+this.val()+'" '+n+">"+r[i][e]+"</option>")}),u.show(),u.css("display","inline"),t.show()):(t.hide(),u.hide())};s.change(function(t){c(e(t.target).val())}),o&&(s.val(o),c(o))},"make-all-downloadable":function(){e("input[name=CheckAll]",this.element).click(function(){e("input[type=checkbox]").attr("checked","checked")}),e("input[name=UnCheckAll]",this.element).click(function(){e("input[type=checkbox]").removeAttr("checked")})},"manage-lectures":function(){e(".lectures li.certificate").hover(function(){e.each(e(this).attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).addClass("highlighted")})},function(){e.each(e(this).attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).removeClass("highlighted")})}),e("#sortable-lectures-list a.deleteItem").click(function(){var i=this.rel,r=e(this).closest("li"),a=e(this).closest("ul");if(r.addClass("deleting"),r.hasClass("chapter"))var o=1;if(o)var s=t.to("lecture","delete-chapter",{chapterId:i,displayType:"ajax"});else var s=t.to("lecture","delete",{lectureId:i,displayType:"ajax"});if(o)var u=confirm("Are you sure you want to remove this chapter?");else var u=confirm("Are you sure you want to remove this lecture?");return u&&e.post(s,function(){r.fadeOut(function(){n(a)})}),!1});var i=function(e){e.sortable({update:function(){n(e)}})}.context(this),n=function(t){e.post(this.element.data("post-url"),t.sortable("serialize"),function(){var t=0,i=!1,n=0;e.each(e("#sortable-lectures-list li"),function(r,a){e(this).hasClass("lecture")?(e(".lecture-index",this).text(t+=1),i&&e(this).hasClass("chaptered")?e(this).addClass("chaptered"):!i&&e(this).hasClass("chaptered")&&e(this).removeClass("chaptered")):e(this).hasClass("chapter")&&(i=!0,n=a+1,t=0)}),e("#sortable-lectures-list li").removeClass("deleting")})}.context(this);i(e("#sortable-lectures-list")),e(".highlight-requirements a").click(function(){"highlight requirements"==e(this).text()?(e(this).text("unhighlight requirements"),e(this).closest("div").removeClass("highlight-requirements"),e(this).closest("div").addClass("unhighlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).addClass("constant-highlighted")}),e(this).closest(".highlighted-links").addClass("constant-highlighted-links")):"unhighlight requirements"==e(this).text()&&(e(this).text("highlight requirements"),e(this).closest("div").removeClass("unhighlight-requirements"),e(this).closest("div").addClass("highlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).removeClass("constant-highlighted")}),e(this).closest(".highlighted-links").removeClass("constant-highlighted-links"))})},"date-form-item-opts":function(){var t=this.element.data("disable-weekdays"),i=this.element.data("disable-pastdays"),n=this.element.data("disable-pastmonths"),r=this.element.data("weekdays");this.element.siblings("#"+this.element.data("id")).datepicker("option","beforeShowDay",function(a){if(res=[!0],t)for(var o=a.getDay(),s=0;s<r.length;s++)-1!=e.inArray(o,r)&&(res=[!1]);if(i){var u=new Date;u.setDate(u.getDate()-1);var c=u.getTime()+6e4*u.getTimezoneOffset(),d=new Date(c+-288e5);d>=a&&(res=[!1])}if(n){{var l=new Date;a.getMonth()}l.setDate(0),l>a&&(res=[!1])}return res})},"payment-report":function(){function t(){var t=I.element.data("month"),i=I.element.data("course"),n=e("#dashboard-content").data("userid"),r="?userId="+n;return t&&(r+="&month="+t),i&&(r+="&course="+i),r}function i(e,t){var i=e.split("="),n=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]);return n==t?r:null}function n(){require(["jquery.jqGrid"],function(){var e=c("sale-type"),i=t(),n=c(E),a=c(D),o=c(x);r(f+i,v,w,_,E,n),r(g+i,y,k,C,D,a),e&&"all"!=e?(r(p+i+"&saleType="+e,h,b,T,x,o),l("#"+e)):r(p+i,h,b,T,x,o)})}function r(t,i,n,r,a,s){return t.length<=0?!1:((!s||0>=s)&&(s=1),void e.ajax({type:"GET",url:i,data:"",dataType:"json",success:function(i){colNames=i.colNames,colModel=i.colModel,tableCaption=i.caption,require(["jquery.jqGrid"],function(){e(n).jqGrid("GridUnload"),e(n).jqGrid({url:t,datatype:"json",height:"100%",autowidth:!0,pager:r,rowNum:30,rowList:[10,20,30,40,50],colNames:colNames,colModel:colModel,viewrecords:!0,shrinkToFit:!0,caption:tableCaption,page:s,emptyDataText:"No records to view!",cellattr:function(){return'style="white-space: normal;'},gridComplete:function(){0==e(n).getGridParam("records")&&o(n)},onPaging:function(){var t=e(n).getGridParam("page");d(a,t)}}),e(n).jqGrid("navGrid",r,{edit:!1,add:!1,del:!1})}.context(this))}.context(this)}))}function a(e){return e.length>0&&"#"===e[0]&&(e=e.substr(1)),e}function o(t){var i=e(t),n=i.getGridParam("emptyDataText"),r=i.parents(".ui-jqgrid-view");r.find(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv").hide(),r.find(".ui-jqgrid-titlebar").after(""+n)}function s(){var e=document.location.hash;return a(e)}function u(e){window.location.hash=e}function c(e){var t=s(),n=null;if(t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#"))),t.indexOf(",")>-1)for(var r=t.split(","),a=0;a<r.length&&(n=i(r[a],e),null===n);a++);else n=i(t,e);return n}function d(e,t){var n=s(),r=e+"="+t;if(n.length<=0)return void u(r);if(c(e)){for(var a=n.split(","),o=0;o<a.length;o++)if(i(a[o],e)){a[o]=r;break}n=a[0];for(var o=1;o<a.length;o++)n+=","+a[o]}else n+=","+r;u(n)}function l(t){e("#all-tran").attr("class","btn"),e("#coupon").attr("class","btn"),e("#company-coupon").attr("class","btn"),e("#deal").attr("class","btn"),e("#organic").attr("class","btn"),e("#promotion").attr("class","btn"),e("#ad-program").attr("class","btn"),e("#mobile-ad-program").attr("class","btn"),e("#in-app-purchase").attr("class","btn"),e("#email-marketing").attr("class","btn"),e("#affiliate").attr("class","btn"),e(t).attr("class","btn btn-info")}function m(e){var i=e.data.filterType,n=p;n+=t(),n+="&saleType="+i,r(n,h,b,T,x,1),l("all"==i?"#all-tran":"#"+i),d("sale-type",i),d(x,"1")}var p="/dashboard/get-subscriber-transactions",f="/dashboard/get-refunds",g="/dashboard/get-deal-payments",h="/dashboard/transaction-table-info.html",v="/dashboard/refunds-table-info.html",y="/dashboard/deal-payments-table-info.html",b="#transaction-table",w="#refund-table",k="#dealpayment-table",T="#tr-pager",_="#ref-pager",C="#deal-pager",x="tr-page",D="deal-page",E="ref-page",I=this;e("#all-tran",this.element).click({filterType:"all"},m),e("#coupon",this.element).click({filterType:"coupon"},m),e("#company-coupon",this.element).click({filterType:"company-coupon"},m),e("#deal",this.element).click({filterType:"deal"},m),e("#organic",this.element).click({filterType:"organic"},m),e("#promotion",this.element).click({filterType:"promotion"},m),e("#ad-program",this.element).click({filterType:"ad-program"},m),e("#mobile-ad-program",this.element).click({filterType:"mobile-ad-program"},m),e("#in-app-purchase",this.element).click({filterType:"in-app-purchase"},m),e("#email-marketing",this.element).click({filterType:"email-marketing"},m),e("#affiliate",this.element).click({filterType:"affiliate"},m),n()},"feedbacks-bar":function(){var t=this.element.find("div.feedback-bar");t.each(function(t,i){e(i).hide(),e(i).click(function(){e(this).dequeue()})});var i=function(t,n){e(t[n]).slideDown({duration:"slow",queue:!1}).delay(4e3).slideUp("slow",function(){n<t.length-1?i(t,n+1):this.element.hide()}.context(this))}.context(this);this.element.show(),setTimeout(function(){i(t,0)}.context(this),2e3)},"admin-request-approval-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault();var i=e(e(t.target).find("textarea")[0]),n=e(t.target).find("input");if(n.each(function(){return"Rejected"==e(this).val()?(n=e(this),!1):void 0}),""==i.val()&&"checked"==n.attr("checked")){var r=e(e(t.target).find(".notification")[0]);r.html('<span style="color:red">- Enter a reason!</span>')}else e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(){t.target||(t.target=t.srcElement||document),e(t.target).attr("disabled","disabled"),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:green">- Success!</span>')},error:function(){t.target||(t.target=t.srcElement||document),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:red">- Failure!</span>')}})})},"admin-shorten-url-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault(),e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(i){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(i),ele.html("<span class='result "+res.result+"'>"+res.result+":</span> <span class='url'>"+res.info+"</span>")},error:function(i){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(i.responseText),ele.html("<span style='color:red'>Error: "+res+"</span>")}})})},"admin-super-coupon-form":function(){function t(){"given"==e("#course-set").val()?e("#course-ids").removeAttr("readonly"):e("#course-ids").attr("readonly","readonly")}t(),e("#course-set").change(t.context(this))},"affiliate-dashboard":function(){var t=e("input#searchbox");t.on("keypress",function(e){13==e.which&&($uri=new i(window.location).deleteQueryParam("p").replaceQueryParam("q",t.val().trim()),window.location=$uri.toString())})},"organizations-landing":function(){var t=0;setInterval(function(){t++;var i=t%4;e(".discover-courses-list").children().css({opacity:1}).delay(50).animate({opacity:"-=1"},600),setTimeout(function(){e(".discover-courses-list").children().css({display:"none"})},655),setTimeout(function(){var t=e(".discover-courses-list").children().slice(3*i,3*(i+1));t.css({display:"inline-block",opacity:0}).delay(50).animate({opacity:"+=1"},800)},660)},4e3)},"ajax-a-tag":function(){var t=this.element;t.bind("click",function(i){i.preventDefault(),e.ajax(t.attr("href")).done(function(e){t.html(e),t.unbind("click").bind("click",function(e){e.preventDefault()})}).fail(function(){t.html("try again")})})},"ios-deeplink":function(){var e=void 0===this.element.data("fallBackUrl")?null:this.element.data("fallBackUrl"),t=void 0===this.element.data("courseId")?null:this.element.data("courseId"),i="udemy://discover",n=void 0===this.element.data("discoveryTab")?null:this.element.data("discoveryTab");e=decodeURIComponent(e),t?(t=parseInt(t),t&&(i+="?courseId="+t)):n&&(i+="?discoverUnitId="+n),window.setTimeout(function(){window.location=e},400),window.location=i},"android-deeplink":function(){var e=this.element,t=void 0===e.data("fallBackUrl")?null:e.data("fallBackUrl");window.setTimeout(function(){window.location=decodeURIComponent(t)},400)},"teach-iframe":function(){e("body").on("change",function(){parent.resizeIframe()})},"close-promote-mobile":function(){e(".close-promote-mobile",this.element).click(function(){UD.API.call("/users/me/settings/",{type:"POST",data:{settings:{showDownloadMobileBanner:0}}}),this.element.slideUp(1e3)}.bind(this))},"survey-hide-phone-number":function(){e("#form-item-phoneNumber",this.element).children("label").hide(),e("#emailSubscriberList, #youtubeSubscriberList",this.element).change(function(){var t=parseInt(e("#emailSubscriberList").val()),i=parseInt(e("#youtubeSubscriberList").val());t>=5e3||i>=5e3?e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).show():e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).hide()}),e("#emailSubscriberList, #youtubeSubscriberList",this.element).trigger("change")},"landing-page-v41":function(){var t=e(".show-nav-on-this",this.element);if(t.length){var i,n=e(".hidden-course-bar",this.element),r=t.offset().top;e(window).scroll(function(){i=e(this).scrollTop(),i>r-65?n.addClass("slideDown"):n.removeClass("slideDown")})}e(".cur-list-row").toggle(function(){e(this).addClass("on")},function(){e(this).removeClass("on")}),e(".landing-page").scrollspy({target:"#scrollspy"})}})}),define("ud.procedurals",["jquery-widget-init","ud.page"],function(e){window.popitup=function(e,t,i){var n=window.open(e,"Popup","width="+t+",height="+i);return window.focus&&n.focus(),!1},window.iePlaceholder=function(){e(".ie input[type=text], .ie input[type=email],.ie input[type=search], .ie textarea").each(function(){var t=e(this).attr("placeholder");e(this).val()||e(this).val(t),e(this).focus(function(){e(this).val()==t&&e(this).val("")}).blur(function(){e(this).val()||e(this).val(t)})})}}),define("ud.tabs",["jquery","jquery-migrate"],function(e){var t=function(){return location.hash},i=function(){var i=e(t()),n=e('a[href="'+t()+'"]').parent();i.siblings().hide(),i.show(),n.siblings().removeClass("on"),n.addClass("on")};e.fn.tabnav=function(n){return this.each(function(){var r=this,a=function(){"function"==typeof n&&n.call(this)};!t()||t()&&!e(t(),r).length?(e(">ul li:first-child",r).addClass("on"),e(">div>div:first-child",r).fadeIn(function(){a()})):i()})};var n=function(){e(".ins-slider").each(function(){e(t()).closest(".ins-bio").length&&r.init(e(this),e(t()).index())})},r={init:function(t,i){0>i&&(i=0);var n={ul:e(">.mask>ul",t),details_mask:t.parent().find(".ins-details-mask"),nav:e(">a",t),prev:e("a.prev",t),next:e("a.next",t),ins_count:function(){return e("li",this.ul).size()}},r=function(){n.prev.attr("href","#inst"+(i-1)),n.next.attr("href","#inst"+(i+1)),n.ul.css("margin-left",-90*i),n.details_mask.css("left",-100*i+"%"),n.nav.removeClass("disabled"),1>i&&n.prev.addClass("disabled"),i>=n.ins_count()-1&&n.next.addClass("disabled")};r(i)}};e.fn.initTabs=function(){window.onhashchange=function(){i(),n()},window.onload=function(){n()}}}),define("ud.initializer",["jquery-widget-init","ud-link","jquery-ui-timepicker-addon","ud.procedurals","ud.tabs"],function(e,t){e.fn.ud_initialize=function(i){var n={onComplete:function(){}},r=e.extend(n,i),a=e(this);e("#home-link",a).bind("contextmenu",function(){return!1}).mousedown(function(t){3==t.which&&(t.preventDefault(),e("#logo-popup",a).css("top",0))}),e(".logo-popup-close",a).click(function(){e("#logo-popup",a).css("top","-300px")}),e(".date-time-form-item.fixed-time").each(function(i,n){var r={showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",showHour:!1,showMinute:!1,showSecond:!1,showTime:!1,showButtonPanel:!1,hour:23,minute:59,onSelect:function(){e(this).datepicker("hide")}};e(n).data("disable-pastdays")&&(r.minDate=new Date),e(n).datetimepicker(r)}),e(".date-time-form-item").datetimepicker({showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",hour:23,minute:59}),e(".date-form-item").datepicker({showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",showButtonPanel:!1,onSelect:function(){e(this).datepicker("hide")}}),e(".time-form-item").timepicker({ampm:!0}),e(".auth input",a).focus(function(){e(this).parent().removeClass("error wrong")}),window.iePlaceholder(),e(".simple-tooltip",a).each(function(){e(this).prepend("<span>"+e(this).data("tooltip")+"</span>")}),e('[data-toggle="tooltip"]').tooltip({container:"body",animation:!1}),e(".collapsable-text",a).each(function(){var t=e(this),i=t.height(),n=parseInt(t.data("collapsable-text-height"))+20,r="(more)",a=t.data("more-btn-text");a&&(r=a);var o="(less)",s=t.data("less-btn-text");s&&(o=s),i>n&&(e(this).addClass("compressed"),t.height(n),t.after("<a href='' class='collapsable-more'><b>"+r+"</b></a>"),e(".collapsable-more").toggle(function(){return e(this).prev().css("height","auto").removeClass("compressed"),e(this).addClass("collapsable-less"),e(this).text(o),!1},function(){return e(this).prev().height(n).addClass("compressed"),e(this).removeClass("collapsable-less"),e(this).text(r),!1}))}),e(".js-simple-collapse",a).each(function(){var t=e(this),i=t.height(),n=parseInt(t.data("height")),r="more",a=t.data("more");a&&(r=a),i>n&&(e(this).addClass("oh"),t.height(n),t.after("<a href='#' class='more-btn dib mt10'>"+r+"</a>"),e(".more-btn").click(function(){return e(this).prev().css("height","auto"),e(this).remove(),e(".landing-page").scrollspy("refresh"),!1}))});var o=new Array;o[".input-table"]={mid:"ud.formtooltips",fname:"formTooltips"},o["[rel=isEmailValid]"]={mid:"ud.emailValidator",fname:"emailValidator"},o["#collapsible-menu"]={mid:"ud.collapse",fname:"collapseMenu"},o[".dropdownmenu"]={mid:"ud.dropdown",fname:"dropdownmenu"},o["input[type=radio].ud-star"]={mid:"jquery.rating",fname:"rating"},o["textarea[class*=expand]"]={mid:"jquery.textarea-expander",fname:"TextAreaExpander"},o[".ud-actionlogger"]={mid:"ud.actionlogger",fname:"ud_actionlogger"},o[".ud-android-smart-banner"]={mid:"ud.android.smart.banner",fname:"ud_android_smart_banner"},o[".ud-articlecreator"]={mid:"ud.articlecreator",fname:"ud_articlecreator"},o[".ud-assetcreator"]={mid:"ud.assetcreator",fname:"ud_assetcreator"},o[".ud-assetcreator-externallink"]={mid:"ud.assetcreator.externallink",fname:"ud_assetcreator_externallink"},o[".ud-assetcreator-fileuploader"]={mid:"ud.assetcreator.fileuploader",fname:"ud_assetcreator_fileuploader"},o[".ud-audiocreator"]={mid:"ud.audiocreator",fname:"ud_audiocreator"},o[".ud-autocomplete"]={mid:"ud.autocomplete",fname:"ud_autocomplete"},o[".ud-autosuggestformitem"]={mid:"ud.autosuggestformitem",fname:"ud_autosuggestformitem"},o[".ud-banners"]={mid:"ud.banners",fname:"ud_banners"},o[".ud-bookmark"]={mid:"ud.bookmark",fname:"ud_bookmark"},o[".ud-bulletlistformitem"]={mid:"ud.bulletlistformitem",fname:"ud_bulletlistformitem"},o[".ud-buylicenses"]={mid:"ud.buylicenses",fname:"ud_buylicenses"},o[".ud-categorization"]={mid:"ud.categorization",fname:"ud_categorization"},o[".ud-collection-onelist"]={mid:"ud.collection.onelist",fname:"ud_collection_onelist"},o[".ud-newcouponcodeform"]={mid:"ud.newcouponcodeform",fname:"ud_newcouponcodeform"},o[".ud-coursecarousel"]={mid:"ud.coursecarousel",fname:"ud_coursecarousel"},o[".ud-content-loader"]={mid:"ud.content.loader",fname:"ud_content_loader"},o[".ud-courseimpressiontracker"]={mid:"ud.courseimpressiontracker",fname:"ud_courseimpressiontracker"},o[".ud-courseprivacyformitem"]={mid:"ud.courseprivacyformitem",fname:"ud_courseprivacyformitem"},o[".ud-newcreditcard"]={mid:"ud.newcreditcard",fname:"ud_newcreditcard"},o[".ud-newcreditcardexpirationformitem"]={mid:"ud.newcreditcardexpirationformitem",fname:"ud_newcreditcardexpirationformitem"},o[".ud-curriculumform"]={mid:"ud.curriculumform",fname:"ud_curriculumform"},o[".ud-dashboard"]={mid:"ud.dashboard",fname:"ud_dashboard"},o[".ud-demo"]={mid:"ud.demo",fname:"ud_demo"},o[".ud-disqus"]={mid:"ud.disqus",fname:"ud_disqus"},o[".ud-ebookcreator"]={mid:"ud.ebookcreator",fname:"ud_ebookcreator"},o[".ud-ebookviewer"]={mid:"ud.ebookviewer",fname:"ud_ebookviewer"},o[".ud-extras"]={mid:"ud.extras",fname:"ud_extras"},o[".ud-fileupload"]={mid:"ud.fileupload",fname:"ud_fileupload"},o[".ud-fileuploadform"]={mid:"ud.fileuploadform",fname:"ud_fileuploadform"},o[".ud-s3upload"]={mid:"ud.s3upload",fname:"ud_s3upload"},o[".ud-s3videouploadform"]={mid:"ud.s3videouploadform",fname:"ud_s3videouploadform"},o[".ud-legacy-formajaxify"]={mid:"ud.legacy.formajaxify",fname:"ud_legacy_formajaxify"},o[".ud-form"]={mid:"ud.form",fname:"ud_form"},o[".ud-hellobar"]={mid:"ud.hellobar",fname:"ud_hellobar"},o[".ud-gift-card"]={mid:"ud.giftcard",fname:"ud_giftcard"},o[".ud-branchmetrics"]={mid:"ud.branchmetrics",fname:"ud_branchmetrics"},o[".ud-jwplayer-communicator"]={mid:"ud.jwplayer.communicator",fname:"ud_jwplayer_communicator"},o[".ud-iframecreator"]={mid:"ud.iframecreator",fname:"ud_iframecreator"},o[".ud-imageuploader"]={mid:"ud.imageuploader",fname:"ud_imageuploader"},o[".ud-imageuploadwithpreview"]={mid:"ud.imageuploadwithpreview",fname:"ud_imageuploadwithpreview"},o[".ud-importcontent"]={mid:"ud.importcontent",fname:"ud_importcontent"},o[".ud-inplaceeditor"]={mid:"ud.inplaceeditor",fname:"ud_inplaceeditor"},o[".ud-inplacenoteeditor"]={mid:"ud.inplacenoteeditor",fname:"ud_inplacenoteeditor"},o[".ud-intelligence"]={mid:"ud.intelligence",fname:"ud_intelligence"},o[".ud-intelligence-dropdown"]={mid:"ud.intelligence.dropdown",fname:"ud_intelligence_dropdown"},o[".ud-interests"]={mid:"ud.interests",fname:"ud_interests"},o[".ud-interestsformitem"]={mid:"ud.interestsformitem",fname:"ud_interestsformitem"},o[".ud-invitationrequest"]={mid:"ud.invitationrequest",fname:"ud_invitationrequest"},o[".ud-jwplayer"]={mid:"ud.jwplayer",fname:"ud_jwplayer"},o[".ud-landingpage-curriculum"]={mid:"ud.landingpage.curriculum",fname:"ud_landingpage_curriculum"},o[".ud-loader"]={mid:"ud.loader",fname:"ud_loader"},o[".ud-locale-setting"]={mid:"ud.locale.setting",fname:"ud_locale_setting"},o[".ud-manageinstructors"]={mid:"ud.manageinstructors",fname:"ud_manageinstructors"},o[".ud-mashupcreator"]={mid:"ud.mashupcreator",fname:"ud_mashupcreator"},o[".ud-message"]={mid:"ud.message",fname:"ud_message"},o[".ud-multiplechoicequestionformitem"]={mid:"ud.multiplechoicequestionformitem",fname:"ud_multiplechoicequestionformitem"},o[".ud-notetaking"]={mid:"ud.notetaking",fname:"ud_notetaking"},o[".ud-notifications"]={mid:"ud.notifications",fname:"ud_notifications"},o[".ud-page"]={mid:"ud.page",fname:"ud_page"},o[".ud-floatingmenu"]={mid:"ud.floatingmenu",fname:"ud_floatingmenu"},o[".ud-pagination"]={mid:"ud.pagination",fname:"ud_pagination"},o[".ud-paymentreport"]={mid:"ud.paymentreport",fname:"ud_paymentreport"},o[".ud-scormplayer"]={mid:"ud.scormplayer",fname:"ud_scormplayer"},o[".ud-statementdetail"]={mid:"ud.statementdetail",fname:"ud_statementdetail"},o[".ud-newpayment"]={mid:"ud.newpayment",fname:"ud_newpayment"},o[".ud-popover"]={mid:"ud.popover",fname:"ud_popover"},o[".ud-piechart"]={mid:"ud.piechart",fname:"ud_piechart"},o[".ud-toggler"]={mid:"ud.toggler",fname:"ud_toggler"},o[".ud-popup"]={mid:"ud.popup",fname:"ud_popup"},o[".ud-popupcoursesubmit"]={mid:"ud.popupcoursesubmit",fname:"ud_popupcoursesubmit"},o[".ud-sharebutton"]={mid:"ud.sharebutton",fname:"ud_sharebutton"},o[".ud-presentationcreator"]={mid:"ud.presentationcreator",fname:"ud_presentationcreator"},o[".ud-presentationviewer"]={mid:"ud.presentationviewer",fname:"ud_presentationviewer"},o[".ud-promotion"]={mid:"ud.promotion",fname:"ud_promotion"},o[".ud-readmore"]={mid:"ud.readmore",fname:"ud_readmore"},o[".ud-search"]={mid:"ud.search",fname:"ud_search"},o[".ud-formajax"]={mid:"ud.formajax",fname:"ud_formajax"},o[".ud-announcement"]={mid:"ud.announcement",fname:"ud_announcement"},o[".ud-seologger"]={mid:"ud.seologger",fname:"ud_seologger"},o[".ud-slider"]={mid:"ud.slider",fname:"ud_slider"},o[".ud-signin-form"]={mid:"ud.signin.form",fname:"ud_signin_form"},o[".ud-signup-emailonly"]={mid:"ud.signup.emailonly",fname:"ud_signup_emailonly"},o[".ud-test-asset-comments"]={mid:"ud.testasset.comments",fname:"ud_testasset_comments"},o[".ud-errorpage"]={mid:"ud.errorpage",fname:"ud_errorpage"},o[".ud-template"]={mid:"ud.template",fname:"ud_template"},o[".ud-textexpander"]={mid:"ud.textexpander",fname:"ud_textexpander"},o[".ud-textinput"]={mid:"ud.textinput",fname:"ud_textinput"},o[".ud-tabsformitem"]={mid:"ud.tabsformitem",fname:"ud_tabsformitem"},o[".ud-thumbnailselector"]={mid:"ud.thumbnailselector",fname:"ud_thumbnailselector"},o[".ud-smsmobileapp"]={mid:"ud.smsmobileapp",fname:"ud_smsmobileapp"},o[".ud-updatecreditcards"]={mid:"ud.updatecreditcards",fname:"ud_updatecreditcards"},o[".ud-urltextformitem"]={mid:"ud.urltextformitem",fname:"ud_urltextformitem"},o[".ud-useremailsettingsform"]={mid:"ud.useremailsettingsform",fname:"ud_useremailsettingsform"},o[".ud-usertracker"]={mid:"ud.usertracker",fname:"ud_usertracker"},o[".ud-discover-tracker"]={mid:"ud.discover.tracker",fname:"ud_discover_tracker"},o[".ud-videocreator"]={mid:"ud.videocreator",fname:"ud_videocreator"},o[".ud-videouploadwithpreview"]={mid:"ud.videouploadwithpreview",fname:"ud_videouploadwithpreview"},o[".ud-s3videouploadwithpreview"]={mid:"ud.s3videouploadwithpreview",fname:"ud_s3videouploadwithpreview"},o[".ud-windowpopup"]={mid:"ud.windowpopup",fname:"ud_windowpopup"},o[".ud-wishlist"]={mid:"ud.wishlist",fname:"ud_wishlist"},o[".ud-wysiwyg"]={mid:"ud.wysiwyg",fname:"ud_wysiwyg"},o['[class*="ud-jq-"]']={mid:"ud.jqelement",fname:"ud_jqelement"},o[".ud-angular-loader"]={mid:"ud.angular-loader",fname:"ud_angular_loader"},o[".ud-organization-analytics"]={mid:"ud.organization.analytics",fname:"ud_organization_analytics"},o[".ud-organization-manageusersandgroups"]={mid:"ud.organization.manageusersandgroups",fname:"ud_organization_manageusersandgroups"},o[".ud-organization-editgroup"]={mid:"ud.organization.editgroup",fname:"ud_organization_editgroup"},o[".ud-organization-creategroup"]={mid:"ud.organization.creategroup",fname:"ud_organization_creategroup"},o[".ud-organization-invitenewusers"]={mid:"ud.organization.invitenewusers",fname:"ud_organization_invitenewusers"},o[".ud-organization-editusergroups"]={mid:"ud.organization.editusergroups",fname:"ud_organization_editusergroups"},o[".ud-organization-managecourses"]={mid:"ud.organization.managecourses",fname:"ud_organization_managecourses"},o[".ud-organization-publishcourse"]={mid:"ud.organization.publishcourse",fname:"ud_organization_publishcourse"},o[".ud-organization-managesubscription"]={mid:"ud.organization.managesubscription",fname:"ud_organization_managesubscription"},o[".ud-organization-managebilling"]={mid:"ud.organization.managebilling",fname:"ud_organization_managebilling"},o[".ud-apiblock"]={mid:"ud.apiblock",fname:"ud_apiblock"},o[".ud-collection-listnewcourse"]={mid:"ud.collection.listnewcourse",fname:"ud_collection_listnewcourse"},o[".ud-userlist"]={mid:"ud.userlist",fname:"ud_userlist"},o[".ud-admin-managestatement"]={mid:"ud.admin.managestatement",fname:"ud_admin_managestatement"},o[".ud-admin-hellobar-form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},o[".ud-google-plus-signup"]={mid:"ud.google.plus.signup",fname:"ud_google_plus_signup"},o[".ud-facebook-signup"]={mid:"ud.facebook.signup",fname:"ud_facebook_signup"},o[".ud-first-timer"]={mid:"ud.first.timer",fname:"ud_first_timer"},o[".ud-hellobar-initializer"]={mid:"ud.hellobar.initializer",fname:"ud_hellobar_initializer"};var s=0,u=function(){s++},c=function(){s--,0===s&&r.onComplete()},d=c;for(var l in o){var m=e(l,a);if(m.length>0){var p=o[l],f=p.mid,g=p.fname;u(f.toString()),require([f.toString()],function(t,i,n,r){e(t).each(function(t,n){"undefined"==typeof e(n).data(i)&&e(n)[i]()}),n(r.toString())}.context(this,m,g,c,f.toString()),function(e,t,i,n,r,a){throw console&&console.log("Require couldn't load",a,r,e,t,i),n(r.toString()),a}.context(this,m,g,l,d,f.toString()))}}0===s&&r.onComplete(),e(".tabs-container",a).length&&(e(".tabs-container",a).initTabs(),e(".tabs-container",a).tabnav()),e.each("undefined"==typeof window.onReadyCalls?[]:window.onReadyCalls,function(e,t){t()}),window.onReadyCalls=[]}}),define("angular-module-patch",["angular"],function(e){var t=e.module,i={};e.module=function(e,n,r){n=n||[];var a=null;return i[e]?(a=t(e),a.requires.push.apply(a.requires,n)):(a=t(e,n,r),i[e]=a),a}}),define("course-taking-dashboard.app/../../patches/extend-deep",["angular","angular-module-patch"],function(e){e.extendDeep=function t(i){return e.forEach(arguments,function(n){n!==i&&e.forEach(n,function(e,n){i[n]&&i[n].constructor&&i[n].constructor===Object?t(i[n],e):i[n]=e})}),i}}),define("course-taking-dashboard.app/../../directives/common/chart",["angular","jquery","ud-template","ud-translate","ud.initializer","../../patches/extend-deep"],function(e,t){e.module("directives",["udTemplate","udTranslate"]).directive("chart",["$http",function(i){var n=function(i,n,o){var s="Yes"==o.pivot||"true"==o.pivot?r(o.data):o.data;
if(i.csvData=a(s),"value"===i.type){var u;for(var c in s[0])u=s[0][c];i.chartData.singleValue=u,i.loadingData=!1}else"table"===i.type?(i.chartData.table=s,i.loadingData=!1):require(["ud.intelligence.chart.renderers"],function(r){var a=r[i.type];if(a){var o={chart:{events:{load:function(){i.$apply(function(){i.loadingData=!1,t(n).ud_initialize()})}}},yAxis:{title:{text:""},min:0,tickPixelInterval:25,gridLineDashStyle:"dash",labels:{style:{color:"#888",font:"10px Trebuchet MS, Verdana, sans-serif"}}},colors:["#77BC85","#77aebc","#bca677","#af7b7b","#8b7191","#92A8CD","#A47D7C","#B5CA92","#3d6546","#85703f","#653d3d"]};switch(i.yAxisLabel&&(o.yAxis.title={text:i.yAxisLabel},o.legend={enabled:!1}),"true"===i.rotateLabels&&e.extend(o,{xAxis:{labels:{rotation:-45,align:"right"}}}),i.type){case"piechart":e.extend(o,{plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",format:"{point.percentage:.1f}%"},showInLegend:!0}}});break;case"column":e.extend(o,{plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:.035}}})}e.extendDeep(o,i.options),a.render(s,n,o,i.options)}})},r=function(e){if(e.length<1)return[];var t=UD.Utils.Object.getFieldsArray(e[0]);return UD.Utils.Array.pivotize(e,t[0],t[1],t[2],0)},a=function(i){var n,r=[],a=[];if(i&&i.length){var o=UD.Utils.Object.getFieldsArray(i[0]);r.push('"'+o.join('","')+'"'),t.each(i,function(t,i){a=[];for(var s=0;s<o.length;s++){n=i[o[s]];try{e.isObject(n)&&(n=n.label),a.push("number"==typeof n||n&&n.match(/^-{0,1}\d*\.{0,1}\d+$/)?parseFloat(n):'"'+(n||"")+'"')}catch(u){}}r.push(a.join(","))});var s=r.join("\n"),u="data:application/csv;charset=UTF-8,"+encodeURIComponent(s);return u}};return{controller:["$scope",function(e){e.loadingData=!0,e.chartHeight=e.height?e.height.replace(/(px)?$/,"px"):"auto",e.chartData={},e.getKeysForObject=function(e){return e?Object.keys(e).filter(function(e){return"$$hashKey"!=e}):[]}}],restrict:"E",replace:!0,transclude:!0,scope:{url:"=",pivot:"@",type:"@",title:"@",height:"@",rotateLabels:"@",yAxisLabel:"@",extraLinksToRender:"@",options:"=",zeroText:"@"},templateUrl:"/staticx/udemy/js/ng/directives/common/chart.tpl.html",link:function(e,r){e.$watch("zeroText",function(t){e.zeroText=t?t:"No data received."}),e.extraLinksToRender&&(e.extraLinks=JSON.parse(e.extraLinksToRender)),i.get(e.url).success(function(i){e.data=i,n(e,r.find(".body"),{pivot:e.pivot,data:e.data}),t(r).ud_initialize()}.context(this))}}}])}),define("course-taking-dashboard.app/../../directives/common/forms/form-alert",["angular"],function(e){function t(){return{restrict:"EA",templateUrl:"/staticx/udemy/js/ng/directives/common/forms/form-alert.tpl.html",replace:!0,scope:{error:"="}}}var i=e.module("ud.common.formAlert",[]).directive("formAlert",t);return i}),define("course-taking-dashboard.app/../../directives/common/forms/form-error",["angular","../../../services/Utils"],function(e){function t(t,i){function n(){this.state={},this.reset(),this.ErrorType=t}return n.prototype.setErrorMessage=function(e){this.state.message=e},n.prototype.getMessage=function(){return this.state.message},n.prototype.getType=function(){return this.state.type},n.prototype.getCurrent=function(){return this.state},n.prototype.reset=function(){this.state.type=t.info,this.state.message=null,this.state.ignoreWarnings=!1},n.prototype.ignoreWarnings=function(e,t){return this.hasWarnings()&&e==t},n.prototype.hasWarnings=function(){return this.state.ignoreWarnings},n.prototype.processResponseError=function(n){var r,a=n.data.error,o=a.details,s=o.invalidItems,u=o.warningItems,c=(o.error+" "+i.joinObjWithEnclosedTag(s,"p")).trim();c?(this.state.message=c,this.state.type=t.danger):(this.state.message=i.joinObjWithEnclosedTag(u,"p").trim(),this.state.type=t.warning),e.isFunction(n.headers)&&(r=n.headers(),this.state.feedback={message:r["x-ui-message"],type:r["x-ui-message-type"]}),"warning"===a.details.result&&(this.state.ignoreWarnings=!0)},n.prototype.getFeedback=function(){return this.state.feedback},n.prototype.getFeedback=function(){return this.state.feedback},n}var i=e.module("ud.common.forms.formError",[]).constant("FORM_ERROR_TYPE",{info:"info",warning:"warning",danger:"danger"}).factory("FormError",t);return t.$inject=["FORM_ERROR_TYPE","Utils"],i}),define("course-taking-dashboard.app/../../directives/common/forms/module",["angular","./form-alert","./form-error"],function(e,t,i){return e.module("apps.common.forms",[t.name,i.name])}),define("course-taking-dashboard.app/../../directives/common/popover/popover",["angular","ui-bootstrap"],function(e){function t(t,i,n,r,a){function o(t){this.scope=null,this.element=t.element||s,this.popoverElem=null,this.options=e.extend({},t),this.isOpen=!1}var s=n.find("body"),u=e.element('<div class="popover {{placement}}"  ng-click =\'$event.stopPropagation()\' style =" display: block; position: absolute; z-index: 50;">   <div class="arrow"></div></div>');return o.prototype.close=function(){this.popoverElem&&(this.popoverElem.remove(),this.isOpen=!1,this.scope.$destroy())},o.prototype.applyPosition=function(){var e;this.element.after(this.popoverElem),e=a.positionElements(this.element,this.popoverElem,this.scope.placement,!1),e.top+="px",e.left+="px",this.popoverElem.css(e)},o.prototype.open=function(){var n,a=this;a.isOpen||(a.scope=a.options.scope.$new(),n=u.clone(),a.isOpen=!0,a.scope.placement=a.options.placement||"top",a.options.template&&(a.scope.template=this.options.template),t.get(a.scope.template,{cache:i}).success(function(t){n.append(e.element(t)),a.popoverElem=r(n)(a.scope,function(){}),a.applyPosition()}))},{create:function(e){return new o(e)}}}function i(t,i){return{link:function(n,r,a){var o,s,u=e.noop,c={scope:n,element:r,template:a.template,placement:a.placement};o=i.create(c),a.isOpen&&(s=t(a.isOpen),u=s.assign,n.$watch(s,function(e){n._isOpen=!!e})),n.$watch("_isOpen",function(e){e?o.open():o.close(),u(n,e)}),n.$on("$destroy",function(){n._isOpen=!1})}}}t.$inject=["$http","$templateCache","$document","$compile","$position"],i.$inject=["$parse","Popover"],e.module("directives.common.popover",["ui.bootstrap"]).factory("Popover",t).directive("popoverBtn",i)}),define("course-taking-dashboard.app/../../directives/common/fields/search-field",["angular","ud-template"],function(e){function t(){return{restrict:"AE",replace:!0,scope:{placeholder:"@",onClear:"&",onSubmit:"&",isDisabled:"=",hasClearBtn:"=",value:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/fields/search-field.tpl.html",link:function(e,t){e.placeholder&&t.find("input").attr("placeholder",e.placeholder),e.showClearBtn=function(){return e.hasClearBtn&&e.value},e.clear=function(){e.value="",e.onSubmit({value:e.value}),e.showClearBtn()}}}}var i=e.module("directives.common.fields.searchField",["udTemplate"]).directive("searchField",t);return i}),define("course-taking-dashboard.app/../../directives/common/fields/char-count-field",["angular","ud-template"],function(e){function t(){return{restrict:"AE",replace:!0,scope:{maxChars:"=",placeholder:"=",text:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/fields/char-count-field.tpl.html",link:function(e,t){function i(){e.remainingChars=e.maxChars-e.text.length}i(),e.change=function(){i(),e.remainingChars<0?t.addClass("char-limit-exceeded"):t.removeClass("char-limit-exceeded")}}}}var i=e.module("directives.common.fields.charCountField",["udTemplate"]).directive("charCountField",t);return i}),define("course-taking-dashboard.app/../../directives/common/fields/input-utils",["angular"],function(e){function t(e){var t="udInitFocus";return{restrict:"A",link:function(i,n,r){e(function(){var e=r[t];e||n[0].focus()})}}}var i=e.module("directives.common.fields.inputUtils",["udTemplate"]).directive("udInitFocus",t);return t.$inject=["$timeout"],i}),define("course-taking-dashboard.app/../../directives/common/fields/module",["angular","./search-field","./char-count-field","./input-utils"],function(e,t,i,n){return e.module("directives.common.fields",[t.name,i.name,n.name])}),define("course-taking-dashboard.app/../../directives/common/loc-ref",["angular"],function(e){function t(){return{restrict:"A",require:"?^locRefActive",link:function(e,t,i,n){var r=i.href||i.ngHref;n.setUrl(r)}}}function i(e,t){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,n,r){function a(){return e.path()}function o(){s()?n.addClass(c):n.removeClass(c)}function s(){return u===a()}var u,c=t(r.locRefActive)(i);i.$watch(a,o),this.setUrl=function(e){u=e.replace("#","")}}]}}var n=e.module("directives.common.locRef",[]).directive("locRef",t).directive("locRefActive",i);return t.$inject=[],i.$inject=["$location","$interpolate"],n}),define("course-taking-dashboard.app/../../directives/common/header/header-loc-dropdown",["angular","underscore"],function(e,t){function i(){var e={restrict:"AE",transclude:!0,replace:!0,scope:{name:"@"},controller:"HeaderLocDropdownController",templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown.tpl.html"};return e}function n(){var e={restrict:"AE",scope:{item:"="},require:"^liHeaderLocDropdown",replace:!0,templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown-item.tpl.html",link:function(e,t,i,n){n.addItem(e.item)}};return e}function r(e,i){function n(){e.selectedItem=t.findWhere(e.items,{target_url:i.path()})}e.items=[],e.selectedItem=null,e.$on("$locationChangeSuccess",n),this.addItem=function(t){e.items.push(t),n()}}var a=e.module("apps.channelDashboard.channel.headerLocDropdown",[]).directive("liHeaderLocDropdown",i).directive("headerLocDropdownItem",n).controller("HeaderLocDropdownController",r);return r.$inject=["$scope","$location"],a}),define("course-taking-dashboard.app/../../directives/common/header/module",["angular","./header-loc-dropdown"],function(e,t){return e.module("directives.common.header",[t.name])}),define("course-taking-dashboard.app/../../directives/common/date/date-range-picker",["angular","ui-bootstrap"],function(e){function t(){return{restrict:"E",replace:!0,controller:["$scope",function(e){e.open=function(e,t){e.preventDefault(),e.stopPropagation(),t.isOpen=!t.isOpen}}],scope:{start:"=",end:"=",minDate:"=",maxDate:"=",dateFormat:"=",dateOptions:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/date/date-range-picker.html"}}var i=e.module("directives.common.date.datePicker",[]).directive("dateRangePicker",t);return t.$inject=["NG_APPS_URL"],i}),define("course-taking-dashboard.app/../../directives/common/date/module",["angular","./date-range-picker"],function(e,t){return e.module("directives.common.date",[t.name])}),define("course-taking-dashboard.app/../../directives-common",["./directives/common/utils","./directives/common/ud-wysiwyg","./directives/common/popup","./directives/common/ajax-loader","./directives/common/chart","./directives/common/forms/module","./directives/common/popover/popover","./directives/common/fields/module","./directives/common/loc-ref","./directives/common/header/module","./directives/common/date/module"],function(e,t,i,n,r,a,o,s,u,c,d){return angular.module("directives.common",["directives.common.popover","directives.common.fields",u.name,c.name,d.name])}),define("course-taking-dashboard.app/../../directives/activity/activity",["angular","ud-template","ud-translate"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activity",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{index:"@",showComments:"=",activities:"=",activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity.tpl.html",link:function(e){e.state=e.state||{},e.state.isEditing=!1,e.state.isSubmitted=!1}}})}),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(n,r,a,o){var s,u=[];s=r.$eval(o["ui"+i(n)]),angular.forEach(s,function(t,i){var n,r;r=e(t),angular.forEach(i.split(" "),function(e){n={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){n.keys[e]=!0}),u.push(n)})}),a.bind(n,function(e){var i=!(!e.metaKey||e.ctrlKey),a=!!e.altKey,o=!!e.ctrlKey,s=!!e.shiftKey,c=e.keyCode;"keypress"===n&&!s&&c>=97&&122>=c&&(c-=32),angular.forEach(u,function(n){var u=n.keys[t[c]]||n.keys[c.toString()],d=!!n.keys.meta,l=!!n.keys.alt,m=!!n.keys.ctrl,p=!!n.keys.shift;u&&d===i&&l===a&&m===o&&p===s&&r.$apply(function(){n.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,i,n){e("keydown",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,i,n){e("keypress",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,i,n){e("keyup",t,i,n)}}}]),define("course-taking-dashboard.app/../../libs/angular-ui/keypress",function(){}),define("course-taking-dashboard.app/../../directives/activity/comment",["angular","ud-template","ud-translate","../../libs/angular-ui/keypress"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("comment",function(){var e=function(e){e.enterPressed=function(t){t.preventDefault();var i=e.commentText&&e.commentText.trim();i&&(e.commentText=i,e.comment?(e.comment.body=e.commentText,e.showForm=!1,e.updateCommentFn({commentId:e.comment.id,commentText:e.commentText,callbackFn:function(t){e.comment.body=t}})):(e.addCommentFn({commentText:e.commentText}),e.commentText=""))},e.escPressed=function(t){t.preventDefault(),e.comment?e.showForm=!1:e.shouldBlur=!0},e.onCommentEdit=function(){e.commentText=e.comment.body,e.showForm=!0,e.editEnabled=!0,e.shouldFocus=!0},e.onCommentDelete=function(){window.confirm("Are you sure you want to delete?")&&e.deleteCommentFn({commentId:e.comment.id})},e.$watch("focusForm",function(t){t&&(e.shouldFocus=!0)})};return e.$inject=["$scope"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{comment:"=",courseId:"=",showImage:"@",showForm:"@",addCommentFn:"&",updateCommentFn:"&",deleteCommentFn:"&",focusForm:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/comment.tpl.html"}})}),define("course-taking-dashboard.app/../../directives/activity/activity-comments",["angular","ud-template","ud-translate","./comment","../../services/Activity"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activityComments",["Activity","$rootScope",function(e,t){var i=function(t){t.loadMoreComments=function(){t.visibleComments=t.invisibleComments.splice(0-t.pageSize).concat(t.visibleComments)},t.addComment=function(i){var n={user:t.me,body:i};t.visibleComments.push(n),t.comments.push(n);var r=e.createComment(t.activity.id,i);r.success(function(e){var i=e;t.visibleComments.pop(),t.visibleComments.push(i),t.comments.pop(),t.comments.push(i)})},t.updateComment=function(i,n,r){var a=e.updateComment(i,t.activity.id,n);a.success(function(e){r&&r(e.body)})},t.deleteComment=function(i){var n;for(n in t.visibleComments)t.visibleComments[n].id==i&&t.visibleComments.splice(n,1);for(n in t.comments)t.comments[n].id==i&&t.comments.splice(n,1);e.deleteComment(i,t.activity.id)}};return i.$inject=["$scope"],{controller:i,restrict:"E",replace:!0,transclude:!0,scope:{me:"=",activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-comments.tpl.html",link:function(e){e.pageSize=5,e.comments=e.activity.comments,t.expandAll?(e.visibleComments=e.activity.comments.slice(0),e.invisibleComments=[]):(e.visibleComments=e.activity.comments.slice(-3),e.invisibleComments=e.activity.comments.slice(0,-3))}}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-follow",["angular","ud-template","ud-translate","../../services/Activity"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activityFollow",["Activity",function(e){var t=function(t){t.onFollow=function(){t.isFollowing=!0,t.followCount=t.followCount+1;var i=e.followActivity(t.activityId);i.success(function(){}),i.error(function(){t.isFollowing=!1,t.followCount=t.followCount-1})},t.onUnfollow=function(){t.isFollowing=!1,t.followCount=t.followCount-1;var i=e.unfollowActivity(t.activityId);i.success(function(){}),i.error(function(){t.isFollowing=!0,t.followCount=t.followCount+1})}};return t.$inject=["$scope"],{controller:t,restrict:"E",replace:!0,transclude:!0,scope:{activityId:"=",isFollowing:"=",followCount:"=",activityClassName:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-follow.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-related-lecture",["angular","ud-template","ud-translate"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activityRelatedLecture",function(){var e=function(e,t){e.findLectureById=function(){if(e.lectureId)for(var i in t.curriculum){var n=t.curriculum[i];if("lecture"===n.__class&&n.id==e.lectureId)return e.lecture=n,!0}return!1}};return e.$inject=["$scope","$rootScope"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{lectureId:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-related-lecture.tpl.html"}})}),define("course-taking-dashboard.app/../../directives/activity/user-tooltip",["angular","ud-template","ud-translate"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("userTooltip",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{user:"=userData"},templateUrl:"/staticx/udemy/js/ng/directives/activity/user-tooltip.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-header",["angular","ud-template","ud-translate","../../services/Activity","../../services/User","./activity-related-lecture","./user-tooltip"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activityHeader",["$rootScope","Activity","User",function(e,t,i){var n=function(e){e.onActivityEdit=function(){e.state.isEditing=!0},e.onActivityDelete=function(){window.confirm("Are you sure you want to delete?")&&(e.activities.splice(e.index,1),t.deleteActivity(e.activity.id))}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-header.tpl.html",link:function(t,n,r){t.me=i.getMe(),t.actionText=r.actionText,t.actionIcon=r.actionIcon,t.$watch("[me, activity.user, state.isEditing]",function(){var i=t.me&&t.me.id==t.activity.user.id;t.isEditVisible=i&&!t.state.isEditing,t.isDeleteVisible=(i||e.isInstructor)&&!t.state.isEditing},!0)}}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-like",["angular","ud-template","ud-translate","../../services/Activity"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("activityLike",["Activity",function(e){var t=function(t){t.onLike=function(){t.isLiked=!0,t.likeCount=t.likeCount+1;var i=e.likeActivity(t.activityId);i.success(function(){}),i.error(function(){t.isLiked=!1,t.likeCount=t.likeCount-1})},t.onUnlike=function(){t.isLiked=!1,t.likeCount=t.likeCount-1;var i=e.unlikeActivity(t.activityId);i.success(function(){}),i.error(function(){t.isLiked=!0,t.likeCount=t.likeCount+1})}};return t.$inject=["$scope"],{controller:t,restrict:"E",replace:!0,transclude:!0,scope:{activityId:"=",isLiked:"=",likeCount:"=",activityClassName:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-like.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/announcement-form",["angular","ud-link","ud-template","ud-translate","../common/ud-wysiwyg","../common/forms/form-alert"],function(e,t){e.module("directives",["udTemplate","udTranslate"]).directive("announcementForm",function(){return{restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-form.tpl.html",scope:{content:"=",state:"=",mode:"@"},link:function(e){e.promoteUrl=t.to("announcement","send")}}})}),define("course-taking-dashboard.app/../../directives/activity/announcement-activity",["angular","ud-template","ud-translate","../../services/Announcement","./activity-header","./activity-like","./activity-comments","./user-tooltip","./announcement-form"],function(e){e.module("directives",["udTemplate","udTranslate"]).directive("announcementActivity",["Announcement",function(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-activity.tpl.html",link:function(t){t.formData={},t.formData.content=t.activity.target.content,t.state=t.state||{},t.state.isInitialized=!0,t.state.editorValueCollectedFn=function(i){var n=!!i.replace(/(<([^>]+)>)/gi,"");n&&t.state.isSubmitted===!0&&e.update(t.activity.target.id,{content:i}).success(function(e){t.activity.target.content=e.content}),t.state.isSubmitted=!1,t.state.isEditing=!1}}}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-form",["angular","ud-template","ud-translate","../common/forms/module","../common/ud-wysiwyg"],function(e,t,i,n){e.module("directives",["udTemplate","udTranslate",n.name]).controller("DiscussionFormController",["$scope",function(e){e.state.isSubmitted=!1,e.state.isDropdownOpen=!1,e.state.textPlaceHolder=gettext(e.state.showFullView?"Type your discussion title here and any details below":"Start a new discussion"),e.resetCurrentLecture=function(){e.currentLecture.id=null,e.state.isDropdownOpen=!1},e.$watch("state.showFullView",function(t){e.state.isReset=!t}),e.setCurrentLecture=function(t){t.asset&&"Locked"==t.asset.type||(e.currentLecture||(e.currentLecture={}),e.currentLecture.id=t.id),e.state.isDropdownOpen=!1},e.submitForm=function(){e.state.isSubmitted=!0},e.state.editorValueCollectedFn=function(t){e.onSubmitContent({content:t}),e.state.isSubmitted=!1}}]).directive("discussionForm",[function(){return{controller:"DiscussionFormController",restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-form.tpl.html",scope:{title:"=",content:"=",state:"=",currentLecture:"=",showLectureDropdown:"=",mode:"@",onSubmitContent:"&"}}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-reply",["angular","ud-template","ud-translate","../common/forms/module","../../services/Course","../../services/Discussion"],function(e,t,i,n){e.module("directives",["udTemplate","udTranslate",n.name]).controller("DiscussionReplyController",["$scope","Course","Discussion","$rootScope","FormError",function(e,t,i,n,r){var a=null;e.formData={},e.isSubmitted=!1,e.isEditing=!1,e.formError=new r,e.editorValueCollectedFn=function(t){var n;e.isSubmitted===!0&&(n=e.formError.ignoreWarnings(t,a),i.updateDiscussionReply(e.reply.discussionId,e.reply.id,t,n).then(function(t){var i=t.data;e.reply.body=i.body,e.isEditing=!1,e.formError.reset()},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromText(e.state.formError.getFeedback(),"error")})),e.isSubmitted=!1,a=t},e.onEdit=function(){e.formData.body=e.reply.body,e.isEditing=!0},e.isEditVisible=function(){return e.me.id==e.reply.user.id},e.isDeleteVisible=function(){return e.me.id==e.reply.user.id||n.isInstructor},e.onCancel=function(){e.isEditing=!1,e.formError.reset()},e.onDelete=function(){window.confirm("You are about to remove this reply. Are you sure you want to continue?")&&e.deleteReplyFn({replyId:e.reply.id})}}]).directive("discussionReply",[function(){return{controller:"DiscussionReplyController",restrict:"E",replace:!0,transclude:!0,scope:{reply:"=",me:"=",deleteReplyFn:"&"},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-reply.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-replies",["angular","ud-template","ud-translate","./discussion-reply","../common/forms/module","../common/ud-wysiwyg","../../services/Course","../../services/Discussion"],function(e,t,i,n,r){e.module("directives",["udTemplate","udTranslate",r.name]).controller("DiscussionRepliesController",["$scope","$filter","Course","Discussion","FormError",function(e,t,i,n,r){var a;e.formData={},e.formData.body="",e.formError=new r,e.state=e.state||{},e.state.isSubmitted=!1,e.state.isEditing=!1,e.state.isReset=!1,e.state.editorValueCollectedFn=function(i){var r,o=!t("isStrippedHTMLEmpty")(i);o&&e.state.isSubmitted===!0&&(r=e.formError.ignoreWarnings(i,a),n.addDiscussionReply(e.activity.target.id,i,r).then(function(t){var i=t.data;e.activity.replies.splice(e.position,0,i),e.position=e.position+1,e.activity.isExplicitlyFollowing||(e.activity.isExplicitlyFollowing=!0,e.activity.followCount=e.activity.followCount+1,e.formData.body=""),e.formError.reset(),e.state.isReset=!0},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.formError.getFeedback())})),e.state.isReset=!1,e.state.isSubmitted=!1,a=i},e.$watch("showFullView",function(t){t&&(e.state.isEditing=!0)}),e.deleteReply=function(t,i){n.deleteDiscussionReply(t,i).success(function(){for(var t in e.activity.replies)e.activity.replies[t].id==i&&e.activity.replies.splice(t,1)})}}]).directive("discussionReplies",["$filter","Course","Discussion","$controller",function(){return{controller:"DiscussionRepliesController",restrict:"E",replace:!0,scope:{activity:"=",me:"=",showFullView:"=",position:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-replies.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-activity",["angular","ud-template","ud-translate","../common/forms/module","../../services/Discussion","../../services/Utils","./activity-header","./activity-like","./user-tooltip","./discussion-form","./discussion-replies"],function(e,t,i,n){e.module("directives",["udTemplate","udTranslate",n.name]).controller("DiscussionActivityController",["$scope","Discussion","$rootScope","FormError","Utils",function(e,t,i,n,r){var a;e.formData={},e.formData.title=e.activity.target.title,e.formData.body=e.activity.target.body,e.state=e.state||{},a=e.state.formError=new n,e.state.showFullView=!1,e.lastPageLoadedReplies=0,e.activity.replies=[],e.position=0;var o=null;e.onSubmitContent=function(i){if(r.htmlTagsHasContent(i)&&e.state.isSubmitted===!0){var n=e.state.formError.ignoreWarnings(i,o),s={body:i,title:e.formData.title};t.update(e.activity.target.id,s,n).then(function(t){var i=t.data;e.activity.target.title=i.title,e.activity.target.body=i.body,e.state.showFullView=!1,e.state.isEditing=!1,a.reset()},function(t){e.state.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback())})}o=e.formData.body=i},e.loadDiscussionReplies=function(){e.state.showFullView?(e.state.showFullView=!1,e.position=0):0===e.position&&0===e.activity.replies.length?t.getDiscussionReplies(e.activity.target.id,e.lastPageLoadedReplies+1,e.activity.target.numReplies).then(function(t){var i=t.data.data;e.activity.replies=e.activity.replies.concat(i),e.lastPageLoadedReplies++,e.position=e.position+e.getNumReplies(),e.state.showFullView=!0},function(t){e.state.formError.processResponseError(t.data),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback()),e.retrieveLastSubmittedDiscussionDetails()}):(e.position=e.position+e.getNumReplies(),e.state.showFullView=!0)},e.getNumReplies=function(){return e.lastPageLoadedReplies>0?e.activity.replies.length:e.activity.target.numReplies},i.expandAll&&e.loadDiscussionReplies()}]).directive("discussionActivity",[function(){return{controller:"DiscussionActivityController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-activity.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives-activity",["./directives/activity/activity","./directives/activity/activity-comments","./directives/activity/activity-follow","./directives/activity/activity-header","./directives/activity/activity-like","./directives/activity/activity-related-lecture","./directives/activity/announcement-activity","./directives/activity/announcement-form","./directives/activity/comment","./directives/activity/discussion-activity","./directives/activity/discussion-form","./directives/activity/discussion-replies","./directives/activity/discussion-reply","./directives/activity/user-tooltip"],function(){}),function(){function e(e){if(!e)return"";for(var t,n,r=[],a=0;a<e.length;a++)(n=e.charCodeAt(a))<384&&(t=String.fromCharCode(n),r.push(i[t]||t));return e=r.join(""),e=e.replace(/[^\w\s-]/g,"").trim().toLowerCase(),e.replace(/[-\s]+/g,"-")}var t=angular.module("slugifier",[]),i={" ":" ","¡":"!","¢":"c","£":"lb","¥":"yen","¦":"|","§":"SS","¨":'"',"©":"(c)",ª:"a","«":"<<","¬":"not","­":"-","®":"(R)","°":"^0","±":"+/-","²":"^2","³":"^3","´":"'",µ:"u","¶":"P","·":".","¸":",","¹":"^1",º:"o","»":">>","¼":" 1/4 ","½":" 1/2 ","¾":" 3/4 ","¿":"?",À:"`A",Á:"'A",Â:"^A",Ã:"~A",Ä:'"A',Å:"A",Æ:"AE",Ç:"C",È:"`E",É:"'E",Ê:"^E",Ë:'"E',Ì:"`I",Í:"'I",Î:"^I",Ï:'"I',Ð:"D",Ñ:"~N",Ò:"`O",Ó:"'O",Ô:"^O",Õ:"~O",Ö:'"O',"×":"x",Ø:"O",Ù:"`U",Ú:"'U",Û:"^U",Ü:'"U',Ý:"'Y",Þ:"Th",ß:"ss",à:"`a",á:"'a",â:"^a",ã:"~a",ä:'"a',å:"a",æ:"ae",ç:"c",è:"`e",é:"'e",ê:"^e",ë:'"e',ì:"`i",í:"'i",î:"^i",ï:'"i',ð:"d",ñ:"~n",ò:"`o",ó:"'o",ô:"^o",õ:"~o",ö:'"o',"÷":":",ø:"o",ù:"`u",ú:"'u",û:"^u",ü:'"u',ý:"'y",þ:"th",ÿ:'"y',Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"'C",ć:"'c",Ĉ:"^C",ĉ:"^c",Ċ:"C",ċ:"c",Č:"C",č:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"^G",ĝ:"^g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"^H",ĥ:"^h",Ħ:"H",ħ:"h",Ĩ:"~I",ĩ:"~i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"^J",ĵ:"^j",Ķ:"K",ķ:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"L",ł:"l",Ń:"'N",ń:"'n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"'n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:'"O',ő:'"o',Œ:"OE",œ:"oe",Ŕ:"'R",ŕ:"'r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",Ś:"'S",ś:"'s",Ŝ:"^S",ŝ:"^s",Ş:"S",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",Ũ:"~U",ũ:"~u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:'"U',ű:'"u',Ų:"U",ų:"u",Ŵ:"^W",ŵ:"^w",Ŷ:"^Y",ŷ:"^y",Ÿ:'"Y',Ź:"'Z",ź:"'z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s"};t.factory("Slug",function(){return{slugify:e}}),t.directive("slug",["Slug",function(e){return{restrict:"E",scope:{to:"="},transclude:!0,replace:!0,template:"<div ng-transclude></div>",link:function(t,i,n){if(!n.from)throw"must set attribute 'from'";t.$parent.$watch(n.from,function(i){t.to=e.slugify(i)})}}}]),t.filter("slugify",function(e){return function(t){return e.slugify(t)}})}(),define("course-taking-dashboard.app/../../libs/angular-slugify",function(){}),define("course-taking-dashboard.app/../../libs/module",["angular","./angular-slugify","./angular-ui/keypress"],function(e){return e.module("libs",["slugifier","ui.keypress"])}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-controller",["angular","jquery"],function(e,t){function i(e,i,n,r,a){i.init=function(r,o,s,u,c,d,l){e.courseId=r,e.me=UD.me,e.shouldRefreshCurriculum=u,e.isInstructor=o,e.isPreviewer=s,e.courseHasCertificate=c,e.showDiscussions=UD.Config.brand.is_discussions_enabled,e.showStudents=UD.Config.brand.is_student_list_at_course_taking_enabled,e.showComments=UD.Config.brand.is_feed_commenting_enabled,e.showCurriculum=!1,e.courseLearningExperimentId=d,e.freePreviewExperimentId=l,e.shouldStick=!1,e.courseHasCertificate&&(a.getCertificateOfUser(e.courseId,e.me.id),t(window).on("courseProgressUpdated",function(e){100==e.courseProgress.completion_ratio&&i.checkCertificate()})),a.loadCourse(e.courseId),a.loadCurriculum(e.courseId),a.loadCourseProgress(e.courseId),a.loadCourseReviews(e.courseId),a.loadCourseFeedbacks(e.courseId),t(window).on("updateCourseProgress",function(){a.loadCourseProgress(e.courseId),e.shouldRefreshCurriculum&&a.loadCurriculum(e.courseId)}),t(window).on("loadCourseFeedbacks",function(){a.loadCourseFeedbacks(e.courseId)}),t(window).on("timelineRendered",function(){e.showCurriculum=!0
}),t(window).on("changeRouteFromOutside",function(e,t){n.path(t),i.$apply()}),i.$on("$destroy",function(){t(window).off("updateCourseProgress"),t(window).off("courseProgressUpdated"),t(window).off("loadCourseFeedbacks"),t(window).off("courseFeedbacksLoaded")})},i.checkCertificate=function(){e.certificate||e.certificateCreationTriggered?e.certificate&&e.certificate.isReady||(a.getCertificateOfUser(e.courseId,e.me.id),r(i.checkCertificate,15e3,!1)):(a.createCertificate(e.courseId),r(i.checkCertificate,15e3,!1))},i.getCertificateStatusClass=function(){return e.isPreviewer?"certificate-not-ready":e.courseHasCertificate&&e.certificate?e.certificate.isReady?"certificate-ready":"certificate-in-progress":"certificate-not-ready"},i.getBeforeId=function(e){return e&&0!==e.length?e[e.length-1].id:-1},i.confirmUnsubscribe=function(e){confirm("By selecting this option, you will be permanently removed from the course and will no longer have access to its contents. Are you sure?")||e.preventDefault()},i.showInvitationsPopup=function(){i.invitationsPopupToggle=!0},i.hideInvitationsPopup=function(){return i.invitationsPopupToggle=!1,!1},i.getWatchCount=function(e,t){if(void 0===t&&(t={}),!e||void 0!==t[e.$id])return 0;var n=0;return e.$$watchers&&(n=e.$$watchers.length),t[e.$id]=n,n+=i.getWatchCount(e.$$childHead,t),n+=i.getWatchCount(e.$$nextSibling,t)}}var n=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardController",[]).controller("CourseTakingDashboardController",i);return i.$inject=["$rootScope","$scope","$location","$timeout","CourseTakingDashboardService"],n}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-service",["angular","jquery","../../../services"],function(e,t){function i(i,n,r,a){var o=function(t){e.extend(this,t)};return o.initLectureTaking=function(e,n){o.resetLectureTaking(),i.objectType=n,i.lectureId=e,i.lectureTakingPageActive=!0,i.certificateCreationTriggered=!1,"lecture"==i.objectType&&o.loadLectureDiscussions(),t(window).trigger("initLectureTakingFinished")},o.resetLectureTaking=function(){i.objectType=null,i.lectureId=null,i.discussionActivities=[],i.lastPageLoaded=0,i.loadingActivities=!1,i.reachedTheEndOfFeed=!1,i.pageNum=1,i.lectureTakingPageActive=!1},o.loadLectureDiscussions=function(){i.loadingActivities=!0,a.getLectureDiscussions(i.pageNum,i.lectureId).success(function(e){i.loadingActivities=!1,e.data&&0!==e.data.length||(i.reachedTheEndOfFeed=!0),i.discussionActivities=i.discussionActivities.concat(e.data),i.discussionActivities.length>=e.pagination.total&&(i.reachedTheEndOfFeed=!0),i.pageNum++}).error(function(){i.loadingActivities=!1}),i.$$phase||i.$apply()},i.$on("discussionActivities:addActivity",function(e,t){i.discussionActivities||(i.discussionActivities=[]),i.discussionActivities.unshift(t)}),o.loadCourse=function(e){r.get(e,"@default,settings").success(function(e){e=r.initializeCourseData(e),i.course=e,i.$broadcast("courseLoaded")}),i.$$phase||i.$apply()},o.loadCurriculum=function(e){r.getCurriculum(e).success(function(e){i.curriculum=e;var n=r.initChaptersAndLectures(e);i.chaptersAndLectures=n;var a=t.Event("curriculumLoaded");a.curriculum=e,t(window).trigger(a)}),i.$$phase||i.$apply()},o.loadCourseReviews=function(e){r.getCourseReview(e).success(function(e){var t=n.absUrl(),r=new RegExp(/rating=([1-5])/).exec(t);if(i.showReviewDialog=null!==r,e.results.length>0)i.courseReview=e.results[0];else if(null!==r){i.courseReview={isTemporary:!0};var a=Number(r[1]);a>0&&6>a&&(i.courseReview.rating=a)}}),i.$$phase||i.$apply()},o.loadCourseProgress=function(n){r.getProgress(n).success(function(n){"undefined"==typeof i.courseProgress&&(i.courseProgress={}),e.copy(n,i.courseProgress);var r=t.Event("courseProgressUpdated");r.courseProgress=n,t(window).trigger(r)}),i.$$phase||i.$apply()},o.getCertificateOfUser=function(t,n){r.getCertificateOfUser(t,n).success(function(t){"undefined"==typeof i.certificate&&(i.certificate={}),e.copy(t,i.certificate)}),i.$$phase||i.$apply()},o.createCertificate=function(e){r.createCertificate(e),i.certificateCreationTriggered=!0,i.$$phase||i.$apply()},o.isActive=function(e){return e.id==i.lectureId&&e.__class==i.objectType},o.isCompleted=function(e){if(i.courseProgress){var t="quiz"===e.__class?i.courseProgress.quiz_progress:i.courseProgress.lectures_progress;if(t&&t[e.id])return"completed"===t[e.id].status}return!1},o.isStarted=function(e){if(i.courseProgress){var t="quiz"===e.__class?i.courseProgress.quiz_progress:i.courseProgress.lectures_progress;if(t&&t[e.id])return"started"===t[e.id].status}return!1},o.completionRatio=function(e){if(i.courseProgress&&!i.isInstructor){var t="quiz"===e.__class?i.courseProgress.quiz_progress:i.courseProgress.lectures_progress;if(t&&t[e.id])return t[e.id].completionRatio}return 0},o.loadCourseFeedbacks=function(n){r.getCourseFeedback(n).success(function(n){"undefined"==typeof i.courseFeedbacks&&(i.courseFeedbacks={}),e.copy(n,i.courseFeedbacks);var r=t.Event("courseFeedbacksLoaded");r.courseFeedbacks=n,t(window).trigger(r)}),i.$$phase||i.$apply()},i.courseTakingDashboardService=o,o}var n=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardService",["services"]).factory("CourseTakingDashboardService",i);return i.$inject=["$rootScope","$location","Course","Activity"],n}),define("course-taking-dashboard.app/dashboard/module",["angular","./course-taking-dashboard-controller","./course-taking-dashboard-service"],function(e,t,i){return e.module("apps.courseTakingDashboard.dashboard",[t.name,i.name])}),define("course-taking-dashboard.app/free-preview/free-preview-service",["angular"],function(e){function t(e){this.getPreviewCreatedTime=function(t){return e({url:"/api-1.1/course-previews/time-spent/"+t,method:"GET"})},this.getCourse=function(t,i,n){return i=i||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+i,{params:n})}}var i=e.module("apps.courseTakingDashboard.freePreview.freePreviewService",[]).service("freePreviewService",t);return t.$inject=["$http"],i}),function(e){define("angular-timer",["angular"],function(){return function(){var e=angular.module("timer",[]).directive("timer",["$compile",function(e){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",maxTimeUnit:"="},controller:["$scope","$element","$attrs","$timeout",function(t,i,n,r){function a(){t.timeoutId&&clearTimeout(t.timeoutId)}function o(){void 0!==n.startTime&&(t.millis=new Date-new Date(t.startTimeAttr)),t.maxTimeUnit&&"day"!==t.maxTimeUnit?"second"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3),t.minutes=0,t.hours=0,t.days=0,t.months=0,t.years=0):"minute"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4),t.hours=0,t.days=0,t.months=0,t.years=0):"hour"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5),t.days=0,t.months=0,t.years=0):"month"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30),t.years=0):"year"===t.maxTimeUnit&&(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30%12),t.years=Math.floor(t.millis/36e5/24/365)):(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24),t.months=0,t.years=0),t.secondsS=1===t.seconds?"":"s",t.minutesS=1===t.minutes?"":"s",t.hoursS=1===t.hours?"":"s",t.daysS=1===t.days?"":"s",t.monthsS=1===t.months?"":"s",t.yearsS=1===t.years?"":"s",t.secondUnit=function(e,i){return 1===t.seconds?e?e:"second":i?i:"seconds"},t.minuteUnit=function(e,i){return 1===t.minutes?e?e:"minute":i?i:"minutes"},t.hourUnit=function(e,i){return 1===t.hours?e?e:"hour":i?i:"hours"},t.dayUnit=function(e,i){return 1===t.days?e?e:"day":i?i:"days"},t.monthUnit=function(e,i){return 1===t.months?e?e:"month":i?i:"months"},t.yearUnit=function(e,i){return 1===t.years?e?e:"year":i?i:"years"},t.sseconds=t.seconds<10?"0"+t.seconds:t.seconds,t.mminutes=t.minutes<10?"0"+t.minutes:t.minutes,t.hhours=t.hours<10?"0"+t.hours:t.hours,t.ddays=t.days<10?"0"+t.days:t.days,t.mmonths=t.months<10?"0"+t.months:t.months,t.yyears=t.years<10?"0"+t.years:t.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.autoStart=n.autoStart||n.autostart,i.append(0===i.html().trim().length?e("<span>{{millis}}</span>")(t):e(i.contents())(t)),t.startTime=null,t.endTime=null,t.timeoutId=null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>=0?parseInt(t.countdownattr,10):void 0,t.isRunning=!1,t.$on("timer-start",function(){t.start()}),t.$on("timer-resume",function(){t.resume()}),t.$on("timer-stop",function(){t.stop()}),t.$on("timer-clear",function(){t.clear()}),t.$on("timer-reset",function(){t.reset()}),t.$on("timer-set-countdown",function(e,i){t.countdown=i}),t.start=i[0].start=function(){t.startTime=t.startTimeAttr?new Date(t.startTimeAttr):new Date,t.endTime=t.endTimeAttr?new Date(t.endTimeAttr):null,t.countdown||(t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0),a(),s(),t.isRunning=!0},t.resume=i[0].resume=function(){a(),t.countdownattr&&(t.countdown+=1),t.startTime=new Date-(t.stoppedTime-t.startTime),s(),t.isRunning=!0},t.stop=t.pause=i[0].stop=i[0].pause=function(){var e=t.timeoutId;t.clear(),t.$emit("timer-stopped",{timeoutId:e,millis:t.millis,seconds:t.seconds,minutes:t.minutes,hours:t.hours,days:t.days})},t.clear=i[0].clear=function(){t.stoppedTime=new Date,a(),t.timeoutId=null,t.isRunning=!1},t.reset=i[0].reset=function(){t.startTime=t.startTimeAttr?new Date(t.startTimeAttr):new Date,t.endTime=t.endTimeAttr?new Date(t.endTimeAttr):null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0,a(),s(),t.isRunning=!1,t.clear()},i.bind("$destroy",function(){a(),t.isRunning=!1}),t.countdownattr?(t.millis=1e3*t.countdownattr,t.addCDSeconds=i[0].addCDSeconds=function(e){t.countdown+=e,t.$digest(),t.isRunning||t.start()},t.$on("timer-add-cd-seconds",function(e,i){r(function(){t.addCDSeconds(i)})}),t.$on("timer-set-countdown-seconds",function(e,i){t.isRunning||t.clear(),t.countdown=i,t.millis=1e3*i,o()})):t.millis=0,o();var s=function(){t.millis=new Date-t.startTime;var e=t.millis%1e3;return t.endTimeAttr&&(t.millis=t.endTime-new Date,e=t.interval-t.millis%1e3),t.countdownattr&&(t.millis=1e3*t.countdown),t.millis<0?(t.stop(),t.millis=0,o(),void(t.finishCallback&&t.$eval(t.finishCallback))):(o(),t.timeoutId=setTimeout(function(){s(),t.$digest()},t.interval-e),t.$emit("timer-tick",{timeoutId:t.timeoutId,millis:t.millis}),void(t.countdown>0?t.countdown--:t.countdown<=0&&(t.stop(),t.finishCallback&&t.$eval(t.finishCallback))))};(void 0===t.autoStart||t.autoStart===!0)&&t.start()}]}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=e)}.apply(e,arguments)})}(this),define("course-taking-dashboard.app/free-preview/free-preview-controller",["angular","./free-preview-service","angular-timer","ud-translate"],function(e,t,i,n){function r(e,t,i,n,r,a,o){t.secondsRemaining=300;var s=r.search();o.getCourse(t.courseId,"@default,purchaseInfo",s).then(function(e){t.course=e.data}),t.$watch(function(){return e.objectType},function(){var t=n.find("body");return"lecture"==e.objectType?void t.addClass("preview"):void t.removeClass("preview")}),t.$on("timer-stopped",function(){u()});var u=function(){r.path("/"),t.previewEndPopup(),t.getRemainingPreviewSeconds()};t.getRemainingPreviewSeconds=function(){var i=o.getPreviewCreatedTime(t.courseId);i.then(function(i){t.$broadcast("timer-set-countdown",i.data.remainingSeconds),a(function(){t.showTimer=!0,e.shouldStick=!0},1e3)})},t.generatePopupUrl=function(){var t=["old-free-preview","instructor-blurb","course-incentives","rating-information"],i="/staticx/udemy/js/ng/apps/course-taking-dashboard/free-preview/";return i+=t[e.freePreviewExperimentId],i+=".html"},t.previewEndPopup=function(){t.hideTimer=!0,n.find("body").addClass("oh")},t.reloadPage=function(){i.location.reload()}}var a=e.module("apps.courseTakingDashboard.freePreview.freePreviewController",[t.name,"timer",n.name]).controller("FreePreviewController",r);return r.$inject=["$rootScope","$scope","$window","$document","$location","$timeout","freePreviewService","gettextCatalog"],a}),define("course-taking-dashboard.app/free-preview/module",["angular","./free-preview-controller"],function(e,t){return e.module("apps.courseTakingDashboard.freePreview",[t.name])}),define("course-taking-dashboard.app/activities/activities-controller",["angular","jquery"],function(e,t){function i(e,i){var n=null;e.init=function(t){e.courseId=t},e.$on("$routeChangeSuccess",function(){n=i.path()}),e.loadStudentsList=function(){t("#students").find(".ud-userlist").ud_userlist("load")},e.isActive=function(e){return new RegExp(e).test(n)}}var n=e.module("apps.courseTakingDashboard.activities.activitiesController",[]).controller("ActivitiesController",i);return i.$inject=["$scope","$location"],n}),angular.module("services").factory("Activity",["$http",function(e){var t=function(e){angular.extend(this,e)};return t.getAll=function(t,i,n){return e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:{types:"all",beforeId:n}})},t.getSome=function(t){return e({url:"/api-1.1/activity/",method:"GET",params:{"ids[]":t}})},t.getAnnouncements=function(t,i,n){return e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:{types:"announcements",beforeId:n}})},t.getDiscussions=function(t,i,n,r){var a={types:"discussions",beforeId:n};return angular.isDefined(r)&&(a.unanswered=r?1:0),e({url:"/api-1.1/courses/"+i+"/feed",method:"GET",params:a})},t.getLectureDiscussions=function(t,i){return e({url:"/api-1.1/lectures/"+i+"/discussion-activities",method:"GET",params:{p:t,pageSize:12}})},t.updateActivity=function(t,i){return e({url:"/api-1.1/activity/"+t,method:"PUT",params:i})},t.deleteActivity=function(t){return e({url:"/api-1.1/activity/"+t,method:"DELETE"})},t.createComment=function(t,i){return e({url:"/api-1.1/activity/"+t+"/comment",method:"POST",data:{comment:i}})},t.updateComment=function(t,i,n){return e({url:"/api-1.1/activity/"+i+"/comments/"+t,method:"PUT",data:{comment:n}})},t.deleteComment=function(t,i){return e({url:"/api-1.1/activity/"+i+"/comments/"+t,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/like",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/unlike",method:"POST"})},t.followActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/follow",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-1.1/activity/"+t+"/unfollow",method:"POST"})},t.getMyActivity=function(t,i,n){return e({url:"/api-1.1/users/me/taking/"+t+"/my-activity",method:"GET",params:{activityClassName:i,id:n}})},t.updateDiscussionsLastSeenTime=function(t){return e({url:"/api-1.1/users/me/taking/"+t+"/activity-feed-last-seen-time",method:"PUT",data:{activityClassName:"DiscussionPostActivity"}})},t.updateAnnouncementsLastSeenTime=function(t){return e({url:"/api-1.1/users/me/taking/"+t+"/activity-feed-last-seen-time",method:"PUT",data:{activityClassName:"AnnouncementMadeActivity"}})},t}]),define("ng-root/services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){var t=function(e){angular.extend(this,e)};return t.update=function(t,i){return e({url:"/api-1.1/announcements/"+t,method:"PUT",params:i})},t}]),define("ng-root/services/Announcement",function(){}),angular.module("services").factory("Course",["$http","Utils",function(e,t){var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.get=function(t,i,n){return i=i||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+i,{params:n})},n.getCurriculum=function(t){var i={"fields[lecture]":"@min,completionRatio,progressStatus","fields[quiz]":"@min,completionRatio","fields[chapter]":"@min,description"};return e.get("/api-1.1/courses/"+t+"/curriculum",{params:i})},n.initChaptersAndLectures=function(e){var t=[];for(var i in e){var n=e[i],r="chapter"===n.__class?n.index:n.chapterIndex;"undefined"==typeof t[r]&&(t[r]=[]),"undefined"==typeof t[r].lectures&&(t[r].lectures=[]),"undefined"==typeof t[r].chapter&&(t[r].chapter={}),"chapter"===n.__class?t[r].chapter=n:("lecture"===n.__class||"quiz"===n.__class)&&t[r].lectures.push(n)}return t},n.getCourseFeedback=function(t){return e.get("/api-2.0/users/me/course-feedbacks/",{params:{course:t}})},n.getProgress=function(t){return e.get("/api-1.1/courses/"+t+"/progress")},n.getCourseReview=function(t){return e.get("/api-2.0/courses/"+t+"/reviews",{params:{"fields[course_review]":"@min",user:UD.me.id}})},n.createCourseReview=function(t,i){return e({method:"POST",url:"/api-2.0/courses/"+t+"/reviews",data:{rating:i.rating,title:i.title,content:i.content},params:{"fields[course_review]":"@min"}})},n.updateCourseReview=function(t,i){return e({method:"PATCH",url:"/api-2.0/courses/"+t+"/reviews/"+i.id,data:{rating:i.rating,title:i.title,content:i.content},params:{"fields[course_review]":"@min"}})},n.deleteCourseReview=function(t,i){return e({method:"DELETE",url:"/api-2.0/courses/"+t+"/reviews/"+i.id})},n.get5RandomStudents=function(t){return e.get("/api-1.1/courses/"+t+"/5-random-students")},n.initializeCourseData=function(e){return e.hasAtLeastOneVisibleInstructor=e.visibleInstructors.length>=1,e.hasSingleInstructor=1==e.visibleInstructors.length,e.hasAtLeastTwoInstructors=e.visibleInstructors.length>=2,e.hasExactlyThreeInstructors=3==e.visibleInstructors.length,e.hasMoreThanThreeInstructors=e.visibleInstructors.length>3,e.numberOfInstructors=e.visibleInstructors.length,e},n.updateSetting=function(t,i,n){var r={};return r[i]=n,e({url:"/api-1.1/courses/"+t+"/settings",method:"POST",data:{data:r}})},n.createAnnouncement=function(t,n,r){return e({url:"/api-1.1/announcements/",method:"POST",params:i.appendIgnoreWarningsParam(r),data:{courseId:t,content:n}})},n.searchDiscussionActivities=function(t,i,n,r){return e({url:"/api-1.1/courses/"+t+"/discussion-activities",method:"GET",params:{search:i,p:r,pageSize:n}})},n.createDiscussion=function(t,n,r,a,o){return e({url:"/api-1.1/discussions/",method:"POST",data:{courseId:t,lectureId:n,body:r,title:a},params:i.appendIgnoreWarningsParam(o)})},n.getCertificateOfUser=function(t,i){return e.get("/api-1.1/courses/"+t+"/certificate?userId="+i)},n.createCertificate=function(t){return e.post("/api-1.1/courses/"+t+"/certificate")},n.logView=function(t,i,n,r){return e({url:"/api-1.1/discover/log/view",method:"POST",data:{page:n,ids:r.join(","),context:t,subcontext:i}})},n}]),define("ng-root/services/Course",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.update=function(t,n,r){return e({url:"/api-1.1/discussions/"+t,method:"PUT",data:n,params:i.appendIgnoreWarningsParam(r)})},n.remove=function(t){return e({url:"/api-1.1/discussions/"+t,method:"DELETE"})},n.deleteDiscussionReply=function(t,i){return e({url:"/api-1.1/discussions/"+t+"/replies/"+i,method:"DELETE"})},n.addDiscussionReply=function(t,n,r){return e({url:"/api-1.1/discussions/"+t+"/replies",method:"POST",data:{body:n},params:i.appendIgnoreWarningsParam(r)})},n.updateDiscussionReply=function(t,n,r,a){return e({url:"/api-1.1/discussions/"+t+"/replies/"+n,method:"PUT",data:{body:r},params:i.appendIgnoreWarningsParam(a)})},n.getDiscussionReplies=function(t,i,n){return e({url:"/api-1.1/discussions/"+t+"/replies/",method:"GET",params:{p:i,pageSize:n}})},n}]),define("ng-root/services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.isCourseAnnouncementRateLimitReached=function(t){return e.get("/api-1.1/users/me/rate-limits/course-announcement/",{params:{courseId:t}})};var i={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio","fields[user]":"@min"};return t.getTakingCourses=function(t,n,r){var a={page:t,page_size:n};return angular.extend(a,i),r&&(a.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:a})},t.getTeachingCourses=function(t,i,n){var r={page:t,page_size:i,"fields[course]":"@default,earnings,status_label,is_private","fields[user]":"@min"};return n&&(r.search=n),e.get("/api-2.0/users/me/taught-courses",{params:r})},t.getWishlistedCourses=function(t,i,n){var r="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription",a={page:t,page_size:i,"fields[course]":r,"fields[user]":"@min"};return n&&(a.search=n),e.get("/api-2.0/users/me/wishlisted-courses",{params:a})},t.getArchivedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,n,r,a){var o={page:t,page_size:n,min_progress:r,max_progress:a};return angular.extend(o,i),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:i})},t.unfavoriteCourse=function(t){return e.delete("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:i})},t.unarchiveCourse=function(t){return e.delete("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e.delete("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t}]),define("ng-root/services/User",function(){}),angular.module("services").factory("Scroll",function(){var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("ng-root/services/Scroll",function(){}),angular.module("services").factory("Onboarding",["$http","$rootScope",function(e,t){var i=function(e){angular.extend(this,e)};return i.getOptions=function(t){return e({url:t,method:"GET"})},i.start=function(e,n,r){t.$watch("chaptersAndLectures",function(t){t&&e&&i.getOptions(e).success(function(e){e&&(require(["introjs","jquery","ud.googleanalytics"],function(t,i){var n=t();n.setOptions(e),n.start(),i(".introjs-nextbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","step-"+(n._currentStep-1)+"-next")}),i(".introjs-skipbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","exit")}),i(".start-tour-btn").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","start"),n.goToStep(2),window.scrollTo(0,0)}),r&&r(n)}),"undefined"!=typeof n&&n&&i.end(n))})},!0)},i.end=function(t){return e({url:t,method:"POST"})},i}]),define("ng-root/services/Onboarding",function(){}),define("ng-root/services/Utils",["angular"],function(e){e.module("services").factory("Utils",["$timeout","$q",function(t,i){var n=function(t){e.extend(this,t)};return n.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},n.removeItemFromArray=function(e,t){var i=t.indexOf(e);return 0>=i?(t.splice(i,1),!0):!1},n.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},n.convertParamToBool=function(e){return"true"===e||e>0},n.UdemyApiHelper={appendIgnoreWarningsParam:function(e,t){return t=t||{},t.ignoreWarnings=n.convertBoolToInt(e),t}},n.htmlTagsHasContent=function(e){return!!n.trimTags(e)},n.joinObjWithEnclosedTag=function(e,t){var i,n="";for(i in e)e.hasOwnProperty(i)&&(n+="<"+t+">"+e[i]+"</"+t+">");return n},n.debounce=function(e,n,r){var a,o=i.defer();return function(){var s=this,u=arguments,c=function(){a=null,r||(o.resolve(e.apply(s,u)),o=i.defer())},d=r&&!a;return a&&t.cancel(a),a=t(c,n),d&&(o.resolve(e.apply(s,u)),o=i.defer()),o.promise}},n}])}),define("ng-root/services",["./services/Activity","./services/Announcement","./services/Course","./services/Discussion","./services/User","./services/Scroll","./services/Onboarding","./services/Utils"],function(){}),define("course-taking-dashboard.app/activities/discussion/discussion-activities",["jquery","angular","ng-root/services"],function(e,t){function i(i,n,r,a,o,s,u,c,d){function l(){n.activities=[],h.page=1}function m(){h.page+=1,n.searchActivity()}function p(e){return e.total<=e.page*e.pageSize}function f(){var e=d.search().unanswered;return r.convertParamToBool(e)}var g={pageSize:10,page:1},h=t.extend({},g);n.me=s.getMe(),n.activities=[],n.loadingActivities=!1,n.reachedTheEndOfFeed=!1,n.currentTab="discussion",n.search={isDisabled:!1,value:null,unansweredChecked:f()},n.isInstructor=i.isInstructor,u.resetLectureTaking(),e(window).trigger("showDashboard"),a.updateDiscussionsLastSeenTime(n.courseId),n.$on("$routeChangeStart",function(e,t,i){i.scope.introObj&&i.scope.introObj.exit(),i.scope.introObj=null}),n.$on("discussionActivities:addActivity",function(e,t){e.stopPropagation(),t&&(n.search.value?(n.search.value="",l(),n.loadNextPage()):n.activities.unshift(t))}),n.$watch("search.value",function(e){l(),e&&!n.search.unansweredChecked?n.searchActivity():n.loadNextPage()}),n.searchActivity=function(){n.loadingActivities=!0,o.searchDiscussionActivities(i.courseId,n.search.value,h.pageSize,h.page).then(function(e){var t=e.data;h=t.pagination,n.loadingActivities=!1,h.page<=1&&(n.activities=[]),n.activities=n.activities.concat(t.data),n.reachedTheEndOfFeed=p(h)})},n.hasNoSearchResults=function(){return!n.loadingActivities&&!n.activities.length&&!!n.search.value},n.hasNoPageResults=function(){return!n.loadingActivities&&!n.activities.length&&!n.search.value},n.loadMore=function(){n.loadingActivities||n.reachedTheEndOfFeed||(n.search.value?m():n.loadNextPage())},n.loadNextPage=function(){return n.loadPage(h.page++)},n.loadPage=function(e){return n.loadingActivities=!0,a.getDiscussions(e,n.courseId,n.getBeforeId(n.activities),n.search.unansweredChecked).then(function(t){if(1>=e&&(n.search.isDisabled=0===t.data.length,n.activities=[]),n.loadingActivities=!1,n.reachedTheEndOfFeed=!t.data||0===t.data.length,n.activities=n.activities.concat(t.data),1==e){var i="/onboarding/course-dashboard",r="/onboarding/end-dashboard-tour";c.start(i,r,function(e){n.introObj=e,n.introObj.onexit(function(){n.introObj=null})})}})},n.showOnlyUnanswered=function(){n.search.unansweredChecked&&""!==n.search.value?n.search.value="":(l(),n.loadPage())}}var n=t.module("apps.courseTakingDashboard.activities.discussionActivities",["services"]).controller("DiscussionActivitiesController",i);return i.$inject=["$rootScope","$scope","Utils","Activity","Course","User","CourseTakingDashboardService","Onboarding","$location"],n}),define("course-taking-dashboard.app/activities/discussion/discussion-creation-pane",["angular","./../../../../directives/common/forms/module"],function(e,t){function i(e,t,i,n,r,a){var o,s=null;e.discussion={title:"",content:""},e.currentLecture={},e.state={formError:o=new r,showFullView:!1,isEditing:!1,isSubmitted:!1},e.showDiscussionPopover=!1,e.showDiscussion=function(){e.state.showFullView=!0},e.closeDiscussion=function(){e.state.showFullView=!1,e.resetForm()},e.resetForm=function(){e.discussion.title="",e.discussion.content="",e.currentLecture=null,o.reset()},e.onSubmitContent=function(r){var u;a.htmlTagsHasContent(r)&&e.state.isSubmitted===!0&&(e.discussion.content=r,u=t.lectureTakingPageActive?t.lectureId:e.currentLecture?e.currentLecture.id:null,i.createDiscussion(t.courseId,u,e.discussion.content,e.discussion.title,o.ignoreWarnings(e.discussion.content,s)).then(function(i){n.getMyActivity(t.courseId,"DiscussionPostActivity",i.data.id).then(function(t){e.resetForm(),e.state.showFullView=!1,e.$emit("discussionActivities:addActivity",t.data)})},function(e){o.processResponseError(e),UD.Utils.Feedback.fromObj(o.getFeedback())})),s=r}}function n(){return{restrict:"E",replace:!0,controller:"DiscussionCreationController",scope:{selected:"@",showLectureDropdown:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/discussion/discussion-creation-pane.html"}}var r=e.module("apps.courseTakingDashboard.activities.discussionCreationPane",[t.name]).controller("DiscussionCreationController",i).directive("discussionCreationPane",n);return i.$inject=["$scope","$rootScope","Course","Activity","FormError","Utils"],r}),define("course-taking-dashboard.app/activities/discussion/module",["angular","./discussion-activities","./discussion-creation-pane"],function(e,t,i){return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,i.name])}),define("course-taking-dashboard.app/activities/announcement/announcement-activities",["jquery","angular","ng-root/services"],function(e,t){function i(t,i,n,r,a){t.lastPageLoaded=0,t.me=n.getMe(),t.activities=[],t.loadingActivities=!1,t.reachedTheEndOfFeed=!1,t.currentTab="announcement",r.resetLectureTaking();var o=e.Event("showDashboard");e(window).trigger(o),t.loadNextPage=function(){t.loadPage(t.lastPageLoaded+1),t.lastPageLoaded++},t.loadMore=function(){t.loadingActivities||t.reachedTheEndOfFeed||t.loadNextPage()},t.loadPage=function(e){var n=i.getAnnouncements(e,t.courseId,t.getBeforeId(t.activities));t.loadingActivities=!0,n.then(function(e){if(t.loadingActivities=!1,e.data&&e.data.length||(t.reachedTheEndOfFeed=!0),t.activities=t.activities.concat(e.data),1==t.lastPageLoaded){var i="/onboarding/course-dashboard",n="/onboarding/end-dashboard-tour";a.start(i,n,function(e){t.introObj=e,t.introObj.onexit(function(){t.introObj=null})})}})},t.$on("$routeChangeStart",function(e,t,i){i.scope.introObj&&i.scope.introObj.exit(),i.scope.introObj=null}),t.loadNextPage(),i.updateAnnouncementsLastSeenTime(t.courseId)}var n=t.module("apps.courseTakingDashboard.activities.announcementActivities",["services"]).controller("AnnouncementsController",i);return i.$inject=["$scope","Activity","User","CourseTakingDashboardService","Onboarding"],n}),define("course-taking-dashboard.app/activities/announcement/announcement-creation-pane",["angular","./../../../../directives/common/forms/module"],function(e,t){function i(e,t,i,n,r,a,o){e.content="",e.state=e.state||{},e.state.formError=new a,e.state.isEditing=!0,e.state.isSubmitted=!1,e.state.isDisabled=!1,e.state.isInitialized=!1,e.state.resetValue=!1,e.state.formError.setErrorMessage(""),e.state.btnDisabled=!1;var s=null;i.isCourseAnnouncementRateLimitReached(t.courseId).success(function(t){e.state.formError.setErrorMessage(t.errorText),e.state.isDisabled=t.hasReached,e.state.isInitialized=!0}),e.state.editorValueCollectedFn=function(i){if(e.state.btnDisabled=!0,!o.htmlTagsHasContent(i)||e.state.isSubmitted){var a=e.state.formError.ignoreWarnings(i,s);e.saveSubmittedAnnouncementDetails(i),n.createAnnouncement(t.courseId,i,a).then(function(i){r.getMyActivity(t.courseId,"AnnouncementMadeActivity",i.data.id).then(function(t){e.activities.unshift(t.data),e.state.formError.reset()}),e.state.resetValue=!0,e.state.btnDisabled=!1},function(t){e.state.formError.processResponseError(t),e.state.resetValue=!1,e.retrieveLastSubmittedAnnouncementDetails(),e.state.btnDisabled=!1}),e.content=""}e.state.resetValue=!1,e.state.isSubmitted=!1,s=i
},e.saveSubmittedAnnouncementDetails=function(t){e.submittedAnnouncementDetails={content:t}},e.retrieveLastSubmittedAnnouncementDetails=function(){e.content=e.submittedAnnouncementDetails.content}}function n(){return{restrict:"E",replace:!0,scope:{activities:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/announcement/announcement-creation-pane.html",controller:"AnnouncementCreationCtrl"}}var r=e.module("apps.courseTakingDashboard.activities.announcementCreationPane",[t.name]).controller("AnnouncementCreationCtrl",i).directive("announcementCreationPane",n);return i.$inject=["$scope","$rootScope","User","Course","Activity","FormError","Utils"],r}),define("course-taking-dashboard.app/activities/announcement/module",["angular","./announcement-activities","./announcement-creation-pane"],function(e,t,i){return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,i.name])}),define("course-taking-dashboard.app/activities/module",["angular","./activities-controller","./discussion/module","./announcement/module"],function(e,t,i,n){return e.module("apps.courseTakingDashboard.activities",[t.name,i.name,n.name])}),define("course-taking-dashboard.app/curriculum/next-quiz",["angular","ud-template","ud-translate"],function(e){function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{quiz:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-quiz.html"}}var i=e.module("apps.courseTakingDashboard.curriculum.nextQuiz",["udTemplate","udTranslate"]).directive("nextQuiz",t);return i}),define("course-taking-dashboard.app/curriculum/next-lecture",["angular","ud-template","ud-translate"],function(e){function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{lecture:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-lecture.html",link:function(e){e.showPlayIcon=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type&&"Audio"!=e.lecture.asset.type&&"Presentation"!=e.lecture.asset.type&&"VideoMashup"!=e.lecture.asset.type?!1:!0},e.showRemaining=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type?!0:e.lecture.timeEstimate.duration>0},e.remainingMinutes=function(){if(e.lecture){if("Video"==e.lecture.asset.type||"ImportContent"==e.lecture.asset.type||"VideoMashup"==e.lecture.asset.type||"Audio"==e.lecture.asset.type)return e.lecture.timeEstimate.duration-e.lecture.startPosition;if("Article"==e.lecture.asset.type||"Document"==e.lecture.asset.type)return e.lecture.timeEstimate.duration}return 0},e.remainingSlides=function(){return e.lecture&&e.lecture.asset&&"Presentation"==e.lecture.asset.type?e.lecture.asset.data.numberOfSlides-e.lecture.startPosition:0},e.getCurrentLectureIcon=function(){var t={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",WufooSurvey:"icon-ok",File:"icon-file-alt",IFrame:"icon-retweet",SCORM:"icon-retweet",Locked:""},i="";return i=e.lecture&&e.lecture.asset&&e.lecture.asset.type?t[e.lecture.asset.type]:"icon-play-sign"}}}}var i=e.module("apps.courseTakingDashboard.curriculum.nextLecture",["udTemplate","udTranslate"]).directive("nextLecture",t);return i}),define("course-taking-dashboard.app/curriculum/curriculum-quiz",["angular","ud-template","ud-translate"],function(e){function t(e,t){return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-quiz.html",scope:{elementData:"="},link:function(i){i.getQuizHref=function(){return i.elementData.isLocked?"javascript:void(0);":e("fixurl")(i.elementData.url)},i.getCompletionRatio=function(){return t.completionRatio(i.elementData)},i.isCompleted=function(){return t.isCompleted(i.elementData)},i.isStarted=function(){return t.isStarted(i.elementData)},i.isActive=function(){return t.isActive(i.elementData)}}}}var i=e.module("apps.courseTakingDashboard.curriculum.quiz",["udTemplate","udTranslate"]).directive("curriculumQuiz",t);return t.$inject=["$filter","CourseTakingDashboardService"],i}),define("course-taking-dashboard.app/curriculum/curriculum-lecture",["angular","ud-template","ud-translate"],function(e){function t(e,t){return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-lecture.html",scope:{elementData:"="},link:function(i){i.getCurrentLectureIcon=function(){var e={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",WufooSurvey:"icon-ok",File:"icon-file-alt",IFrame:"icon-retweet",SCORM:"icon-retweet",Locked:""};return i.elementData.asset&&i.elementData.asset.type?e[i.elementData.asset.type]:""},i.getLectureHref=function(){return i.elementData.isLocked?"javascript:void(0);":e("fixurl")(i.elementData.url)},i.getCompletionRatio=function(){return t.completionRatio(i.elementData)},i.isCompleted=function(){return t.isCompleted(i.elementData)},i.isStarted=function(){return t.isStarted(i.elementData)},i.isActive=function(){return t.isActive(i.elementData)}}}}var i=e.module("apps.courseTakingDashboard.curriculum.lecture",["udTemplate","udTranslate"]).directive("curriculumLecture",t);return t.$inject=["$filter","CourseTakingDashboardService"],i}),define("course-taking-dashboard.app/curriculum/dashboard-instructor",["angular","ud-template"],function(e){function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{instructor:"=",showTitle:"=",isVisible:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/dashboard-instructor.html"}}var i=e.module("apps.courseTakingDashboard.curriculum.instructor",["udTemplate"]).directive("dashboardInstructor",t);return i}),define("course-taking-dashboard.app/curriculum/email-setting",["angular","ud-template","ud-translate"],function(e){function t(e,t,i){e.mapping=[],e.mapping["lecture-notification"]=i.getString("New Lecture Emails"),e.mapping["new-course-announcement"]=i.getString("New Announcement Emails"),e.mapping["send-asset-ready"]=i.getString("Lecture Ready Emails"),e.mapping["subscriber-notification"]=i.getString("New Student Emails"),e.mapping["new-review-instructor-notification"]=i.getString("New Course Review Emails"),e.mapping["daily-discussions-digest"]=i.getString("Daily Discussions Emails"),e.mapping["new-course-promotion"]=i.getString("Promotional Emails"),e.updateCourseSetting=function(){e.settingValue=e.checked?"on":"off",t.updateSetting(e.courseId,e.settingKey,e.settingValue)}}function i(){return{controller:t,restrict:"E",replace:!0,transclude:!0,scope:{courseId:"=",settingKey:"=",settingValue:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/email-setting.html",link:function(e){e.settingText=e.mapping[e.settingKey],e.checked="on"===e.settingValue}}}var n=e.module("apps.courseTakingDashboard.curriculum.emailSetting",["udTemplate"]).directive("emailSetting",i);return t.$inject=["$scope","Course","gettextCatalog"],n}),define("course-taking-dashboard.app/curriculum/module",["angular","./next-quiz","./next-lecture","./curriculum-quiz","./curriculum-lecture","./dashboard-instructor","./email-setting"],function(e,t,i,n,r,a,o){return e.module("apps.courseTakingDashboard.curriculum",[t.name,i.name,n.name,r.name,a.name,o.name])}),define("course-taking-dashboard.app/course-learning-goal/learning-goal-services",["angular"],function(e){function t(e){var t="/api-2.0/courses/{{courseId}}/course-learning-goals";return new e(t)}function i(e){var t="/api-2.0/courses/{{courseId}}/students/me/student-learning-goals";return new e(t)}function n(e){var t="/api-2.0/courses/{{courseId}}/students/me/student-learning-goal-statuses";return new e(t)}function r(e,t){function i(i){function n(n){var r=t(i)({courseId:n});return e({url:r,method:"GET"}).then(function(e){return e.data.results})}function r(n,r){var a="POST",o=t(i)({courseId:n});return r.id&&(o+="/"+r.id,a="PUT"),e({url:o,method:a,data:r}).then(function(e){return e.data})}function a(n,r){var a=t(i)({courseId:n})+"/"+r;return e({url:a,method:"DELETE"}).then(function(e){return e.data})}return{find:n,save:r,remove:a}}return i}var a=e.module("apps.courseTakingDashboard.learningGoalServices",[]).factory("CourseLearningGoal",t).factory("StudentLearningGoal",i).factory("LearningGoalBaseApi",r).factory("StudentLearningGoalStatus",n);return t.$inject=["LearningGoalBaseApi"],i.$inject=["LearningGoalBaseApi"],n.$inject=["LearningGoalBaseApi"],r.$inject=["$http","$interpolate"],a}),define("course-taking-dashboard.app/course-learning-goal/learning-goal-manager",["underscore","angular","./learning-goal-services"],function(e,t,i){function n(i,n,r,a,s,u){function c(o,c){function p(i){var n=!1;return(i.id||i.text)&&(n=t.isUndefined(e.findWhere(C,{id:i.id,custom_goal:i.text}))),n}function f(){return i.all([u.find(c),s.find(c),a.find(c)]).then(function(e){return h({learningGoalStatus:e[0][0],studentLearningGoals:e[1],courseLearningGoals:e[2]}),k.displayGoals})}function g(){return i.all([u.find(c),s.find(c)]).then(function(e){return h({learningGoalStatus:e[0][0],studentLearningGoals:e[1]}),k.displayGoals})}function h(t){t&&(T=t.learningGoalStatus,_=t.courseLearningGoals,C=t.studentLearningGoals),!T&&e.isEmpty(C)?(k.mode=n.EDIT,w()):T?T.is_skipped?(k.mode=n.SKIPPED,w()):k.displayGoals=C.map(y):k.mode=n.EDIT,k.displayGoals.push(b()),e.each(k.displayGoals,function(e){e.placeholder=d(o)}),T||(T={is_skipped:!1})}function v(e){return{text:e.value,is_completed:!1,placeholder:d(o)}}function y(e){return{text:e.custom_goal,is_completed:e.is_completed,placeholder:d(o),id:e.id}}function b(){return{text:"",is_completed:!1,placeholder:d(o)}}function w(){o===r.PREDEFINED?_&&(k.displayGoals=_.filter(m).map(v)):o===r.USER_GOAL&&(k.displayGoals=[b(),b()])}var k=this,T=null,_=null,C=null,x=[];k.mode=n.VIEW,k.displayGoals=[],k.loadExperimentGoals=function(){var e;switch(o){case r.PREDEFINED:e=f();break;case r.USER_GOAL:e=g()}return e},k.syncGoals=function(t){var n=e.filter(t,p).map(k.saveGoal).concat(x.map(k.deleteGoal));return T.is_skipped=!1,n.push(k.saveLearningGoalStatus(T)),i.all(n).then(function(){x=[]})},k.addGoal=function(){k.displayGoals.push(b())},k.removeGoal=function(t){k.displayGoals=e.reject(k.displayGoals,function(e){var i=!1;return t.$$hashKey===e.$$hashKey&&(t.id&&x.push(t),i=!0),i})},k.skipGoals=function(){return T.is_skipped=!0,u.save(c,T).then(function(e){T=e,h()})},k.saveGoal=function(e){var t=l(e);return s.save(c,t).then(function(t){return e.id||(e.id=t.id,C.push(t)),t})},k.deleteGoal=function(t){return s.remove(c,t.id).then(function(i){return e.reject(C,function(e){return e.id===t.id}),i})},k.saveLearningGoalStatus=function(e){return u.save(c,e).then(function(e){T=e})},k.getMode=function(){return k.mode}}function d(e){return e===r.PREDEFINED?o.PREDEFINED:o.USER_GOAL}function l(e){return{id:e.id,custom_goal:e.text,is_completed:e.is_completed}}function m(e){return e.value}return c}var r={SKIPPED:"skipped",EDIT:"edit",VIEW:"view"},a={PREDEFINED:1,USER_GOAL:2},o={PREDEFINED:"Type in a new goal...",USER_GOAL:"I want to be able to..."},s=t.module("apps.courseTakingDashboard.learningGoalManager",[i.name]).value("GOAL_VIEW_MODE",r).value("GOAL_EXP",a).value("GOAL_PLACEHOLDER_TEXT",o).factory("LearningGoalManager",n);return n.$inject=["$q","GOAL_VIEW_MODE","GOAL_EXP","CourseLearningGoal","StudentLearningGoal","StudentLearningGoalStatus"],s}),define("course-taking-dashboard.app/course-learning-goal/learning-goal",["underscore","angular","ud-translate","../../../directives/common/fields/module","./learning-goal-services","./learning-goal-manager"],function(e,t,i,n,r,a){function o(i,n,r,a,o){function s(){var e=m.loadExperimentGoals();e&&e.then(d)}function u(t){return t=e.reject(t,function(e){return""===e.text}),e.every(t,function(e){return e.is_completed})}function c(){var i=e.reject(m.displayGoals,function(e){return""===e.text});return!m.is_skipped&&i.length>0&&e.every(i,function(e){return t.isDefined(e.id)})}function d(){i.hasSavedGoals=c(),i.displayTest=!0}var l=parseInt(n.courseId),m=new r(n.courseLearningExperimentId,l);i.displayTest=!1,i.allGoalsComplete=u(m.displayGoals),i.incompleteText=o.getString("Check off your goals as you finish them"),i.completeText=o.getString("Congratulations, you achieved all your goals for this course!"),i.isSkipped=m.is_skipped,i.saveGoals=function(){m.syncGoals(i.getViewGoals()).then(function(){i.hasSavedGoals=c()}),i.switchToViewMode()},i.skipGoals=function(){m.skipGoals().then(i.switchToSkippedMode)},i.goalAccomplished=function(e){m.saveGoal(e)},i.filterEmptyGoalFn=function(){return function(e){return t.isDefined(e.id)}},i.completedEditingGoal=function(e,t){e.text&&t&&i.addGoal()},i.getViewGoals=function(){return m.displayGoals},i.removeGoal=function(e){m.removeGoal(e)},i.addGoal=function(){m.addGoal()},i.switchToEditMode=function(){m.mode=a.EDIT},i.switchToSkippedMode=function(){m.mode=a.SKIPPED},i.switchToViewMode=function(){m.mode=a.VIEW},i.getGoalTemplateUrl=function(){return"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/goal-templates/"+m.getMode()+".html"},i.$watch(function(){return m.displayGoals},function(e){i.allGoalsComplete=u(e)},!0),s()}function s(){return{scope:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/learning-goal.html",controller:"CourseLearningGoalController"}}function u(){return{restrict:"E",replace:!0,scope:{goal:"=",goalClick:"&"},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/goal-component.tpl.html",link:function(e){e.markAndNotify=function(){e.goal.is_completed=!e.goal.is_completed,t.isDefined(e.goalClick)&&e.goalClick({goal:e.goal})}}}}var c=t.module("apps.courseTakingDashboard.learningGoal",[i.name,n.name,r.name,a.name]).directive("learningGoalTest",s).directive("goalComponent",u).controller("CourseLearningGoalController",o);return o.$inject=["$scope","$rootScope","LearningGoalManager","GOAL_VIEW_MODE","gettextCatalog"],c}),define("course-taking-dashboard.app/course-learning-goal/module",["angular","./learning-goal","./learning-goal-services"],function(e,t,i){return e.module("apps.courseTakingDashboard.courseLearningGoal",[t.name,i.name])}),define("course-taking-dashboard.app/review/review",["angular","jquery","ud-template","ud-translate","ud-link"],function(e,t,i,n,r){function a(e,i,n){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/review/review.html",scope:{courseReview:"=",showReview:"="},link:function(a){var o=n.getString("Error happened while saving your review. Please submit your review again");a.isAddEnabled=function(){return!e.isInstructor&&(!a.courseReview||a.courseReview.isTemporary)},a.isUpdateEnabled=function(){return!e.isInstructor&&a.courseReview&&!a.courseReview.isTemporary},a.setTemporaryReviewStars=function(e,t){t.stopPropagation(),a.courseReview.rating=e},a.isStarOn=function(e){return a.courseReview&&a.courseReview.rating>=e},a.submitNewReview=function(){return"undefined"==typeof a.courseReview.rating?UD.Utils.Feedback.fromText(n.getString("It looks like you forgot to choose a star rating. Please click on a star and submit your review again."),"error"):void i.createCourseReview(e.courseId,a.courseReview).success(function(e){a.courseReview=e,t.fancybox.close()}).error(function(){UD.Utils.Feedback.fromText("Error happened while saving your review. Please submit your review again","error")})},a.updateReview=function(){i.updateCourseReview(e.courseId,a.courseReview).success(function(e){a.courseReview=e,t.fancybox.close()}).error(function(){UD.Utils.Feedback.fromText(o,"error")})},a.deleteReview=function(){window.confirm(n.getString("Are you sure you want to delete your review?"))&&i.deleteCourseReview(e.courseId,a.courseReview).success(function(){a.courseReview.isTemporary=!0}).error(function(){UD.Utils.Feedback.fromText(o,"error")})},a.reviewLink=e.courseId?r.to("course","reviews-popup",{courseId:e.courseId}):""}}}var o=e.module("apps.courseTakingDashboard.review",[i.name,n.name]).directive("review",a);return a.$inject=["$rootScope","Course","gettextCatalog"],o}),define("ng-root/services/course-quality/review-service",["angular"],function(e){function t(e,t){var i=this;i.getReviews=function(i){return e({url:"/api-2.0/quality-review-processes/",method:"GET",params:i}).then(function(e){return e.data.results=e.data.results.map(function(e){return new t(e)}),e.data})},i.getReviewForCourse=function(i){return e({url:"/api-2.0/quality-review-processes/",method:"GET",params:{course_id:i}}).then(function(e){var i=e.data.results;return i.length>0?new t(i[0]):null})},i.setReview=function(i,n){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+i,data:{status:n}}).then(function(e){return new t(e.data)})}}function i(e){function t(t){this.admin_rating=t.admin_rating,this.id=t.id,this.all_reviewers=(t.all_reviewers||[]).filter(function(e){return""!==e.name}).map(function(e){return e.name}),this.first_review_date=t.first_review_date,this.last_review_date=t.last_review_date,this.reviewer_id=(t.reviewer_user||{id:""}).id,this.reviewer=(t.reviewer_user||{name:""}).name,this.scorecard_id=(t.scorecard||{id:""}).id,this.status=t.status,this.waiting_since=(t.oldest_waiting_comment||{created:""}).created,this.when_submitted=t.status===e.resubmitted?t.modified:t.created,this.course={id:t.course.id,backdoor_login_url:t.course.backdoor_login_url,category:(t.course.primary_category||{title:"None"}).title,created:t.course.created,image:t.course.image_125_H,instructor_email:t.course.visible_instructors.length>0?t.course.visible_instructors[0].email:"",instructor_image:t.course.visible_instructors.length>0?t.course.visible_instructors[0].image_50x50:"",instructor_name:t.course.visible_instructors.length>0?t.course.visible_instructors[0].name:"",instructor_url:t.course.visible_instructors.length>0?t.course.visible_instructors[0].url:"",locale:(t.course.locale||{title:""}).title,num_lectures:t.course.num_published_lectures,num_quizzes:t.course.num_quizzes,title:t.course.title,url:t.course.url}}return t}var n={draft:"draft",needs_fixes:"needs_fixes",submitted:"submitted_for_review",resubmitted:"resubmitted",in_review:"in_review",in_final_review:"submitted_for_final_review",waiting:"waiting_for_reply",approved:"approved"};return e.module("apps.reviewAdminInbox.reviewService",[]).constant("REVIEW_STATUS",n).factory("Review",["REVIEW_STATUS",i]).service("reviewService",["$http","Review",t])}),define("ud-me",[],function(){return UD.me}),define("ng-root/services/course-quality/feedback-service",["angular","./review-service","ud-me"],function(e,t,i){function n(e,t,n,r){var a=this;a.reviewId="",a.reviewStatus="",a.needsFixFeedbacksUnresolved=0,a.acceptableFeedbacksUnresolved=0,a.getFeedbacks=function(){return e({method:"GET",url:"/api-2.0/quality-review-processes/"+a.reviewId+"/quality-criteria-feedbacks",params:{"fields[quality_criteria]":"@min,solution_url,solution_text"}}).then(function(e){return e.data.results.map(function(e){return a.simplifiedFeedback(e)})})},a.updateIsFixed=function(t,i){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+a.reviewId+"/quality-criteria-feedbacks/"+t.id,data:{is_marked_as_fixed:i}})},a.submitReview=function(){return r.setReview(a.reviewId,n.resubmitted)},a.isResolved=function(e){return e.isMarkedAsFixed||a.instructorRepliedMostRecently(e)},a.instructorRepliedMostRecently=function(e){var t=e.comments;return t&&t.length>0&&t[0].user.id==i.id},a.instructorRepliedOnce=function(e){for(var t=e.comments||[],n=0;n<t.length;n++)if(t[n].user.id==i.id)return!0;return!1},a.reviewerRepliedMostRecently=function(e){return e.comments&&e.comments.length>0&&!a.instructorRepliedMostRecently(e)},a.resolveFeedback=function(e){a.isResolved(e)||(e.rating===t.needs_fix?a.needsFixFeedbacksUnresolved-=1:e.rating===t.acceptable&&(a.acceptableFeedbacksUnresolved-=1))},a.addUnresolvedFeedback=function(e){a.isResolved(e)||(e.rating===t.needs_fix?a.needsFixFeedbacksUnresolved+=1:e.rating===t.acceptable&&(a.acceptableFeedbacksUnresolved+=1))},a.simplifiedFeedback=function(e){return{comments:e.comment_thread.comments,commentThreadId:e.comment_thread.id,created:e.created,id:e.id,isMarkedAsFixed:e.is_marked_as_fixed,isOpen:!1,rating:e.rating,solutionText:e.quality_criteria.solution_text,solutionUrl:e.quality_criteria.solution_url,title:e.quality_criteria.title}}}var r={needs_fix:"needs_fix",acceptable:"acceptable",exceptional:"exceptional"};return e.module("services.qualityFeedback.feedbackService",[t.name]).constant("FEEDBACK_RATING",r).service("feedbackService",["$http","FEEDBACK_RATING","REVIEW_STATUS","reviewService",n])}),define("course-taking-dashboard.app/quality-feedback/quality-feedback-controller",["angular","ng-root/services/course-quality/feedback-service"],function(e,t){function i(e,t,i){e.needsFixFeedbacksUnresolved=0,e.init=function(n){n&&(i.reviewId=n,i.getFeedbacks().then(function(n){e.needsFixFeedbacksUnresolved=n.filter(function(e){return e.rating===t.needs_fix&&!i.isResolved(e)}).length}))}}return e.module("apps.courseTakingDashboard.qualityFeedbackController",[t.name]).controller("QualityFeedbackController",["$scope","FEEDBACK_RATING","feedbackService",i])}),define("course-taking-dashboard.app/app",["angular","angular-route","angular-animate","ui-bootstrap","../../ud-core","../../config/http-interceptors","../../services","../../filters","../../directives-common","../../directives-activity","../../libs/module","./dashboard/module","./free-preview/module","./activities/module","./curriculum/module","./course-learning-goal/module","./review/review","./quality-feedback/quality-feedback-controller"],function(e,t,i,n,r,a,o,s,u,c,d,l,m,p,f,g,h,v){var y=e.module("apps.courseTakingDashboard",["ngRoute","ngAnimate","ui.bootstrap","libs",r.name,"controllers","directives.common","filters","directives",l.name,m.name,p.name,f.name,g.name,h.name,v.name]).config(["$routeProvider",function(e){var t=UD.Config.brand.is_discussions_enabled?"DiscussionActivitiesController":"AnnouncementsController";e.when("/",{controller:t,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/discussions",{controller:"DiscussionActivitiesController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/announcements",{controller:"AnnouncementsController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/lecture/:id",b).when("/quiz/:id",b).when("/chapter/:id",b).otherwise({redirectTo:"/"})}]).config(a),b={resolve:{initService:["$route","$location","CourseTakingDashboardService",function(e,t,i){var n=e.current.params.id,r=t.$$path.match(/\/(.*?)\/(.*)/)[1];return i.initLectureTaking(n,r),!0}]}};return y});
//# sourceMappingURL=app.js.map