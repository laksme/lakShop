define("jquery-widget-init",["jquery","jquery-migrate","jquery.ui","bootstrap"],function(e){var t=e.fn.button.noConflict();return e.fn.btn=t,Function.prototype.context=function(e){if(arguments.length<2&&"undefined"===arguments[0])return this;var t=this,n=arguments;return function(){for(var i=[],a=1;a<n.length;a++)i.push(n[a]);for(a=0;a<arguments.length;a++)i.push(arguments[a]);return t.apply(e,i)}},e}),define("ud.api",["jquery","jquery-migrate","jquery.cookie"],function(e){UD.API={version:"api-1.1",getHeaders:function(){var t={};return t["X-Udemy-Snail-Case"]=!0,e.cookie("client_id")&&(t["X-Udemy-Client-Id"]=e.cookie("client_id")),e.cookie("access_token")?t["X-Udemy-Bearer-Token"]=e.cookie("access_token"):e.cookie("client_secret")&&(t["X-Udemy-Client-Secret"]=e.cookie("client_secret")),t},call:function(t,n){return e.ajax(e.extend(!0,{url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},n))},regularCall:function(t,n){return e.ajax(e.extend({url:UD.Config.url.to_root+t},n))}},UD.API.Lecture={create:function(e,t,n){UD.API.call("/lectures/",{type:"POST",data:e,success:t,error:n})},read:function(e,t,n,i){UD.API.call("/lectures/"+e,{type:"GET",data:t,success:n,error:i})},update:function(e,t,n,i){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/lectures/"+e,{type:"PUT",data:t,success:n,error:i})},destroy:function(e,t,n){UD.API.call("/lectures/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:n})}},UD.API.Quiz={create:function(e,t,n){UD.API.call("/quizzes/",{type:"POST",data:e,success:t,error:n})},read:function(e,t,n,i){UD.API.call("/quizzes/"+e,{type:"GET",data:t,success:n,error:i})},update:function(e,t,n,i){t.method="PUT",t.disableMemcaceGets=1,UD.API.call("/quizzes/"+e,{type:"POST",data:t,success:n,error:i})},destroy:function(e,t,n){UD.API.call("/quizzes/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:n})}},UD.API.Chapter={create:function(e,t,n){UD.API.call("/chapters/",{type:"POST",data:e,success:t,error:n})},read:function(e,t,n,i){UD.API.call("/chapters/"+e,{type:"GET",data:t,success:n,error:i})},update:function(e,t,n,i){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/chapters/"+e,{type:"POST",data:t,success:n,error:i})},destroy:function(e,t,n){UD.API.call("/chapters/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:n})}},UD.API.Checkpoint={create:function(e,t,n){UD.API.call("/checkpoints/",{type:"POST",data:e,success:t,error:n})},read:function(e,t,n,i){UD.API.call("/checkpoints/"+e,{type:"GET",data:t,success:n,error:i})},destroy:function(e,t,n){UD.API.call("/checkpoints/"+e,{type:"DELETE",success:t,error:n})}},UD.API.Asset={read:function(e,t,n,i){UD.API.call("/assets/"+e,{type:"GET",data:t,success:n,error:i})},update:function(e,t,n,i){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/assets/"+e,{type:"POST",data:t,success:n,error:i})},destroy:function(e,t,n){UD.API.call("/assets/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:n})}},UD.API.Stat={increment:function(e,t,n,i){UD.API.call("/stats/"+e+"/increment",{type:"POST",data:{tags:t},success:n,error:i})},timing:function(e,t,n,i){UD.API.call("/stats/"+e+"/timing",{type:"POST",data:{time:t},success:n,error:i})}},UD.API.HelloBar={close:function(e,t,n){UD.API.call("/hello-bars/"+e+"/user-setting",{type:"PUT",data:{setting:"closed",value:"true"},success:t,error:n})}}}),define("ud.hellobar.initializer",["jquery-widget-init","ud.api"],function(e){e.widget("ud.ud_hellobar_initializer",{options:{},_create:function(){if("undefined"!=typeof UD.Config.helloBar&&UD.Config.helloBar.isDisabled===!1){if(UD.Config.helloBar.shouldSendDisableRequest)return void UD.API.HelloBar.close(UD.Config.helloBar.identifier);var t={identifier:UD.Config.helloBar.identifier};UD.Config.helloBar.referer&&(t.r=UD.Config.helloBar.referer),UD.Config.helloBar.refererABTestVal&&(t.refererAB=UD.Config.helloBar.refererABTestVal),UD.API.call("/hello-bars",{type:"GET",data:t,success:function(t){require(["moment-timezone","ud.hellobar"],function(n){var i={template:t.template,helloBarTitle:t.hello_bar_title,helloBarSubtitle:t.hello_bar_subtitle,actionType:t.action_type,cta:t.cta,couponCode:t.coupon_code,url:t.url,enableTimer:t.enable_timer,hasIcon:t.has_icon,iconUrl:t.icon_url,secondsLeft:n(t.end_time).tz("America/Los_Angeles").diff(n(),"seconds"),helloBarId:t.id,isCustom:!0,isHidden:t.is_hidden,templateName:t.alternative_template_name};e("<div>").ud_hellobar(i)})},error:function(){}})}},destroy:function(){}})}),define("ud.page",["jquery-widget-init","ud-link","jsuri","jquery.ba-throttle-debounce"],function(e,t,n){e.widget("ud.ud_page",{options:{pages:[]},_create:function(){if(this.element.data("page-name")){this.options.pages=this.element.data("page-name").split(",");for(var e=0;e<this.options.pages.length;e++)"undefined"!=typeof this._pages[this.options.pages[e]]&&this._pages[this.options.pages[e]].apply(this)}window.tmp=this},destroy:function(){},_pages:{}}),e.extend(e.ud.ud_page.prototype._pages,{"import-content":function(){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").show(),this.element.find("#title").val()||this.element.find("#title").val(t.title),this.element.find("#description").val()||this.element.find("#description").val(t.description)}.context(this))},"quick-import-content":function(){this.element.find("button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("#title").val(t.title),this.element.find("#description").val(t.description),this.element.find("button").show()}.context(this))},"message-delete-icon-hover":function(){this.element.hover(function(){e(this).find(".delete").show()},function(){e(this).find(".delete").hide()})},"admin-affiliate-approval":function(){this.element.click(function(t){t.preventDefault(),e.ajax({url:e(t.currentTarget).attr("href")}).success(function(n){UD.Utils.Feedback.fromText(n,"info"),e(t.currentTarget).parent().html('<span class="text-success">Done</span>')}).fail(function(n){UD.Utils.Feedback.fromText(n.responseText,"error"),e(t.currentTarget).parent().html('<span class="text-danger"><i class="icon-warning-sign text-danger"></i> Error</span>')})}.context(this))},"admin-reset-password":function(){this.element.click(function(){var t=this.element.parent().children(".resetPasswordResult");t.text("...");var n={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetPassword",n,function(e){t.html(e)})}.context(this))},"admin-reset-certificate":function(){this.element.click(function(){if(confirm("Are you sure you want to reset this certificate?")){var t=this.element.parent(".resetLinkContainer");t.text("..."),e.post("/apps/admin/certificate/reset",{certificateId:this.element.data("certificateId")},function(e){t.html(e)})}}.context(this))},"admin-reset-website-token":function(){this.element.click(function(){var t=this.element.parent().children(".resetWebsiteTokenResult");t.text("...");var n={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetWebsiteToken",n,function(e){t.html(e)})}.context(this))},"admin-course-update-organization":function(){this.element.click(function(){var t=this.element.parent().children(".result"),n=0;t.text("..."),""!==this.element.parent().find("#organizationId-text").val().trim()&&(n=this.element.parent().children("#update-source-organization-form").find("#organizationId").val());var i={courseId:this.element.data("courseId"),organizationId:n};e.post("/apps/admin/course/updateOrganization",i,function(e){t.html(e)})}.context(this))},"admin-course-update-subcategory":function(){this.element.parent().on("course_subcategory_changed",function(){e("#form-item-isLocked",this.element).removeClass("none")}),this.element.click(function(){var t=this.element.parent().children(".result"),n=this.element.parent().children("#update-course-subcategory-form"),i=n.find("#courseSubcategoryId").val(),a=n.find("#isLocked").is(":checked")?1:0;if(t.html("..."),i){var o={courseId:this.element.data("courseId"),courseSubcategoryId:i,isLocked:a};e.post("/apps/admin/course/updateCourseSubcategory",o,function(e){t.html(e)})}else t.html("Please select a subcategory!")}.context(this))},"admin-generate-change-password-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-change-password-link-result"),n=this.element;t.text("..."),e.post("/apps/admin/user/generateChangePasswordLink",{userId:n.data("userId")},function(e){t.html(e),n.remove()})}.context(this))},"admin-generate-backdoor-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-backdoor-link-result"),n=this.element;t.text("..."),e.post("/apps/admin/user/generateBackdoorLink",{userId:n.data("userId")},function(e){t.html(e),n.remove()})}.context(this))},"admin-activate-user-email":function(){this.element.click(function(){var t=this.element.parent().children(".user-email-status"),n=this.element;t.text("..."),e.post("/apps/admin/user/activateUserEmail",{userId:n.data("userId")},function(e){t.html(e),n.remove()})}.context(this))},"admin-mark-as-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".markingResult");t.text("...");var n={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/mark-as-fraudster",n,function(e){t.html(e)})}.context(this))},"admin-unmark-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".unmarkingResult");t.text("...");var n={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/unmark-fraudster",n,function(e){t.html(e)})}.context(this))},"admin-send-receipt":function(){this.element.click(function(){var t=this.element.parent().children(".sendReceiptResult");t.text("...");var n={transactionId:this.element.data("transactionId")};e.post("/apps/admin/user/send-receipt",n,function(e){t.html(e)})}.context(this))},"admin-copy-dispute-response":function(){this.element.click(function(){var t={transactionId:this.element.data("transactionId")};e.post("/apps/admin/manage-user-payment/generateDisputeInfo",t,function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)})}.context(this))},"admin-block-transaction-courses":function(){this.element.click(function(){var t=this.element,n=t.parent().children(".result");n.text("...");var i=t.data("blockStatus"),a={transactionId:t.data("transactionId"),blockStatus:i};e.post("/apps/admin/manage-user-payment/updateBlockStatus",a,function(e){n.html(e),i?(t.data("blockStatus",0),t.text("Unblock")):(t.data("blockStatus",1),t.text("Block"))})}.context(this))},"admin-test-asset-starred-form":function(){this.element.on("submit",function(){return e.post(this.element.attr("action"),this.element.serialize(),function(e){this.element.next().html(e)}.context(this),"json"),!1}.context(this)),this.element.find("input[type=checkbox]").on("change",function(){this.element.submit()}.context(this))},"admin-collection-memcache-reset-link":function(){this.element.click(function(){var t=this.element.parent().children(".collection-memcache-reset-result"),n=this.element;t.text("..."),e.post("/apps/admin/collection/resetCollectionMemcache",{collectionId:n.data("collectionId")},function(e){t.html(e),n.remove()})}.context(this))},"init-price-form":function(){var t=this.element.find("form"),n=function(){var e=t.find('input[name="isPremium"]:checked');0!==e.length&&("Yes"==e.attr("value")?(t.find("#form-item-initPrice").show(),t.find("#form-item-recurringPrice").show()):(t.find("#form-item-initPrice").hide(),t.find("#form-item-recurringPrice").hide()))};t.find("#form-item-isPremium input").each(function(){e(this).change(function(){n()})}),n()},"remove-links":function(){this.element.find("a").click(function(e){e.preventDefault()})},"test-video-toggle-form-button":function(){this.element.on("click",function(){var t=e(".test-video-form");t.is(":hidden")?t.slideDown():t.slideUp()})},"toggle-change-price-form":function(){var t=300,n=this.element.find(".change-pricing"),i=this.element.find(".show-pricing");e(".toggle-price-form").on("click",e.debounce(100,function(){i.slideToggle(t,function(){n.slideToggle(t),n.css("display","block")})}).context(this)),e(".change-pricing .cancel-link").on("click",e.debounce(100,function(){n.slideToggle(t,function(){i.slideToggle(t),i.css("display","block")})}).context(this))},"mark-announcement-as-read":function(){this.element.find(".unread").click(function(t){e(t.currentTarget).removeClass("unread"),e(t.currentTarget).addClass("read")})},"resize-course-title-page-element":function(){var t=function(){var t=this.element,n=0;marginTop=t.outerHeight(!0)-t.innerHeight(),t.siblings("div").each(function(){n+=e(this).outerHeight(!0)});var i=t.parent().height(),a=i-n;t.height(a);var o=t.height(),r=0,s=!0,l=0;do l=r,r=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)<60?parseInt(fontSize)+1:parseInt(fontSize):parseInt(fontSize)<42?parseInt(fontSize)+1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),r+=e(this).outerHeight(!0)}),r==l&&(s=!1);while(s&&o>r);do l=r,r=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)>24?parseInt(fontSize)-1:parseInt(fontSize):parseInt(fontSize)>12?parseInt(fontSize)-1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),r+=e(this).outerHeight(!0)}),r==l&&(s=!1);while(s&&r>o);var u=o-r;this.element.children(":nth-child(1)").css("marginBottom",u/2+"px")}.context(this);t(),e(window).resize(t)},"ajaxify-pagination":function(){e("li[class*=navigation-] a",this.element).live("click",function(){var t=e(this);t.closest(".slider-pagination").addClass("on");var n=t.attr("href");return e.ajax({type:"GET",url:n+"&displayType=ajax",success:function(e){t.closest(".courses").replaceWith(e)}}),!1})},"clear-notifications":function(){var t=this;this.element.click(function(n){var i=t.element.data("num");t.element.closest("#notifications").hide(),e("#dashboard-controller")&&e("#dashboard-controller").find("li.selected .notifier").hide(),e("#u_bar").find(".my-courses-dropdown")&&(e("#u_bar").find(".my-courses-dropdown:first").find("b").text(--i),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("b").text()&&e("#u_bar").find(".my-courses-dropdown").find("b").hide(),e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier")&&(e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text(--i),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text()&&e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").hide())),e.ajax({type:"GET",url:t.element.attr("href")}),n.preventDefault()})},"settings-page":function(){"disableAllEmails"==e("input#disableAllEmails",this.element).attr("id")&&e("input#disableAllEmails",this.element).attr("checked")&&this.element.find(".settings-form-l2 input[type=checkbox]").attr("disabled","disabled"),e("input,select",this.element).change(function(t){e(t.target).parents("form").find("button").removeClass("disabled")}),e("input#disableAllEmails",this.element).change(function(t){e(t.target).attr("checked")?e("#general-notification-settings input[type=checkbox]",this.element).attr("disabled","disabled"):e("#general-notification-settings input[type=checkbox]",this.element).removeAttr("disabled")}.context(this))},"categorized-select":function(){var t=this.element;t.hide();var n=t.find("option"),i={},a={},o=[],r="",s=e('<select style="width:auto"></select>');s.append('<option selected="selected" value="">-- Select One --</option>'),e("body").append(s);var l;e.each(n,function(t){if(0!=t)var n=e(this).attr("category");e(this).attr("selected")&&(o=e(this).val(),0!=t&&(r=n)),0!=t&&(i[n]||(i[n]=[],a[n]=[],s.append('<option value="'+n+'">'+n+"</option>")),i[n].push(e(this)),a[n].push(e(this).text()))});var l=e("<span>&nbsp;&gt;&nbsp;</span>");l.hide(),t.before(s).before(l);var u=function(n){t.html(""),n?(t.append('<option selected="selected" value="">-- Select One --</option>'),e.each(i[n],function(e){var i="";o==this.val()&&(t.children().removeAttr("selected"),i='selected="selected"'),t.append('<option category="'+n+'" value="'+this.val()+'" '+i+">"+a[n][e]+"</option>")}),l.show(),l.css("display","inline"),t.show()):(t.hide(),l.hide())};s.change(function(t){u(e(t.target).val())}),r&&(s.val(r),u(r))},"make-all-downloadable":function(){e("input[name=CheckAll]",this.element).click(function(){e("input[type=checkbox]").attr("checked","checked")}),e("input[name=UnCheckAll]",this.element).click(function(){e("input[type=checkbox]").removeAttr("checked")})},"manage-lectures":function(){e(".lectures li.certificate").hover(function(){e.each(e(this).attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).addClass("highlighted")})},function(){e.each(e(this).attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).removeClass("highlighted")})}),e("#sortable-lectures-list a.deleteItem").click(function(){var n=this.rel,a=e(this).closest("li"),o=e(this).closest("ul");if(a.addClass("deleting"),a.hasClass("chapter"))var r=1;if(r)var s=t.to("lecture","delete-chapter",{chapterId:n,displayType:"ajax"});else var s=t.to("lecture","delete",{lectureId:n,displayType:"ajax"});if(r)var l=confirm("Are you sure you want to remove this chapter?");else var l=confirm("Are you sure you want to remove this lecture?");return l&&e.post(s,function(){a.fadeOut(function(){i(o)})}),!1});var n=function(e){e.sortable({update:function(){i(e)}})}.context(this),i=function(t){e.post(this.element.data("post-url"),t.sortable("serialize"),function(){var t=0,n=!1,i=0;e.each(e("#sortable-lectures-list li"),function(a,o){e(this).hasClass("lecture")?(e(".lecture-index",this).text(t+=1),n&&e(this).hasClass("chaptered")?e(this).addClass("chaptered"):!n&&e(this).hasClass("chaptered")&&e(this).removeClass("chaptered")):e(this).hasClass("chapter")&&(n=!0,i=o+1,t=0)}),e("#sortable-lectures-list li").removeClass("deleting")})}.context(this);n(e("#sortable-lectures-list")),e(".highlight-requirements a").click(function(){"highlight requirements"==e(this).text()?(e(this).text("unhighlight requirements"),e(this).closest("div").removeClass("highlight-requirements"),e(this).closest("div").addClass("unhighlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).addClass("constant-highlighted")}),e(this).closest(".highlighted-links").addClass("constant-highlighted-links")):"unhighlight requirements"==e(this).text()&&(e(this).text("highlight requirements"),e(this).closest("div").removeClass("unhighlight-requirements"),e(this).closest("div").addClass("highlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).removeClass("constant-highlighted")}),e(this).closest(".highlighted-links").removeClass("constant-highlighted-links"))})},"date-form-item-opts":function(){var t=this.element.data("disable-weekdays"),n=this.element.data("disable-pastdays"),i=this.element.data("disable-pastmonths"),a=this.element.data("weekdays");this.element.siblings("#"+this.element.data("id")).datepicker("option","beforeShowDay",function(o){if(res=[!0],t)for(var r=o.getDay(),s=0;s<a.length;s++)-1!=e.inArray(r,a)&&(res=[!1]);if(n){var l=new Date;l.setDate(l.getDate()-1);var u=l.getTime()+6e4*l.getTimezoneOffset(),d=new Date(u+-288e5);d>=o&&(res=[!1])}if(i){{var c=new Date;o.getMonth()}c.setDate(0),c>o&&(res=[!1])}return res})},"payment-report":function(){function t(){var t=S.element.data("month"),n=S.element.data("course"),i=e("#dashboard-content").data("userid"),a="?userId="+i;return t&&(a+="&month="+t),n&&(a+="&course="+n),a}function n(e,t){var n=e.split("="),i=decodeURIComponent(n[0]),a=decodeURIComponent(n[1]);return i==t?a:null}function i(){require(["jquery.jqGrid"],function(){var e=u("sale-type"),n=t(),i=u(D),o=u(T),r=u(j);a(h+n,v,w,k,D,i),a(m+n,b,_,C,T,o),e&&"all"!=e?(a(p+n+"&saleType="+e,g,y,x,j,r),c("#"+e)):a(p+n,g,y,x,j,r)})}function a(t,n,i,a,o,s){return t.length<=0?!1:((!s||0>=s)&&(s=1),void e.ajax({type:"GET",url:n,data:"",dataType:"json",success:function(n){colNames=n.colNames,colModel=n.colModel,tableCaption=n.caption,require(["jquery.jqGrid"],function(){e(i).jqGrid("GridUnload"),e(i).jqGrid({url:t,datatype:"json",height:"100%",autowidth:!0,pager:a,rowNum:30,rowList:[10,20,30,40,50],colNames:colNames,colModel:colModel,viewrecords:!0,shrinkToFit:!0,caption:tableCaption,page:s,emptyDataText:"No records to view!",cellattr:function(){return'style="white-space: normal;'},gridComplete:function(){0==e(i).getGridParam("records")&&r(i)},onPaging:function(){var t=e(i).getGridParam("page");d(o,t)}}),e(i).jqGrid("navGrid",a,{edit:!1,add:!1,del:!1})}.context(this))}.context(this)}))}function o(e){return e.length>0&&"#"===e[0]&&(e=e.substr(1)),e}function r(t){var n=e(t),i=n.getGridParam("emptyDataText"),a=n.parents(".ui-jqgrid-view");a.find(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv").hide(),a.find(".ui-jqgrid-titlebar").after(""+i)}function s(){var e=document.location.hash;return o(e)}function l(e){window.location.hash=e}function u(e){var t=s(),i=null;if(t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#"))),t.indexOf(",")>-1)for(var a=t.split(","),o=0;o<a.length&&(i=n(a[o],e),null===i);o++);else i=n(t,e);return i}function d(e,t){var i=s(),a=e+"="+t;if(i.length<=0)return void l(a);if(u(e)){for(var o=i.split(","),r=0;r<o.length;r++)if(n(o[r],e)){o[r]=a;break}i=o[0];for(var r=1;r<o.length;r++)i+=","+o[r]}else i+=","+a;l(i)}function c(t){e("#all-tran").attr("class","btn"),e("#coupon").attr("class","btn"),e("#company-coupon").attr("class","btn"),e("#deal").attr("class","btn"),e("#organic").attr("class","btn"),e("#promotion").attr("class","btn"),e("#ad-program").attr("class","btn"),e("#mobile-ad-program").attr("class","btn"),e("#in-app-purchase").attr("class","btn"),e("#email-marketing").attr("class","btn"),e("#affiliate").attr("class","btn"),e(t).attr("class","btn btn-info")}function f(e){var n=e.data.filterType,i=p;i+=t(),i+="&saleType="+n,a(i,g,y,x,j,1),c("all"==n?"#all-tran":"#"+n),d("sale-type",n),d(j,"1")}var p="/dashboard/get-subscriber-transactions",h="/dashboard/get-refunds",m="/dashboard/get-deal-payments",g="/dashboard/transaction-table-info.html",v="/dashboard/refunds-table-info.html",b="/dashboard/deal-payments-table-info.html",y="#transaction-table",w="#refund-table",_="#dealpayment-table",x="#tr-pager",k="#ref-pager",C="#deal-pager",j="tr-page",T="deal-page",D="ref-page",S=this;e("#all-tran",this.element).click({filterType:"all"},f),e("#coupon",this.element).click({filterType:"coupon"},f),e("#company-coupon",this.element).click({filterType:"company-coupon"},f),e("#deal",this.element).click({filterType:"deal"},f),e("#organic",this.element).click({filterType:"organic"},f),e("#promotion",this.element).click({filterType:"promotion"},f),e("#ad-program",this.element).click({filterType:"ad-program"},f),e("#mobile-ad-program",this.element).click({filterType:"mobile-ad-program"},f),e("#in-app-purchase",this.element).click({filterType:"in-app-purchase"},f),e("#email-marketing",this.element).click({filterType:"email-marketing"},f),e("#affiliate",this.element).click({filterType:"affiliate"},f),i()},"feedbacks-bar":function(){var t=this.element.find("div.feedback-bar");t.each(function(t,n){e(n).hide(),e(n).click(function(){e(this).dequeue()})});var n=function(t,i){e(t[i]).slideDown({duration:"slow",queue:!1}).delay(4e3).slideUp("slow",function(){i<t.length-1?n(t,i+1):this.element.hide()}.context(this))}.context(this);this.element.show(),setTimeout(function(){n(t,0)}.context(this),2e3)},"admin-request-approval-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault();var n=e(e(t.target).find("textarea")[0]),i=e(t.target).find("input");if(i.each(function(){return"Rejected"==e(this).val()?(i=e(this),!1):void 0}),""==n.val()&&"checked"==i.attr("checked")){var a=e(e(t.target).find(".notification")[0]);a.html('<span style="color:red">- Enter a reason!</span>')}else e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(){t.target||(t.target=t.srcElement||document),e(t.target).attr("disabled","disabled"),a=e(e(t.target).find(".notification")[0]),a.html('<span style="color:green">- Success!</span>')},error:function(){t.target||(t.target=t.srcElement||document),a=e(e(t.target).find(".notification")[0]),a.html('<span style="color:red">- Failure!</span>')}})})},"admin-shorten-url-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault(),e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(n){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(n),ele.html("<span class='result "+res.result+"'>"+res.result+":</span> <span class='url'>"+res.info+"</span>")},error:function(n){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(n.responseText),ele.html("<span style='color:red'>Error: "+res+"</span>")}})})},"admin-super-coupon-form":function(){function t(){"given"==e("#course-set").val()?e("#course-ids").removeAttr("readonly"):e("#course-ids").attr("readonly","readonly")}t(),e("#course-set").change(t.context(this))},"affiliate-dashboard":function(){var t=e("input#searchbox");t.on("keypress",function(e){13==e.which&&($uri=new n(window.location).deleteQueryParam("p").replaceQueryParam("q",t.val().trim()),window.location=$uri.toString())})},"organizations-landing":function(){var t=0;setInterval(function(){t++;var n=t%4;e(".discover-courses-list").children().css({opacity:1}).delay(50).animate({opacity:"-=1"},600),setTimeout(function(){e(".discover-courses-list").children().css({display:"none"})},655),setTimeout(function(){var t=e(".discover-courses-list").children().slice(3*n,3*(n+1));t.css({display:"inline-block",opacity:0}).delay(50).animate({opacity:"+=1"},800)},660)},4e3)},"ajax-a-tag":function(){var t=this.element;t.bind("click",function(n){n.preventDefault(),e.ajax(t.attr("href")).done(function(e){t.html(e),t.unbind("click").bind("click",function(e){e.preventDefault()})}).fail(function(){t.html("try again")})})},"ios-deeplink":function(){var e=void 0===this.element.data("fallBackUrl")?null:this.element.data("fallBackUrl"),t=void 0===this.element.data("courseId")?null:this.element.data("courseId"),n="udemy://discover",i=void 0===this.element.data("discoveryTab")?null:this.element.data("discoveryTab");e=decodeURIComponent(e),t?(t=parseInt(t),t&&(n+="?courseId="+t)):i&&(n+="?discoverUnitId="+i),window.setTimeout(function(){window.location=e},400),window.location=n},"android-deeplink":function(){var e=this.element,t=void 0===e.data("fallBackUrl")?null:e.data("fallBackUrl");window.setTimeout(function(){window.location=decodeURIComponent(t)},400)},"teach-iframe":function(){e("body").on("change",function(){parent.resizeIframe()})},"close-promote-mobile":function(){e(".close-promote-mobile",this.element).click(function(){UD.API.call("/users/me/settings/",{type:"POST",data:{settings:{showDownloadMobileBanner:0}}}),this.element.slideUp(1e3)}.bind(this))},"survey-hide-phone-number":function(){e("#form-item-phoneNumber",this.element).children("label").hide(),e("#emailSubscriberList, #youtubeSubscriberList",this.element).change(function(){var t=parseInt(e("#emailSubscriberList").val()),n=parseInt(e("#youtubeSubscriberList").val());t>=5e3||n>=5e3?e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).show():e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).hide()}),e("#emailSubscriberList, #youtubeSubscriberList",this.element).trigger("change")},"landing-page-v41":function(){var t=e(".show-nav-on-this",this.element);if(t.length){var n,i=e(".hidden-course-bar",this.element),a=t.offset().top;e(window).scroll(function(){n=e(this).scrollTop(),n>a-65?i.addClass("slideDown"):i.removeClass("slideDown")})}e(".cur-list-row").toggle(function(){e(this).addClass("on")},function(){e(this).removeClass("on")}),e(".landing-page").scrollspy({target:"#scrollspy"})}})}),define("ud.procedurals",["jquery-widget-init","ud.page"],function(e){window.popitup=function(e,t,n){var i=window.open(e,"Popup","width="+t+",height="+n);return window.focus&&i.focus(),!1},window.iePlaceholder=function(){e(".ie input[type=text], .ie input[type=email],.ie input[type=search], .ie textarea").each(function(){var t=e(this).attr("placeholder");e(this).val()||e(this).val(t),e(this).focus(function(){e(this).val()==t&&e(this).val("")}).blur(function(){e(this).val()||e(this).val(t)})})}}),define("ud.tabs",["jquery","jquery-migrate"],function(e){var t=function(){return location.hash},n=function(){var n=e(t()),i=e('a[href="'+t()+'"]').parent();n.siblings().hide(),n.show(),i.siblings().removeClass("on"),i.addClass("on")};e.fn.tabnav=function(i){return this.each(function(){var a=this,o=function(){"function"==typeof i&&i.call(this)};!t()||t()&&!e(t(),a).length?(e(">ul li:first-child",a).addClass("on"),e(">div>div:first-child",a).fadeIn(function(){o()})):n()})};var i=function(){e(".ins-slider").each(function(){e(t()).closest(".ins-bio").length&&a.init(e(this),e(t()).index())})},a={init:function(t,n){0>n&&(n=0);var i={ul:e(">.mask>ul",t),details_mask:t.parent().find(".ins-details-mask"),nav:e(">a",t),prev:e("a.prev",t),next:e("a.next",t),ins_count:function(){return e("li",this.ul).size()}},a=function(){i.prev.attr("href","#inst"+(n-1)),i.next.attr("href","#inst"+(n+1)),i.ul.css("margin-left",-90*n),i.details_mask.css("left",-100*n+"%"),i.nav.removeClass("disabled"),1>n&&i.prev.addClass("disabled"),n>=i.ins_count()-1&&i.next.addClass("disabled")};a(n)}};e.fn.initTabs=function(){window.onhashchange=function(){n(),i()},window.onload=function(){i()}}}),define("ud.initializer",["jquery-widget-init","ud-link","jquery-ui-timepicker-addon","ud.procedurals","ud.tabs"],function(e,t){e.fn.ud_initialize=function(n){var i={onComplete:function(){}},a=e.extend(i,n),o=e(this);e("#home-link",o).bind("contextmenu",function(){return!1}).mousedown(function(t){3==t.which&&(t.preventDefault(),e("#logo-popup",o).css("top",0))}),e(".logo-popup-close",o).click(function(){e("#logo-popup",o).css("top","-300px")}),e(".date-time-form-item.fixed-time").each(function(n,i){var a={showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",showHour:!1,showMinute:!1,showSecond:!1,showTime:!1,showButtonPanel:!1,hour:23,minute:59,onSelect:function(){e(this).datepicker("hide")}};e(i).data("disable-pastdays")&&(a.minDate=new Date),e(i).datetimepicker(a)}),e(".date-time-form-item").datetimepicker({showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",hour:23,minute:59}),e(".date-form-item").datepicker({showOn:"both",buttonImage:t.toImages("calendar.gif"),buttonImageOnly:!0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",showButtonPanel:!1,onSelect:function(){e(this).datepicker("hide")}}),e(".time-form-item").timepicker({ampm:!0}),e(".auth input",o).focus(function(){e(this).parent().removeClass("error wrong")}),window.iePlaceholder(),e(".simple-tooltip",o).each(function(){e(this).prepend("<span>"+e(this).data("tooltip")+"</span>")}),e('[data-toggle="tooltip"]').tooltip({container:"body",animation:!1}),e(".collapsable-text",o).each(function(){var t=e(this),n=t.height(),i=parseInt(t.data("collapsable-text-height"))+20,a="(more)",o=t.data("more-btn-text");o&&(a=o);var r="(less)",s=t.data("less-btn-text");
s&&(r=s),n>i&&(e(this).addClass("compressed"),t.height(i),t.after("<a href='' class='collapsable-more'><b>"+a+"</b></a>"),e(".collapsable-more").toggle(function(){return e(this).prev().css("height","auto").removeClass("compressed"),e(this).addClass("collapsable-less"),e(this).text(r),!1},function(){return e(this).prev().height(i).addClass("compressed"),e(this).removeClass("collapsable-less"),e(this).text(a),!1}))}),e(".js-simple-collapse",o).each(function(){var t=e(this),n=t.height(),i=parseInt(t.data("height")),a="more",o=t.data("more");o&&(a=o),n>i&&(e(this).addClass("oh"),t.height(i),t.after("<a href='#' class='more-btn dib mt10'>"+a+"</a>"),e(".more-btn").click(function(){return e(this).prev().css("height","auto"),e(this).remove(),e(".landing-page").scrollspy("refresh"),!1}))});var r=new Array;r[".input-table"]={mid:"ud.formtooltips",fname:"formTooltips"},r["[rel=isEmailValid]"]={mid:"ud.emailValidator",fname:"emailValidator"},r["#collapsible-menu"]={mid:"ud.collapse",fname:"collapseMenu"},r[".dropdownmenu"]={mid:"ud.dropdown",fname:"dropdownmenu"},r["input[type=radio].ud-star"]={mid:"jquery.rating",fname:"rating"},r["textarea[class*=expand]"]={mid:"jquery.textarea-expander",fname:"TextAreaExpander"},r[".ud-actionlogger"]={mid:"ud.actionlogger",fname:"ud_actionlogger"},r[".ud-android-smart-banner"]={mid:"ud.android.smart.banner",fname:"ud_android_smart_banner"},r[".ud-articlecreator"]={mid:"ud.articlecreator",fname:"ud_articlecreator"},r[".ud-assetcreator"]={mid:"ud.assetcreator",fname:"ud_assetcreator"},r[".ud-assetcreator-externallink"]={mid:"ud.assetcreator.externallink",fname:"ud_assetcreator_externallink"},r[".ud-assetcreator-fileuploader"]={mid:"ud.assetcreator.fileuploader",fname:"ud_assetcreator_fileuploader"},r[".ud-audiocreator"]={mid:"ud.audiocreator",fname:"ud_audiocreator"},r[".ud-autocomplete"]={mid:"ud.autocomplete",fname:"ud_autocomplete"},r[".ud-autosuggestformitem"]={mid:"ud.autosuggestformitem",fname:"ud_autosuggestformitem"},r[".ud-banners"]={mid:"ud.banners",fname:"ud_banners"},r[".ud-bookmark"]={mid:"ud.bookmark",fname:"ud_bookmark"},r[".ud-bulletlistformitem"]={mid:"ud.bulletlistformitem",fname:"ud_bulletlistformitem"},r[".ud-buylicenses"]={mid:"ud.buylicenses",fname:"ud_buylicenses"},r[".ud-categorization"]={mid:"ud.categorization",fname:"ud_categorization"},r[".ud-collection-onelist"]={mid:"ud.collection.onelist",fname:"ud_collection_onelist"},r[".ud-newcouponcodeform"]={mid:"ud.newcouponcodeform",fname:"ud_newcouponcodeform"},r[".ud-coursecarousel"]={mid:"ud.coursecarousel",fname:"ud_coursecarousel"},r[".ud-content-loader"]={mid:"ud.content.loader",fname:"ud_content_loader"},r[".ud-courseimpressiontracker"]={mid:"ud.courseimpressiontracker",fname:"ud_courseimpressiontracker"},r[".ud-courseprivacyformitem"]={mid:"ud.courseprivacyformitem",fname:"ud_courseprivacyformitem"},r[".ud-newcreditcard"]={mid:"ud.newcreditcard",fname:"ud_newcreditcard"},r[".ud-newcreditcardexpirationformitem"]={mid:"ud.newcreditcardexpirationformitem",fname:"ud_newcreditcardexpirationformitem"},r[".ud-curriculumform"]={mid:"ud.curriculumform",fname:"ud_curriculumform"},r[".ud-dashboard"]={mid:"ud.dashboard",fname:"ud_dashboard"},r[".ud-demo"]={mid:"ud.demo",fname:"ud_demo"},r[".ud-disqus"]={mid:"ud.disqus",fname:"ud_disqus"},r[".ud-ebookcreator"]={mid:"ud.ebookcreator",fname:"ud_ebookcreator"},r[".ud-ebookviewer"]={mid:"ud.ebookviewer",fname:"ud_ebookviewer"},r[".ud-extras"]={mid:"ud.extras",fname:"ud_extras"},r[".ud-fileupload"]={mid:"ud.fileupload",fname:"ud_fileupload"},r[".ud-fileuploadform"]={mid:"ud.fileuploadform",fname:"ud_fileuploadform"},r[".ud-s3upload"]={mid:"ud.s3upload",fname:"ud_s3upload"},r[".ud-s3videouploadform"]={mid:"ud.s3videouploadform",fname:"ud_s3videouploadform"},r[".ud-legacy-formajaxify"]={mid:"ud.legacy.formajaxify",fname:"ud_legacy_formajaxify"},r[".ud-form"]={mid:"ud.form",fname:"ud_form"},r[".ud-hellobar"]={mid:"ud.hellobar",fname:"ud_hellobar"},r[".ud-gift-card"]={mid:"ud.giftcard",fname:"ud_giftcard"},r[".ud-branchmetrics"]={mid:"ud.branchmetrics",fname:"ud_branchmetrics"},r[".ud-jwplayer-communicator"]={mid:"ud.jwplayer.communicator",fname:"ud_jwplayer_communicator"},r[".ud-iframecreator"]={mid:"ud.iframecreator",fname:"ud_iframecreator"},r[".ud-imageuploader"]={mid:"ud.imageuploader",fname:"ud_imageuploader"},r[".ud-imageuploadwithpreview"]={mid:"ud.imageuploadwithpreview",fname:"ud_imageuploadwithpreview"},r[".ud-importcontent"]={mid:"ud.importcontent",fname:"ud_importcontent"},r[".ud-inplaceeditor"]={mid:"ud.inplaceeditor",fname:"ud_inplaceeditor"},r[".ud-inplacenoteeditor"]={mid:"ud.inplacenoteeditor",fname:"ud_inplacenoteeditor"},r[".ud-intelligence"]={mid:"ud.intelligence",fname:"ud_intelligence"},r[".ud-intelligence-dropdown"]={mid:"ud.intelligence.dropdown",fname:"ud_intelligence_dropdown"},r[".ud-interests"]={mid:"ud.interests",fname:"ud_interests"},r[".ud-interestsformitem"]={mid:"ud.interestsformitem",fname:"ud_interestsformitem"},r[".ud-invitationrequest"]={mid:"ud.invitationrequest",fname:"ud_invitationrequest"},r[".ud-jwplayer"]={mid:"ud.jwplayer",fname:"ud_jwplayer"},r[".ud-landingpage-curriculum"]={mid:"ud.landingpage.curriculum",fname:"ud_landingpage_curriculum"},r[".ud-loader"]={mid:"ud.loader",fname:"ud_loader"},r[".ud-locale-setting"]={mid:"ud.locale.setting",fname:"ud_locale_setting"},r[".ud-manageinstructors"]={mid:"ud.manageinstructors",fname:"ud_manageinstructors"},r[".ud-mashupcreator"]={mid:"ud.mashupcreator",fname:"ud_mashupcreator"},r[".ud-message"]={mid:"ud.message",fname:"ud_message"},r[".ud-multiplechoicequestionformitem"]={mid:"ud.multiplechoicequestionformitem",fname:"ud_multiplechoicequestionformitem"},r[".ud-notetaking"]={mid:"ud.notetaking",fname:"ud_notetaking"},r[".ud-notifications"]={mid:"ud.notifications",fname:"ud_notifications"},r[".ud-page"]={mid:"ud.page",fname:"ud_page"},r[".ud-floatingmenu"]={mid:"ud.floatingmenu",fname:"ud_floatingmenu"},r[".ud-pagination"]={mid:"ud.pagination",fname:"ud_pagination"},r[".ud-paymentreport"]={mid:"ud.paymentreport",fname:"ud_paymentreport"},r[".ud-scormplayer"]={mid:"ud.scormplayer",fname:"ud_scormplayer"},r[".ud-statementdetail"]={mid:"ud.statementdetail",fname:"ud_statementdetail"},r[".ud-newpayment"]={mid:"ud.newpayment",fname:"ud_newpayment"},r[".ud-popover"]={mid:"ud.popover",fname:"ud_popover"},r[".ud-piechart"]={mid:"ud.piechart",fname:"ud_piechart"},r[".ud-toggler"]={mid:"ud.toggler",fname:"ud_toggler"},r[".ud-popup"]={mid:"ud.popup",fname:"ud_popup"},r[".ud-popupcoursesubmit"]={mid:"ud.popupcoursesubmit",fname:"ud_popupcoursesubmit"},r[".ud-sharebutton"]={mid:"ud.sharebutton",fname:"ud_sharebutton"},r[".ud-presentationcreator"]={mid:"ud.presentationcreator",fname:"ud_presentationcreator"},r[".ud-presentationviewer"]={mid:"ud.presentationviewer",fname:"ud_presentationviewer"},r[".ud-promotion"]={mid:"ud.promotion",fname:"ud_promotion"},r[".ud-readmore"]={mid:"ud.readmore",fname:"ud_readmore"},r[".ud-search"]={mid:"ud.search",fname:"ud_search"},r[".ud-formajax"]={mid:"ud.formajax",fname:"ud_formajax"},r[".ud-announcement"]={mid:"ud.announcement",fname:"ud_announcement"},r[".ud-seologger"]={mid:"ud.seologger",fname:"ud_seologger"},r[".ud-slider"]={mid:"ud.slider",fname:"ud_slider"},r[".ud-signin-form"]={mid:"ud.signin.form",fname:"ud_signin_form"},r[".ud-signup-emailonly"]={mid:"ud.signup.emailonly",fname:"ud_signup_emailonly"},r[".ud-test-asset-comments"]={mid:"ud.testasset.comments",fname:"ud_testasset_comments"},r[".ud-errorpage"]={mid:"ud.errorpage",fname:"ud_errorpage"},r[".ud-template"]={mid:"ud.template",fname:"ud_template"},r[".ud-textexpander"]={mid:"ud.textexpander",fname:"ud_textexpander"},r[".ud-textinput"]={mid:"ud.textinput",fname:"ud_textinput"},r[".ud-tabsformitem"]={mid:"ud.tabsformitem",fname:"ud_tabsformitem"},r[".ud-thumbnailselector"]={mid:"ud.thumbnailselector",fname:"ud_thumbnailselector"},r[".ud-smsmobileapp"]={mid:"ud.smsmobileapp",fname:"ud_smsmobileapp"},r[".ud-updatecreditcards"]={mid:"ud.updatecreditcards",fname:"ud_updatecreditcards"},r[".ud-urltextformitem"]={mid:"ud.urltextformitem",fname:"ud_urltextformitem"},r[".ud-useremailsettingsform"]={mid:"ud.useremailsettingsform",fname:"ud_useremailsettingsform"},r[".ud-usertracker"]={mid:"ud.usertracker",fname:"ud_usertracker"},r[".ud-discover-tracker"]={mid:"ud.discover.tracker",fname:"ud_discover_tracker"},r[".ud-videocreator"]={mid:"ud.videocreator",fname:"ud_videocreator"},r[".ud-videouploadwithpreview"]={mid:"ud.videouploadwithpreview",fname:"ud_videouploadwithpreview"},r[".ud-s3videouploadwithpreview"]={mid:"ud.s3videouploadwithpreview",fname:"ud_s3videouploadwithpreview"},r[".ud-windowpopup"]={mid:"ud.windowpopup",fname:"ud_windowpopup"},r[".ud-wishlist"]={mid:"ud.wishlist",fname:"ud_wishlist"},r[".ud-wysiwyg"]={mid:"ud.wysiwyg",fname:"ud_wysiwyg"},r['[class*="ud-jq-"]']={mid:"ud.jqelement",fname:"ud_jqelement"},r[".ud-angular-loader"]={mid:"ud.angular-loader",fname:"ud_angular_loader"},r[".ud-organization-analytics"]={mid:"ud.organization.analytics",fname:"ud_organization_analytics"},r[".ud-organization-manageusersandgroups"]={mid:"ud.organization.manageusersandgroups",fname:"ud_organization_manageusersandgroups"},r[".ud-organization-editgroup"]={mid:"ud.organization.editgroup",fname:"ud_organization_editgroup"},r[".ud-organization-creategroup"]={mid:"ud.organization.creategroup",fname:"ud_organization_creategroup"},r[".ud-organization-invitenewusers"]={mid:"ud.organization.invitenewusers",fname:"ud_organization_invitenewusers"},r[".ud-organization-editusergroups"]={mid:"ud.organization.editusergroups",fname:"ud_organization_editusergroups"},r[".ud-organization-managecourses"]={mid:"ud.organization.managecourses",fname:"ud_organization_managecourses"},r[".ud-organization-publishcourse"]={mid:"ud.organization.publishcourse",fname:"ud_organization_publishcourse"},r[".ud-organization-managesubscription"]={mid:"ud.organization.managesubscription",fname:"ud_organization_managesubscription"},r[".ud-organization-managebilling"]={mid:"ud.organization.managebilling",fname:"ud_organization_managebilling"},r[".ud-apiblock"]={mid:"ud.apiblock",fname:"ud_apiblock"},r[".ud-collection-listnewcourse"]={mid:"ud.collection.listnewcourse",fname:"ud_collection_listnewcourse"},r[".ud-userlist"]={mid:"ud.userlist",fname:"ud_userlist"},r[".ud-admin-managestatement"]={mid:"ud.admin.managestatement",fname:"ud_admin_managestatement"},r[".ud-admin-hellobar-form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},r[".ud-google-plus-signup"]={mid:"ud.google.plus.signup",fname:"ud_google_plus_signup"},r[".ud-facebook-signup"]={mid:"ud.facebook.signup",fname:"ud_facebook_signup"},r[".ud-first-timer"]={mid:"ud.first.timer",fname:"ud_first_timer"},r[".ud-hellobar-initializer"]={mid:"ud.hellobar.initializer",fname:"ud_hellobar_initializer"};var s=0,l=function(){s++},u=function(){s--,0===s&&a.onComplete()},d=u;for(var c in r){var f=e(c,o);if(f.length>0){var p=r[c],h=p.mid,m=p.fname;l(h.toString()),require([h.toString()],function(t,n,i,a){e(t).each(function(t,i){"undefined"==typeof e(i).data(n)&&e(i)[n]()}),i(a.toString())}.context(this,f,m,u,h.toString()),function(e,t,n,i,a,o){throw console&&console.log("Require couldn't load",o,a,e,t,n),i(a.toString()),o}.context(this,f,m,c,d,h.toString()))}}0===s&&a.onComplete(),e(".tabs-container",o).length&&(e(".tabs-container",o).initTabs(),e(".tabs-container",o).tabnav()),e.each("undefined"==typeof window.onReadyCalls?[]:window.onReadyCalls,function(e,t){t()}),window.onReadyCalls=[]}}),define("ud.googleanalytics",["jquery","jquery-migrate"],function(){UD=UD||{},UD.GoogleAnalytics={trackEvent:function(e,t,n,i,a){if(_gaq&&e&&t){var o=["_trackEvent",e,t];n&&o.push(n),i&&o.push(parseInt(i)||0),a&&o.push(Boolean(i)),_gaq.push(o)}}}}),define("ud.jquery.ready",["jquery-widget-init","jquery.fancybox","jquery.menu-aim","ud.hellobar.initializer","ud.initializer","ud.api","ud.googleanalytics"],function(e){e(document).ready(function(e){!function(e,t,n,i,a){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],r=t.createElement(n),s="dataLayer"!=i?"&l="+i:"";r.async=!0,r.src="//www.googletagmanager.com/gtm.js?id="+a+s,o.parentNode.insertBefore(r,o)}(window,document,"script","dataLayer","GTM-7BF3X"),require(["googleanalytics"],function(){}),UD.Config.brand.is_udemy&&"PROD"===UD.Config.env&&"admin"!==UD.Config.app&&require(["ud.adroll","ud.webengage"]),"PROD"===UD.Config.env&&require(["marketo"],function(){"undefined"!=typeof window.Munchkin&&window.Munchkin.init(UD.Config.third_party.marketo_account)}),e(document).ud_initialize(),e.ud.ud_hellobar_initializer(),setTimeout(function(){e("#courseCategoryId").html(function(){return e(this).html()})},1),e(".slp-coupon, .nlp-coupon").each(function(){var t=e("a.redeem",this),n=e("a.close",this),i=e("div.form",this);t.click(function(){return i.addClass("on"),!1}),n.click(function(){return i.removeClass("on"),!1})}),e(".payment-coupon-info-box-t a.click-to-redeem").click(function(){return e("#payment-coupon-form").show(),e("#coupon-link").hide(),!1}),e("body").addClass("pageloaded"),e(".tbtn").addClass("tthc").attr("ontouchstart",""),e(".switch-form").click(function(){var t=e(this).closest(".right-col");return t.toggleClass("on"),!1}),e(".ddown > a").live("click",function(t){t&&t.preventDefault(),t&&t.stopPropagation();var n=e(t.currentTarget).parent();return n.hasClass("on")?n.removeClass("on"):(e(".ddown").removeClass("on"),n.addClass("on")),!1}),e("html, .ddown.on > a").live("click",function(t){e(".ddown.on").removeClass("on");var n=e(t.target).closest(".popover");0===n.length&&e(".ud-popover").popover("hide")});var t=e(".single-lecture .details .ud-popup, .slp-course-title > *, .single-lecture .ud-popup, .auto-ellipsis");t.length&&require(["jquery.autoellipsis"],function(){t.ellipsis()}),e(".fancybox").fancybox({padding:0,beforeShow:function(){},afterClose:function(){},afterShow:function(){var t=e(".fancybox-inner");t.ud_initialize()}}),e("#searchbox input[type=text]").focus(function(){e(this).parent().addClass("on"),UD.GoogleAnalytics.trackEvent("searchbox","focus")}).blur(function(){e(this).parent().removeClass("on"),UD.GoogleAnalytics.trackEvent("searchbox","blur")}).keypress(function(){e(this).attr("googleanalytics_event_logged")||(e(this).attr("googleanalytics_event_logged",!0),UD.GoogleAnalytics.trackEvent("searchbox","keypress"))}),e(".share a.f").live("click",function(){return popitup(e(this).attr("href"),e(this).data("w"),e(this).data("h")),!1}),e(".goto-login-btn").on("click",function(){return e(this).closest("#auth-popup").removeClass("off"),e(this).closest("#auth-popup").addClass("on"),!1}),e(".goto-signup-btn").on("click",function(){return e(this).closest("#auth-popup").removeClass("on"),e(this).closest("#auth-popup").addClass("off"),!1}),e("#search-input-wrapper input").focus(function(){e("#sample-text").fadeOut()}),e(".fields input, #search-input-wrapper input").attr("autocomplete","off"),e(".field-error").each(function(){var t=this,n=e("input, textarea, select",this);n.bind("focus change",function(){e(t).removeClass("field-error")})}),e(".steps-bar").each(function(){var t=this,n=e(".on",t),i=n.index();n.prevAll().addClass("off"),e("li",t).eq(i+1).addClass("trans")}),e("#activity-wrapper").each(function(){e("#my textarea",this).focus(function(){e(this).addClass("clicked")}),e(".ok",this).click(function(){e(this).parent().addClass("none")})}),e(".gray-dropdown").each(function(){var t=this,n=e("ul",t);e(t).hover(function(){e(t).addClass("on")},function(){e(t).removeClass("on")}),e("li",t).click(function(){e(this).prependTo(n),e(t).removeClass("on")})}),e("#ipad-toolbar").each(function(){var t=this;e(t).addClass("on"),e(".cl",t).click(function(){return e(t).removeClass("on"),!1})}),e(".manage-fields-wrapper").each(function(){e("label",this).each(function(){var t=e(this).next(".tooltip-reference").find("input,textarea,select");t.length||e(this).addClass("cursor-default"),e(this).click(function(){t.focus()})})}),e("#featured-courses .slide-this").each(function(){e("h1,h2,h3").each(function(){var t=parseInt(e(this).css("font-size")),n=e(window).width();if(1170>n){var i=t*e(window).width()/1170;e(this).css("font-size",i+"px")}})}),e(".create-row .btn").live("click",function(){window.location=e(this).attr("href")}),e("#ins-videos").each(function(){var t=e(">div",this);t.eq(0).addClass("block"),e("#ins-slider-bullets li").click(function(){var n=e(this).index();t.removeClass().eq(n).addClass("block")})}),e(".ud-wysiwyg").parent().addClass("w3c-default"),e("div.s-rating:not(.static) > s").on("click",function(t){var n=e(t.target).parentsUntil("div").length+1;alert(n+(1==n?" star":" stars!")),window.location="?p=popup"}),e(".dropdown-menu input, .dropdown-menu label").click(function(e){e.stopPropagation()}),e(document.body).on("click","a.ud-userlist-link",function(t){var n=e(t.currentTarget),i=n.attr("href"),a=e(i).find(".ud-userlist");0!==a.length?a.ud_userlist("load"):(a=e(".fancybox-inner .ud-userlist"),a.ud_userlist(),a.ud_userlist("load"))}),e("#home-search-box").focus(function(){e(".home-search-holder").addClass("none")}),e(".dd-go").change(function(){window.location=e(this).val()})}),e("body").on("shown.bs.collapse",".collapse",function(t){e(t.currentTarget).siblings(".icon-expand-alt").removeClass("icon-expand-alt").addClass("icon-collapse-alt")}),e("body").on("hide.bs.collapse",".collapse",function(t){e(t.currentTarget).siblings(".icon-collapse-alt").removeClass("icon-collapse-alt").addClass("icon-expand-alt")}),!e.isEmptyObject(UD.me)&&e.isEmptyObject(UD.me.time_zone)&&require(["ud.detect-timezone"],function(e){var t=e.length>0?e[0]:null;t&&UD.API.call("/users/me/timezone",{type:"PUT",data:{timeZone:t}})}),e(".simple-slider").each(function(){var t=this,n=e(".slider-mask",t),i=e("ul",n),a=e(".slider-btns",t),o=e(".slider-btn",t),r=e(".prev",t),s=e(".next",t),l=e("li",n).length,u=function(){i.css("left",100*-d+"%"),o.removeClass("off"),1>d&&r.addClass("off"),d>=l-1&&s.addClass("off")};l||a.addClass("none");var d=0;r.addClass("off"),r.click(function(){return 1>d?!1:(d--,u(),!1)}),s.click(function(){return d>=l-1?!1:(d++,u(),!1)})}),e(".cap-rot").each(function(){function t(){s++,s>o-1&&(s=0),a.removeClass("on"),n(s)}function n(t){a.eq(t).addClass("on");var n=a.eq(t).width();e(i).width(n)}var i=this,a=e("b",i),o=a.length,r=Math.ceil(Math.random()*o),s=r;n(s),setInterval(t,1500)}),e(".dropdown-menu").click(function(e){e.stopPropagation()}),e(".on-off-item input:checked").each(function(){e(this).closest(".on-off-item").addClass("on")}),e(".switcher-no-js label").live("click",function(){var t=e(this).closest(".on-off-item");t.hasClass("on")?t.removeClass("on"):t.addClass("on")});var t=e(".dropdown-menu-list");t.menuAim({activate:function(t){{var n=e(t);n.data("submenuId")}n.find("a.main-cat").addClass("maintainHover")},deactivate:function(t){{var n=e(t);n.data("submenuId")}n.find("a.main-cat").removeClass("maintainHover")},exitMenu:function(t){var n=e(t);n.find("a.main-cat").removeClass("maintainHover")}}),e(".cats-dropdown").on("show.bs.dropdown",function(){e("body").addClass("slide-right"),UD.GoogleAnalytics.trackEvent("category","show","dropdown")}).on("hide.bs.dropdown",function(){e("body").removeClass("slide-right"),UD.GoogleAnalytics.trackEvent("category","hide","dropdown")}),e(".hide-wrapper-left-btn").toggle(function(){e(this).removeClass("on"),e("body").addClass("hide-wrapper-left"),UD.GoogleAnalytics.trackEvent("category","hide","slide-right")},function(){e("body").removeClass("hide-wrapper-left"),e(this).addClass("on"),UD.GoogleAnalytics.trackEvent("category","show","slide-right")}),e("[data-toggle=popover]").popover(),e(".user-toggle").click(function(){UD.GoogleAnalytics.trackEvent("profile-menu",e(this).parent().hasClass("open")?"hide":"show")})}),define("ud.siftscience",["require","jquery","jquery.cookie","sift-science"],function(e,t){var n=n||[];n.push(["_setAccount",UD.Config.third_party.sift_science_account]),n.push(["_setUserId",UD.me.id]),n.push(["_setSessionId",t.cookie("__udmyvst")]),n.push(["_trackPageview"]),e("sift-science")}),define("ud.facebook",["facebook"],function(){FB.init({appId:UD.Config.third_party.facebook_app_id,status:!0,cookie:!0,xfbml:!0,oauth:!0})}),define("olark",[],function(){function e(){return window.olark||function(e){var t=window,n=document,i="https:"==t.location.protocol?"https:":"http:",a=e.name,o="load",r=function(){function s(){l.P(o),t[a](o)}t[a]=function(){(l.s=l.s||[]).push(arguments)};for(var l=t[a]._={},u=e.methods.length;u--;)!function(e){t[a][e]=function(){t[a]("call",e,arguments)}}(e.methods[u]);l.l=e.loader,l.i=r,l.p={0:+new Date},l.P=function(e){l.p[e]=new Date-l.p[0]},t.addEventListener?t.addEventListener(o,s,!1):t.attachEvent("on"+o,s);var d=function(){function t(e){return e="head",["<",e,"></",e,"><",o,' onload="var d=',g,";d.getElementsByTagName('head')[0].",u,"(d.",c,"('script')).",f,"='",i,"//",l.l,"'",'"',"></",o,">"].join("")}var o="body",r=n[o];if(!r)return setTimeout(d,100);l.P(1);var s,u="appendChild",c="createElement",f="src",p=n[c]("div"),h=p[u](n[c](a)),m=n[c]("iframe"),g="document",v="domain";p.style.display="none",r.insertBefore(p,r.firstChild).id=a,m.frameBorder="0",m.id=a+"-loader",/MSIE[ ]+6/.test(navigator.userAgent)&&(m.src="javascript:false"),m.allowTransparency="true",h[u](m);try{m.contentWindow[g].open()}catch(b){e[v]=n[v],s="javascript:var d="+g+".open();d.domain='"+n.domain+"';",m[f]=s+"void(0);"}try{var y=m.contentWindow[g];y.write(t()),y.close()}catch(w){m[f]=s+'d.write("'+t().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}l.P(2)};d()};r()}({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]}),olark}return e}),define("ud.olark",["jquery","olark"],function(e,t){if(UD.me&&!e.isEmptyObject(UD.me)){var n={},i=t();return i.identify("2517-293-10-2155"),i.configure("box.corner_position","BL"),i("api.chat.updateVisitorNickname",{snippet:UD.me.title,hidesDefault:!0}),i("api.visitor.updateEmailAddress",{emailAddress:UD.me.email}),i("api.visitor.updateFullName",{fullName:UD.me.title}),i("api.visitor.updateCustomFields",{userId:UD.me.id}),i.configure("box.start_hidden",!0),n._operatorsAvailable=!1,n._showWindow=!1,i("api.chat.onOperatorsAway",function(){n._operatorsAvailable=!1,n.hideIfNotConversing()}),i("api.chat.onOperatorsAvailable",function(){n._operatorsAvailable=!0,n._boxShowHandler()}),n._boxShowHandler=function(){n._operatorsAvailable&&n._showWindow&&i("api.box.show")},n.showBox=function(){n._showWindow=!0,n._boxShowHandler()},n.hideIfNotConversing=function(){i("api.visitor.getDetails",function(e){e.isConversing||i("api.box.hide")})},UD.request.canUseOlark&&n.showBox(),n}}),define("ud.raven",["raven"],function(e){return e.config(UD.Config.third_party.raven_dsn,{ignoreErrors:[/^Load timeout for modules:/]}).install(),UD.me&&e.setUserContext({email:UD.me.email,id:UD.me.id,country_code:UD.request.countryCode}),e}),define("ud.package.external",["ud.siftscience","ud.facebook","ud.olark","ud.raven"],function(){}),define("ud.actionlogger",["jquery-widget-init"],function(e){e.widget("ud.ud_actionlogger",{options:{item1:"",item2:""},_create:function(){for(var t in this.options)"undefined"!=typeof this.element.data(t.toLowerCase())&&(this.options[t]=this.element.data(t.toLowerCase()));e.get(this.options.item1+this.options.item2)},destroy:function(){}})}),define("angular-module-patch",["angular"],function(e){var t=e.module,n={};e.module=function(e,i,a){i=i||[];var o=null;return n[e]?(o=t(e),o.requires.push.apply(o.requires,i)):(o=t(e,i,a),n[e]=o),o}}),define("ud-init",["require","angular","angular-resource","angular-route","angular-sanitize","angular-module-patch"],function(e,t){return t.module("controllers",[]),t.module("services",[]),t.module("directives",[]),t.module("filters",[]),t.module("constants",[]),{boostrapModule:function(n,i,a,o){e([n],function(){t.bootstrap(a,[i]),o&&o()})}}}),define("ud.angular-loader",["jquery-widget-init","ud-init"],function(e,t){e.widget("ud.ud_angular_loader",{options:{moduleId:null,moduleName:null},_create:function(){e.extend(this.options,this.element.data()),t.boostrapModule(this.options.moduleId,this.options.moduleName,this.element)}})}),define("ud.formajax",["jquery-widget-init","jquery.serialize-object"],function(e){function t(){return{form:null,submitBtn:null,loader:null,ignoreWarnings:null,prevFormValue:null}}e.widget("ud.ud_formajax",{options:{apiUrl:null,redirectUrl:null,failedFeedbackMessage:null},elems:t(),_create:function(){e.extend(this.options,this.element.data()),this.elems=t(),this._initElems(),this.elems.submitBtn.on("click",e.proxy(this.onFormSubmit,this))},_initElems:function(){if(this.elems.form=this.element.is("form")?this.element:this.element.find("form"),this.options.prevFormValue=this.elems.form.serialize(),this.elems.submitBtn=this.elems.form.find('input[type="submit"]'),this.elems.loader=this.elems.form.find(".js-bottom-loader"),!this.options.apiUrl&&(this.options.apiUrl=this.elems.form.attr("action"),!this.options.apiUrl))throw new Error("Please provide form action or data-api-url attribute")},_getFormData:function(){return this.elems.form.serializeObject()},_hasFormValueChanged:function(){var e=this.elems.form.serialize();return this.options.prevFormValue!==e},_callApi:function(t){var n=this.options.apiUrl;this.options.ignoreWarnings&&!this._hasFormValueChanged()&&(t.ignoreWarnings=!0),UD.API.call(n,{type:"POST",data:t}).done(e.proxy(this.ajaxSuccess,this)).fail(e.proxy(this.ajaxFail,this)).always(e.proxy(this._hideLoader,this))},_hideLoader:function(){this.elems.loader.addClass("hidden")},onFormSubmit:function(e){var t=this._getFormData();e.preventDefault(),this.validate(t)&&(this.elems.submitBtn.btn("loading"),this.elems.loader.removeClass("hidden"),this._callApi(t))},ajaxSuccess:function(){window.location.replace(this.options.redirectUrl)},ajaxFail:function(e){var t=e.responseJSON,n=t.error.message;UD.Utils.Form.fillErrors(this.elems.form,e),UD.Utils.Feedback.fromText(n,UD.Utils.MessageType.error),this.elems.submitBtn.btn("reset"),"warning"===t.error.details.result&&(this.options.ignoreWarnings=!0,this.element.find('input[type="submit"]').val("Proceed")),this.options.prevFormValue=this.elems.form.serialize()},validate:function(){return!0}})}),define("handlebars.helpers",["jquery","handlebars","moment"],function($,Handlebars,moment){return Handlebars.registerHelper("times",function(e,t){for(var n="",i=0;e>i;++i)n+=t.fn(i);return n}),Handlebars.registerHelper("for",function(e,t,n,i){for(var a="",o=e;t>o;o+=n)a+=i.fn(o);return a}),Handlebars.registerHelper("add",function(e,t){return e+t}),Handlebars.registerHelper("subtract",function(e,t){return e-t}),Handlebars.registerHelper("debug",function(e){window.console.log(this),e&&window.console.log(e)}),Handlebars.registerHelper("if_cond",function(v1,op,v2,options){return eval("'"+v1+"' "+op+" '"+v2+"'")?options.fn(this):options.inverse(this)}),Handlebars.registerHelper("if_eq",function(e,t){return e==t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unless_eq",function(e,t){return e==t.hash.compare?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("if_gt",function(e,t){return e>t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unless_gt",function(e,t){return e>t.hash.compare?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("if_lt",function(e,t){return e<t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unless_lt",function(e,t){return e<t.hash.compare?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("if_gteq",function(e,t){return e>=t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unless_gteq",function(e,t){return e>=t.hash.compare?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("if_lteq",function(e,t){return e<=t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unless_lteq",function(e,t){return e<=t.hash.compare?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("nl2br",function(e){e=Handlebars.Utils.escapeExpression(e),e=e.trim();var t=(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return new Handlebars.SafeString(t)}),Handlebars.registerHelper("math",function(e,t,n,i){return arguments.length<4&&(i=n,n=t,t="+"),e=parseFloat(e),n=parseFloat(n),{"+":e+n,"-":e-n,"*":e*n,"/":e/n,"%":e%n}[t]}),Handlebars.registerHelper("random",function(e,t){return Math.random()*(t-e)+e}),Handlebars.registerHelper("join",function(e,t){return e?e.join(t||", "):""}),Handlebars.registerHelper("ellipsis",function(e,t){return e.length>t+3?e.substring(0,t)+"...":e}),Handlebars.registerHelper("isYes",function(e,t){var n=t.fn,i=t.inverse;return"Yes"===e||e===!0?n(this):i(this)}),Handlebars.registerHelper("isNo",function(e,t){var n=t.fn,i=t.inverse;return"No"===e?n(this):i(this)}),Handlebars.registerHelper("dateFormat",function(e,t){var n=t.hash.format||"MMMM dd, YYYY";return moment(new Date(e)).format(n)}),Handlebars.registerHelper("fromNow",function(e){var t=e.fn(this);return moment(t).fromNow()}),Handlebars.registerHelper("currencyFormat",function(e){var t="$"+parseFloat(Math.round(100*Math.abs(e))/100).toFixed(2);return 0>e&&(t="-"+t),t}),Handlebars.registerHelper("renderLicenseCount",function(e){return-1===parseInt(e)?new Handlebars.SafeString("&#8734;"):e}),Handlebars.registerHelper("stripHtml",function(e){return Handlebars.Utils.escapeExpression($("<div />").html($("<div />").html(e.fn(this)).text()).text())}),Handlebars.registerHelper("_",function(e,t,n){return t&&!isNaN(n)?ngettext(e,t,n):gettext(e)}),Handlebars.registerHelper("sprintf",function(e){for(var t in e.hash)e.hash[t]=Handlebars.Utils.escapeExpression(e.hash[t]);return new Handlebars.SafeString(interpolate(e.fn(this),e.hash,!0))}),Handlebars.registerHelper("safeString",function(e){return new Handlebars.SafeString(e)}),Handlebars}),function(e){if("object"==typeof exports){var t=require("jquery");module.exports=e(t||$)}else"function"==typeof define&&define.amd?define("jquery.timeto",["jquery"],e):e(t||$)}(function(e){function t(e){var t=this.data(),i=this.find("ul");if(t.vals&&0!==i.length){e||(e=t.seconds);var a=!1;t.intervalId&&(a=!0,clearTimeout(t.intervalId));var o=Math.floor(e/86400),r=86400*o,s=Math.floor((e-r)/3600),r=r+3600*s,l=Math.floor((e-r)/60);for(e-=r+60*l,o=(100>o?"0"+(10>o?"0":""):"")+o+(10>s?"0":"")+s+(10>l?"0":"")+l+(10>e?"0":"")+e,s=t.vals.length-1,l=o.length-1;s>=0;s--,l--)e=parseInt(o.substr(l,1)),t.vals[s]=e,i.eq(s).children().html(e);if(a){var u=this;t.ttStartTime=Date.now(),t.intervalId=setTimeout(function(){n.call(u)},1e3),this.data("intervalId",t.intervalId)}}}function n(t){var i=this.find("ul"),a=this.data();if(a.vals&&0!=i.length){void 0==t&&(t=a.iSec);var o=a.vals[t],r=i.eq(t),s=r.children(),l=a.countdown?-1:1;if(s.eq(1).html(o),o+=l,t==a.iSec){var u=a.tickTimeout,d=(new Date).getTime()-a.ttStartTime;a.sec+=l,u+=Math.abs(a.seconds-a.sec)*u-d,a.intervalId=setTimeout(function(){n.call(c)},u)}(0>o||o>a.limits[t])&&(o=0>o?a.limits[t]:0,t>0&&n.call(this,t-1)),s.eq(0).html(o);var c=this;e.support.transition?(r.addClass("transition"),r.css({top:0}),setTimeout(function(){r.removeClass("transition"),s.eq(1).html(o),r.css({top:"-"+a.height+"px"}),l>0||t!=a.iSec||(a.sec==a.countdownAlertLimit&&i.parent().addClass("timeTo-alert"),0===a.sec&&(i.parent().removeClass("timeTo-alert"),a.intervalId&&(clearTimeout(a.intervalId),c.data("intervalId",null)),"function"==typeof a.callback&&a.callback()))},410)):r.stop().animate({top:0},400,t!=a.iSec?null:function(){s.eq(1).html(o),r.css({top:"-"+a.height+"px"}),l>0||t!=a.iSec||(a.sec==a.countdownAlertLimit?i.parent().addClass("timeTo-alert"):0==a.sec&&(i.parent().removeClass("timeTo-alert"),a.intervalId&&(clearTimeout(a.intervalId),c.data("intervalId",null)),"function"==typeof a.callback&&a.callback()))}),a.vals[t]=o}else a.intervalId&&(clearTimeout(a.intervalId),this.data("intervalId",null)),a.callback&&a.callback()
}var i={start:function(e){e&&t.call(this,e);var i=this;e=setTimeout(function(){n.call(i)},1e3),this.data("ttStartTime",(new Date).getTime()),this.data("intervalId",e)},stop:function(){var e=this.data();return e.intervalId&&(clearTimeout(e.intervalId),this.data("intervalId",null)),e},reset:function(e){var n=i.stop.call(this);this.find("div").css({backgroundPosition:"left center"}),this.find("ul").parent().removeClass("timeTo-alert"),"undefined"==typeof e&&(e=n.value),t.call(this,e)}},a={en:{days:"days",hours:"hours",min:"minutes",sec:"seconds"},ru:{days:"дней",hours:"часов",min:"минут",sec:"секунд"},ua:{days:"днiв",hours:"годин",min:"хвилин",sec:"секунд"},de:{days:"Tag",hours:"Uhr",min:"Minuten",sec:"Secunden"},fr:{days:"jours",hours:"heures",min:"minutes",sec:"secondes"},sp:{days:"días",hours:"reloj",min:"minutos",sec:"segundos"},it:{days:"giorni",hours:"ore",min:"minuti",sec:"secondi"},nl:{days:"dagen",hours:"uren",min:"minuten",sec:"seconden"},no:{days:"dager",hours:"timer",min:"minutter",sec:"sekunder"}};return"undefined"==typeof e.support.transition&&(e.support.transition=function(){var e=(document.body||document.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}()),e.fn.timeTo=function(){for(var n,o,r={callback:null,captionSize:0,countdown:!0,countdownAlertLimit:10,displayCaptions:!1,displayDays:0,displayHours:!0,fontFamily:"Verdana, sans-serif",fontSize:28,lang:"en",seconds:0,start:!0,theme:"white",vals:[0,0,0,0,0,0,0,0,0],limits:[9,9,9,2,9,5,9,5,9],iSec:8,iHour:4,tickTimeout:1e3,intervalId:null},s={},l=0;o=arguments[l];++l)0==l&&"string"==typeof o?n=o:"object"==typeof o?"function"==typeof o.getTime?s.timeTo=o:s=e.extend(s,o):"function"==typeof o?s.callback=o:(o=parseInt(o),isNaN(o)||(s.seconds=o));if(s.timeTo){var u,l=(new Date).getTime();s.timeTo.getTime?u=s.timeTo.getTime():"number"==typeof s.timeTo&&(u=s.timeTo),s.timeTo>l&&(s.seconds=Math.floor((u-l)/1e3))}else if(s.time||!s.seconds)if((u=s.time)||(u=new Date),"object"==typeof u&&u.getTime)s.seconds=3600*u.getHours()+60*u.getMinutes()+u.getSeconds(),s.countdown=!1;else if("string"==typeof u){u=u.split(":"),l=0,o=1;for(var d;d=u.pop();)l+=d*o,o*=60;s.seconds=l,s.countdown=!1}return!1!==s.countdown&&86400<s.seconds&&"undefined"==typeof s.displayDays?(u=Math.floor(s.seconds/86400),s.displayDays=10>u&&1||100>u&&2||3):!0===s.displayDays?s.displayDays=3:s.displayDays&&(s.displayDays=0<s.displayDays?Math.floor(s.displayDays):3),this.each(function(){var o,l=e(this),u=l.data();if(u.vals)u.intervalId&&(clearInterval(u.intervalId),u.intervalId=null),e.extend(u,s);else{u=e.extend(r,s),u.height=Math.round(100*u.fontSize/93),u.width=Math.round(.8*u.fontSize+.13*u.height),u.displayHours=!(!u.displayDays&&!u.displayHours),l.addClass("timeTo").addClass("timeTo-"+u.theme).css({fontFamily:u.fontFamily,fontSize:u.fontSize+"px"});var d='<ul style="left:'+Math.round(u.height/10)+"px; top:-"+u.height+'px"><li>0</li><li>0</li></ul></div>',c=' style="width:'+u.width+"px; height:"+u.height+'px;"';o='<div class="first"'+c+">"+d;var d="<div"+c+">"+d,f=Math.round(2*u.width+3),c=u.captionSize||Math.round(.43*u.fontSize);if(thtml=(u.displayCaptions?(u.displayHours?'<figure style="max-width:'+f+'px">$1<figcaption style="font-size:'+c+'px">'+a[u.lang].hours+"</figcaption></figure><span>:</span>":"")+'<figure style="max-width:'+f+'px">$1<figcaption style="font-size:'+c+'px">'+a[u.lang].min+'</figcaption></figure><span>:</span><figure style="max-width:'+f+'px">$1<figcaption style="font-size:'+c+'px">'+a[u.lang].sec+"</figcaption></figure>":(u.displayHours?"$1<span>:</span>":"")+"$1<span>:</span>$1").replace(/\$1/g,o+d),0<u.displayDays){var f=.4*u.fontSize,p=o;for(o=u.displayDays-1;o>0;o--)p+=1===o?d.replace('">'," margin-right:"+Math.round(f)+'px">'):d;thtml=(u.displayCaptions?'<figure style="width:'+Math.round(u.width*u.displayDays+f+4)+'px">$1<figcaption style="font-size:'+c+"px; padding-right:"+Math.round(f)+'px">'+a[u.lang].days+"</figcaption></figure>":"$1").replace(/\$1/,p)+thtml}l.html(thtml)}if(d=l.find("div"),d.length<u.vals.length){for(c=u.vals.length-d.length,f=u.vals,p=u.limits,u.vals=[],u.limits=[],o=0;o<d.length;o++)u.vals[o]=f[c+o],u.limits[o]=p[c+o];u.iSec=u.vals.length-1,u.iHour=u.vals.length-5}u.sec=u.seconds,l.data(u),n&&i[n]?i[n].call(l,u.seconds):u.start?i.start.call(l,u.seconds):t.call(l,u.seconds)})},jQuery}),!function(e,t){var n,i,a=e,o=a.document,r=a.navigator,s=a.setTimeout,l=a.encodeURIComponent,u=a.ActiveXObject,d=a.Error,c=a.Number.parseInt||a.parseInt,f=a.Number.parseFloat||a.parseFloat,p=a.Number.isNaN||a.isNaN,h=a.Math.round,m=a.Date.now,g=a.Object.keys,v=a.Object.defineProperty,b=a.Object.prototype.hasOwnProperty,y=a.Array.prototype.slice,w=function(){var e=function(e){return e};if("function"==typeof a.wrap&&"function"==typeof a.unwrap)try{var t=o.createElement("div"),n=a.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=a.unwrap)}catch(i){}return e}(),_=function(e){return y.call(e,0)},x=function(){var e,n,i,a,o,r,s=_(arguments),l=s[0]||{};for(e=1,n=s.length;n>e;e++)if(null!=(i=s[e]))for(a in i)b.call(i,a)&&(o=l[a],r=i[a],l!==r&&r!==t&&(l[a]=r));return l},k=function(e){var t,n,i,a;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,i=e.length;i>n;n++)b.call(e,n)&&(t[n]=k(e[n]));else{t={};for(a in e)b.call(e,a)&&(t[a]=k(e[a]))}return t},C=function(e,t){for(var n={},i=0,a=t.length;a>i;i++)t[i]in e&&(n[t[i]]=e[t[i]]);return n},j=function(e,t){var n={};for(var i in e)-1===t.indexOf(i)&&(n[i]=e[i]);return n},T=function(e){if(e)for(var t in e)b.call(e,t)&&delete e[t];return e},D=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},S=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},U=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},I=function(){var e,t;try{throw new d}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||U(t.stack)),e},E=function(){var e,n,i;if(o.currentScript&&(e=o.currentScript.src))return e;if(n=o.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(i=n.length;i--;)if("interactive"===n[i].readyState&&(e=n[i].src))return e;return"loading"===o.readyState&&(e=n[n.length-1].src)?e:(e=I())?e:t},H=function(){var e,n,i,a=o.getElementsByTagName("script");for(e=a.length;e--;){if(!(i=a[e].src)){n=null;break}if(i=S(i),null==n)n=i;else if(n!==i){n=null;break}}return n||t},z=function(){var e=S(E())||H()||"";return e+"ZeroClipboard.swf"},q={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},A="11.0.0",B={},P={},L=null,O={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},M={swfPath:z(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},N=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(b.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))M[t]=e[t];else if(null==q.bridge)if("containerId"===t||"swfObjectId"===t){if(!nt(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");M[t]=e[t]}else M[t]=e[t];return"string"==typeof e&&e?b.call(M,e)?M[e]:void 0:k(M)},F=function(){return{browser:C(r,["userAgent","platform","appName"]),flash:j(q,["bridge"]),zeroclipboard:{version:Et.version,config:Et.config()}}},$=function(){return!!(q.disabled||q.outdated||q.unavailable||q.deactivated)},R=function(e,t){var n,i,a,o={};if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)b.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Et.on(n,e[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)e=a[n].replace(/^on/,""),o[e]=!0,B[e]||(B[e]=[]),B[e].push(t);if(o.ready&&q.ready&&Et.emit({type:"ready"}),o.error){var r=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=r.length;i>n;n++)if(q[r[n]]===!0){Et.emit({type:"error",name:"flash-"+r[n]});break}}}return Et},G=function(e,t){var n,i,a,o,r;if(0===arguments.length)o=g(B);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)b.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Et.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),r=B[e],r&&r.length)if(t)for(a=r.indexOf(t);-1!==a;)r.splice(a,1),a=r.indexOf(t,a);else r.length=0;return Et},Y=function(e){var t;return t="string"==typeof e&&e?k(B[e])||null:k(B)},X=function(e){var t,n,i;return e=it(e),e&&!ut(e)?"ready"===e.type&&q.overdue===!0?Et.emit({type:"error",name:"flash-overdue"}):(t=x({},e),lt.call(this,t),"copy"===e.type&&(i=mt(P),n=i.data,L=i.formatMap),n):void 0},V=function(){if("boolean"!=typeof q.ready&&(q.ready=!1),!Et.isFlashUnusable()&&null===q.bridge){var e=M.flashLoadTimeout;"number"==typeof e&&e>=0&&s(function(){"boolean"!=typeof q.deactivated&&(q.deactivated=!0),q.deactivated===!0&&Et.emit({type:"error",name:"flash-deactivated"})},e),q.overdue=!1,pt()}},J=function(){Et.clearData(),Et.blur(),Et.emit("destroy"),ht(),Et.off()},W=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Et.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var i in n)"string"==typeof i&&i&&b.call(n,i)&&"string"==typeof n[i]&&n[i]&&(P[i]=n[i])},Q=function(e){"undefined"==typeof e?(T(P),L=null):"string"==typeof e&&b.call(P,e)&&delete P[e]},Z=function(e){return"undefined"==typeof e?k(P):"string"==typeof e&&b.call(P,e)?P[e]:void 0},K=function(e){if(e&&1===e.nodeType){n&&(kt(n,M.activeClass),n!==e&&kt(n,M.hoverClass)),n=e,xt(e,M.hoverClass);var t=e.getAttribute("title")||M.title;if("string"==typeof t&&t){var i=ft(q.bridge);i&&i.setAttribute("title",t)}var a=M.forceHandCursor===!0||"pointer"===Ct(e,"cursor");St(a),Dt()}},et=function(){var e=ft(q.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),n&&(kt(n,M.hoverClass),kt(n,M.activeClass),n=null)},tt=function(){return n||null},nt=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},it=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){!e.target&&/^(copy|aftercopy|_click)$/.test(t.toLowerCase())&&(e.target=i),x(e,{type:t.toLowerCase(),target:e.target||n||null,relatedTarget:e.relatedTarget||null,currentTarget:q&&q.bridge||null,timeStamp:e.timeStamp||m()||null});var a=O[e.type];return"error"===e.type&&e.name&&a&&(a=a[e.name]),a&&(e.message=a),"ready"===e.type&&x(e,{target:null,version:q.version}),"error"===e.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name)&&x(e,{target:null,minimumVersion:A}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name)&&x(e,{version:q.version})),"copy"===e.type&&(e.clipboardData={setData:Et.setData,clearData:Et.clearData}),"aftercopy"===e.type&&(e=gt(e,L)),e.target&&!e.relatedTarget&&(e.relatedTarget=at(e.target)),e=ot(e)}},at=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?o.getElementById(t):null},ot=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,i="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,r="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=Tt(n),l=a.screenLeft||a.screenX||0,u=a.screenTop||a.screenY||0,d=o.body.scrollLeft+o.documentElement.scrollLeft,c=o.body.scrollTop+o.documentElement.scrollTop,f=s.left+("number"==typeof e._stageX?e._stageX:0),p=s.top+("number"==typeof e._stageY?e._stageY:0),h=f-d,m=p-c,g=l+h,v=u+m,b="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,x(e,{srcElement:n,fromElement:i,toElement:r,screenX:g,screenY:v,pageX:f,pageY:p,clientX:h,clientY:m,x:h,y:m,movementX:b,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},rt=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},st=function(e,t,n,i){i?s(function(){e.apply(t,n)},0):e.apply(t,n)},lt=function(e){if("object"==typeof e&&e&&e.type){var t=rt(e),n=B["*"]||[],i=B[e.type]||[],o=n.concat(i);if(o&&o.length){var r,s,l,u,d,c=this;for(r=0,s=o.length;s>r;r++)l=o[r],u=c,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(d=x({},e),st(l,u,[d],t))}return this}},ut=function(e){var t=e.target||n||null,a="swf"===e._source;delete e._source;var o=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(e.type){case"error":-1!==o.indexOf(e.name)&&x(q,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var r=q.deactivated===!0;x(q,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:r,ready:!r});break;case"beforecopy":i=t;break;case"copy":var s,l,u=e.relatedTarget;!P["text/html"]&&!P["text/plain"]&&u&&(l=u.value||u.outerHTML||u.innerHTML)&&(s=u.value||u.textContent||u.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s),l!==s&&e.clipboardData.setData("text/html",l)):!P["text/plain"]&&e.target&&(s=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s));break;case"aftercopy":Et.clearData(),t&&t!==_t()&&t.focus&&t.focus();break;case"_mouseover":Et.focus(t),M.bubbleEvents===!0&&a&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&dt(x({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),dt(x({},e,{type:"mouseover"})));break;case"_mouseout":Et.blur(),M.bubbleEvents===!0&&a&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&dt(x({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),dt(x({},e,{type:"mouseout"})));break;case"_mousedown":xt(t,M.activeClass),M.bubbleEvents===!0&&a&&dt(x({},e,{type:e.type.slice(1)}));break;case"_mouseup":kt(t,M.activeClass),M.bubbleEvents===!0&&a&&dt(x({},e,{type:e.type.slice(1)}));break;case"_click":i=null,M.bubbleEvents===!0&&a&&dt(x({},e,{type:e.type.slice(1)}));break;case"_mousemove":M.bubbleEvents===!0&&a&&dt(x({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},dt=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,i=n&&n.ownerDocument||o,r={view:i.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:i.createEvent?0:1},s=x(r,e);n&&i.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=i.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",n.dispatchEvent(t)))}},ct=function(){var e=o.createElement("div");return e.id=M.containerId,e.className=M.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+Ut(M.zIndex),e},ft=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},pt=function(){var e,t=q.bridge,n=ft(t);if(!t){var i=wt(a.location.host,M),r="never"===i?"none":"all",s=bt(M),l=M.swfPath+vt(M.swfPath,M);n=ct();var u=o.createElement("div");n.appendChild(u),o.body.appendChild(n);var d=o.createElement("div"),c="activex"===q.pluginType;d.innerHTML='<object id="'+M.swfObjectId+'" name="'+M.swfObjectId+'" width="100%" height="100%" '+(c?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(c?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/></object>',t=d.firstChild,d=null,w(t).ZeroClipboard=Et,n.replaceChild(t,u)}return t||(t=o[M.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),q.bridge=t||null,t},ht=function(){var e=q.bridge;if(e){var t=ft(e);t&&("activex"===q.pluginType&&"readyState"in e?(e.style.display="none",function n(){if(4===e.readyState){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t)}else s(n,10)}()):(e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t))),q.ready=null,q.bridge=null,q.deactivated=null}},mt=function(e){var t={},n={};if("object"==typeof e&&e){for(var i in e)if(i&&b.call(e,i)&&"string"==typeof e[i]&&e[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[i],n.rtf=i}return{data:t,formatMap:n}}},gt=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var i in e)if(b.call(e,i)){if("success"!==i&&"data"!==i){n[i]=e[i];continue}n[i]={};var a=e[i];for(var o in a)o&&b.call(a,o)&&b.call(t,o)&&(n[i][t[o]]=a[o])}return n},vt=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+m():""},bt=function(e){var t,n,i,o,r="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?o=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(o=e.trustedDomains)),o&&o.length)for(t=0,n=o.length;n>t;t++)if(b.call(o,t)&&o[t]&&"string"==typeof o[t]){if(i=yt(o[t]),!i)continue;if("*"===i){s.length=0,s.push(i);break}s.push.apply(s,[i,"//"+i,a.location.protocol+"//"+i])}return s.length&&(r+="trustedOrigins="+l(s.join(","))),e.forceEnhancedClipboard===!0&&(r+=(r?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(r+=(r?"&":"")+"swfObjectId="+l(e.swfObjectId)),r},yt=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},wt=function(){var e=function(e){var t,n,i,a=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return a;for(t=0,n=e.length;n>t;t++)if(b.call(e,t)&&(i=yt(e[t]))){if("*"===i){a.length=0,a.push("*");break}-1===a.indexOf(i)&&a.push(i)}return a};return function(t,n){var i=yt(n.swfPath);null===i&&(i=t);var a=e(n.trustedDomains),o=a.length;if(o>0){if(1===o&&"*"===a[0])return"always";if(-1!==a.indexOf(t))return 1===o&&t===i?"sameDomain":"always"}return"never"}}(),_t=function(){try{return o.activeElement}catch(e){return null}},xt=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,o=0,r=n.length;r>o;o++)i.indexOf(" "+n[o]+" ")<0&&(a+=" "+n[o]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},kt=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var n=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),a=0,o=n.length;o>a;a++)i=i.replace(" "+n[a]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}}return e},Ct=function(e,t){var n=a.getComputedStyle(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},jt=function(){var e,t,n,i=1;return"function"==typeof o.body.getBoundingClientRect&&(e=o.body.getBoundingClientRect(),t=e.right-e.left,n=o.body.offsetWidth,i=h(t/n*100)/100),i},Tt=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n,i,r,s=e.getBoundingClientRect();"pageXOffset"in a&&"pageYOffset"in a?(n=a.pageXOffset,i=a.pageYOffset):(r=jt(),n=h(o.documentElement.scrollLeft/r),i=h(o.documentElement.scrollTop/r));var l=o.documentElement.clientLeft||0,u=o.documentElement.clientTop||0;t.left=s.left+n-l,t.top=s.top+i-u,t.width="width"in s?s.width:s.right-s.left,t.height="height"in s?s.height:s.bottom-s.top}return t},Dt=function(){var e;if(n&&(e=ft(q.bridge))){var t=Tt(n);x(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+Ut(M.zIndex)})}},St=function(e){q.ready===!0&&(q.bridge&&"function"==typeof q.bridge.setHandCursor?q.bridge.setHandCursor(e):q.ready=!1)},Ut=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||p(e)?"string"==typeof e&&(t=Ut(c(e,10))):t=e,"number"==typeof t?t:"auto"},It=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function i(e){e&&(l=!0,e.version&&(c=t(e.version)),!c&&e.description&&(c=t(e.description)),e.filename&&(d=n(e.filename)))}var a,o,s,l=!1,u=!1,d=!1,c="";if(r.plugins&&r.plugins.length)a=r.plugins["Shockwave Flash"],i(a),r.plugins["Shockwave Flash 2.0"]&&(l=!0,c="2.0.0.11");else if(r.mimeTypes&&r.mimeTypes.length)s=r.mimeTypes["application/x-shockwave-flash"],a=s&&s.enabledPlugin,i(a);else if("undefined"!=typeof e){u=!0;try{o=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,c=t(o.GetVariable("$version"))}catch(p){try{o=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,c="6.0.21"}catch(h){try{o=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,c=t(o.GetVariable("$version"))}catch(m){u=!1}}}}q.disabled=l!==!0,q.outdated=c&&f(c)<f(A),q.version=c||"0.0.0",q.pluginType=d?"pepper":u?"activex":l?"netscape":"unknown"};It(u);var Et=function(){return this instanceof Et?void("function"==typeof Et._createClient&&Et._createClient.apply(this,_(arguments))):new Et};v(Et,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),Et.config=function(){return N.apply(this,_(arguments))},Et.state=function(){return F.apply(this,_(arguments))},Et.isFlashUnusable=function(){return $.apply(this,_(arguments))},Et.on=function(){return R.apply(this,_(arguments))},Et.off=function(){return G.apply(this,_(arguments))},Et.handlers=function(){return Y.apply(this,_(arguments))},Et.emit=function(){return X.apply(this,_(arguments))},Et.create=function(){return V.apply(this,_(arguments))},Et.destroy=function(){return J.apply(this,_(arguments))},Et.setData=function(){return W.apply(this,_(arguments))},Et.clearData=function(){return Q.apply(this,_(arguments))},Et.getData=function(){return Z.apply(this,_(arguments))},Et.focus=Et.activate=function(){return K.apply(this,_(arguments))},Et.blur=Et.deactivate=function(){return et.apply(this,_(arguments))},Et.activeElement=function(){return tt.apply(this,_(arguments))};var Ht=0,zt={},qt=0,At={},Bt={};x(M,{autoActivate:!0});var Pt=function(e){var t=this;t.id=""+Ht++,zt[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Et.on("*",function(e){return t.emit(e)}),Et.on("destroy",function(){t.destroy()}),Et.create()},Lt=function(e,t){var n,i,a,o={},r=zt[this.id]&&zt[this.id].handlers;if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)b.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)e=a[n].replace(/^on/,""),o[e]=!0,r[e]||(r[e]=[]),r[e].push(t);if(o.ready&&q.ready&&this.emit({type:"ready",client:this}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;i>n;n++)if(q[s[n]]){this.emit({type:"error",name:"flash-"+s[n],client:this});break}}}return this},Ot=function(e,t){var n,i,a,o,r,s=zt[this.id]&&zt[this.id].handlers;if(0===arguments.length)o=g(s);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)b.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),r=s[e],r&&r.length)if(t)for(a=r.indexOf(t);-1!==a;)r.splice(a,1),a=r.indexOf(t,a);else r.length=0;return this},Mt=function(e){var t=null,n=zt[this.id]&&zt[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:k(n)),t},Nt=function(e){if(Yt.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=x({},e));var t=x({},it(e),{client:this});Xt.call(this,t)}return this},Ft=function(e){e=Vt(e);for(var t=0;t<e.length;t++)if(b.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===At[e[t].zcClippingId].indexOf(this.id)&&At[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+qt++,At[e[t].zcClippingId]=[this.id],M.autoActivate===!0&&Jt(e[t]));var n=zt[this.id]&&zt[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},$t=function(e){var t=zt[this.id];if(!t)return this;var n,i=t.elements;e="undefined"==typeof e?i.slice(0):Vt(e);for(var a=e.length;a--;)if(b.call(e,a)&&e[a]&&1===e[a].nodeType){for(n=0;-1!==(n=i.indexOf(e[a],n));)i.splice(n,1);var o=At[e[a].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(M.autoActivate===!0&&Wt(e[a]),delete e[a].zcClippingId)}}return this},Rt=function(){var e=zt[this.id];return e&&e.elements?e.elements.slice(0):[]},Gt=function(){this.unclip(),this.off(),delete zt[this.id]},Yt=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=zt[this.id]&&zt[this.id].elements,n=!!t&&t.length>0,i=!e.target||n&&-1!==t.indexOf(e.target),a=e.relatedTarget&&n&&-1!==t.indexOf(e.relatedTarget),o=e.client&&e.client===this;return i||a||o?!0:!1},Xt=function(e){if("object"==typeof e&&e&&e.type){var t=rt(e),n=zt[this.id]&&zt[this.id].handlers["*"]||[],i=zt[this.id]&&zt[this.id].handlers[e.type]||[],o=n.concat(i);if(o&&o.length){var r,s,l,u,d,c=this;for(r=0,s=o.length;s>r;r++)l=o[r],u=c,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(d=x({},e),st(l,u,[d],t))}return this}},Vt=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},Jt=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=a.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=a.event))&&(t(n),Et.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Bt[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},Wt=function(e){if(e&&1===e.nodeType){var t=Bt[e.zcClippingId];if("object"==typeof t&&t){for(var n,i,a=["move","leave","enter","out","over"],o=0,r=a.length;r>o;o++)n="mouse"+a[o],i=t[n],"function"==typeof i&&e.removeEventListener(n,i,!1);delete Bt[e.zcClippingId]}}};Et._createClient=function(){Pt.apply(this,_(arguments))},Et.prototype.on=function(){return Lt.apply(this,_(arguments))},Et.prototype.off=function(){return Ot.apply(this,_(arguments))},Et.prototype.handlers=function(){return Mt.apply(this,_(arguments))},Et.prototype.emit=function(){return Nt.apply(this,_(arguments))},Et.prototype.clip=function(){return Ft.apply(this,_(arguments))},Et.prototype.unclip=function(){return $t.apply(this,_(arguments))},Et.prototype.elements=function(){return Rt.apply(this,_(arguments))},Et.prototype.destroy=function(){return Gt.apply(this,_(arguments))},Et.prototype.setText=function(e){return Et.setData("text/plain",e),this},Et.prototype.setHtml=function(e){return Et.setData("text/html",e),this},Et.prototype.setRichText=function(e){return Et.setData("application/rtf",e),this},Et.prototype.setData=function(){return Et.setData.apply(this,_(arguments)),this},Et.prototype.clearData=function(){return Et.clearData.apply(this,_(arguments)),this},Et.prototype.getData=function(){return Et.getData.apply(this,_(arguments))},"function"==typeof define&&define.amd?define("zeroclipboard",[],function(){return Et}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Et:e.ZeroClipboard=Et}(function(){return this||window}()),define("ud.hellobar",["jquery-widget-init","handlebars.helpers","jquery.timeto","zeroclipboard","ud-link","ud.api"],function(e,t,n,i,a){e.widget("ud.ud_hellobar",{options:{template:null,helloBarTitle:null,helloBarSubtitle:null,actionType:null,cta:null,couponCode:null,url:null,enableTimer:null,hasIcon:null,iconUrl:null,secondsLeft:null,helloBarId:null,type:null,isCustom:!1,templateName:null},isHidden:!1,helloBarTemplate:null,$helloBar:null,$helloBarBorder:null,$helloBarTooltip:null,$couponCodeButton:null,couponCodeInterval:null,zeroClipboardButton:null,_create:function(){e.extend(this.options,this.element.data()),this.options.isCustom?this._createCustomHelloBar():(this.$helloBar=this.element,this._assignHandlers())},_createCustomHelloBar:function(){var t="hello-bar",n=this.options.templateName;t=n?n:t,require(["text!/template/"+t],e.proxy(function(t){this._initHandlebarsTemplates(t),this.isHidden=this.options.isHidden;var n={template:this.options.template,helloBarTitle:this.options.helloBarTitle,helloBarSubtitle:this.options.helloBarSubtitle,actionType:this.options.actionType,cta:this.options.cta,couponCode:this.options.couponCode,hasUrl:""!=this.options.url?"Yes":"No",url:this.options.url,enableTimer:"1"==this.options.enableTimer?"Yes":"No",hasIcon:this.options.hasIcon>0?"Yes":"No",iconUrl:this.options.iconUrl},o=e(this.helloBarTemplate(n));e(".header-v4").prepend(o).addClass("has-hello-bar"),require(["ud.usertracker"],function(){e(".hello-bar-container.ud-usertracker").ud_usertracker()}),o.find(".active-link").click(this.linkHandler.bind(this)),this.$helloBar=o.find(".hello-bar"),this.$helloBarBorder=o.find(".hello-bar-border"),this.$helloBarTooltip=o.find(".hello-bar-tooltip"),this.$couponCodeButton=o.find(".js-couponCodeButton"),i.config({swfPath:a.toJs("bower_components/zeroclipboard/dist/ZeroClipboard.swf")}),this.zeroClipboardButton=new i(this.$couponCodeButton);var r=this.$helloBar.find(".hello-bar-timer");if(r.length){r.timeTo({seconds:this.options.secondsLeft,displayHours:!0,displayDays:this.options.secondsLeft>86400?2:0,theme:"green",fontSize:28,captionSize:10,displayCaptions:!0});var s=r.find("figure"),l=r.find("span");s.last().remove(),l.last().remove(),this.options.secondsLeft>86400&&(s[s.length-2].remove(),l[l.length-2].remove())}this.options.isHidden?this.hideHelloBar():this.showHelloBar(),this._assignHandlers()
},this))},_initHandlebarsTemplates:function(n){var i=e("<div>"+n+"</div>");this.helloBarTemplate=t.compile(i.find("#helloBarTemplate").html())},_assignHandlers:function(){this.zeroClipboardButton&&this.zeroClipboardButton.on("ready",this.zeroClipboardOnReady.bind(this)),this.$helloBarBorder&&this.$helloBarBorder.on("click",this.showHelloBar.bind(this)),e(".close",this.$helloBar).on("click",e.proxy(this._closeClickHandler,this))},showHelloBar:function(){return this.$helloBar.addClass("open").css("cursor","auto").find(".code-text").select(),this.$helloBarBorder.hide(),this.isHidden&&this.$helloBarTooltip.remove(),!1},hideHelloBar:function(){this.$helloBar.removeClass("open"),this.$helloBarBorder.show()},linkHandler:function(t){t.preventDefault();var n=e(t.target);this.sendUserTrackerLog(n.data("usertracker-type")),window.location=n.data("href")},zeroClipboardOnReady:function(){this.zeroClipboardButton.on("aftercopy",this.couponCodeButtonAfterCopy.bind(this))},couponCodeButtonAfterCopy:function(){this.sendUserTrackerLog(this.$couponCodeButton.data("usertracker-type")),this.$couponCodeButton.find("span").fadeOut("fast",this.couponCodeButtonOnFadeout.bind(this))},couponCodeButtonOnFadeout:function(){var e=this.$helloBar.hasClass("ahoy")?"checked":"checked_white";this.$couponCodeButton.find("span").removeClass(e).addClass(e).fadeToggle("fast").delay(1e3).fadeToggle("fast"),this.couponCodeInterval=setInterval(this.couponCodeButtonReset.bind(this),1500)},couponCodeButtonReset:function(){this.$couponCodeButton.find("span").removeClass("checked checked_white").fadeToggle("fast"),clearInterval(this.couponCodeInterval)},_closeClickHandler:function(e){e.preventDefault(),this.hideHelloBar(),this.isHidden||(this.isHidden=!0,this.$helloBarTooltip.delay(500).fadeIn("fast").delay(3e3).fadeOut("fast"));var t=this.options.helloBarId||this.options.type;return UD.API.HelloBar.close(t),!1},destroy:function(){},sendUserTrackerLog:function(e){var t=JSON.stringify([{type:e,time:Date.now(),tracker:"hello-bar"}]);UD.API.call("/visits/me/tracking-logs/",{type:"POST",data:{commands:t}})}})}),define("ud.jqelement",["jquery-widget-init"],function($){$.widget("ud.ud_jqelement",{options:{},_create:function(){var matches=this.element.attr("class").match(/ud-jq-(\w*)\b/);if(matches.length>1){var uiName=matches[1],params={};$.each(this.element.data(),function(i,e){"object"!=typeof e&&(params[i]="string"==typeof e&&0==e.indexOf("new Function")?eval(e):e)}),this.element[uiName](params),this.element.show()}},destroy:function(){}})}),define("handlebars-templates",["handlebars"],function(e){return this.JST=this.JST||{},this.JST["notifications/activity-comment-activity"]=e.template({1:function(e,t,n,i,a){var o,r=t.helperMissing,s="";return o=(t.if_cond||e&&e.if_cond||r).call(e,null!=e?e.relation:e,"==","owner",{name:"if_cond",hash:{},fn:this.program(2,i,a),inverse:this.program(5,i,a),data:i}),null!=o&&(s+=o),s+="\n",o=t["if"].call(e,null!=(o=null!=(o=null!=e?e.root:e)?o.object:o)?o.readable_title:o,{name:"if",hash:{},fn:this.program(15,i,a),inverse:this.noop,data:i}),null!=o&&(s+=o),s},2:function(e,t,n,i,a){var o,r=t.helperMissing,s="";return o=(t.sprintf||e&&e.sprintf||r).call(e,{name:"sprintf",hash:{readable_obj:null!=(o=null!=(o=null!=e?e.root:e)?o.object:o)?o.readable_type:o,user:(t.safeString||e&&e.safeString||r).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||r).call(e,null!=a[2]?a[2].activities:a[2],{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(3,i,a),inverse:this.noop,data:i}),null!=o&&(s+=o),s+"                    "},3:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                            "+o((t._||e&&e._||a).call(e,"%(user)s commented on your %(readable_obj)s:",{name:"_",hash:{},data:i}))+"\n"},5:function(e,t,n,i,a){var o,r=t.helperMissing,s=" ";return o=(t.if_cond||e&&e.if_cond||r).call(e,null!=e?e.relation:e,"==","comment",{name:"if_cond",hash:{},fn:this.program(6,i,a),inverse:this.program(9,i,a),data:i}),null!=o&&(s+=o),s},6:function(e,t,n,i,a){var o,r=t.helperMissing,s="\n";return o=(t.sprintf||e&&e.sprintf||r).call(e,{name:"sprintf",hash:{readable_obj:null!=(o=null!=(o=null!=e?e.root:e)?o.object:o)?o.readable_type:o,user:(t.safeString||e&&e.safeString||r).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||r).call(e,null!=a[3]?a[3].activities:a[3],{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(7,i,a),inverse:this.noop,data:i}),null!=o&&(s+=o),s+"                    "},7:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                            "+o((t._||e&&e._||a).call(e,"%(user)s also commented on %(readable_obj)s:",{name:"_",hash:{},data:i}))+"\n"},9:function(e,t,n,i,a){var o,r=t.helperMissing,s=" ";return o=(t.if_cond||e&&e.if_cond||r).call(e,null!=e?e.relation:e,"==","follower",{name:"if_cond",hash:{},fn:this.program(10,i,a),inverse:this.program(13,i,a),data:i}),null!=o&&(s+=o),s},10:function(e,t,n,i,a){var o,r=t.helperMissing,s="\n";return o=(t.sprintf||e&&e.sprintf||r).call(e,{name:"sprintf",hash:{owner_title:null!=(o=null!=(o=null!=e?e.root:e)?o.owner:o)?o.title:o,readable_obj:null!=(o=null!=(o=null!=e?e.root:e)?o.object:o)?o.readable_type:o,user:(t.safeString||e&&e.safeString||r).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||r).call(e,null!=a[4]?a[4].activities:a[4],{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(11,i,a),inverse:this.noop,data:i}),null!=o&&(s+=o),s},11:function(e,t,n,i){var a,o=t.helperMissing,r="                            ";return a=(t._||e&&e._||o).call(e,"%(user)s commented on <b>%(owner_title)s</b>'s %(readable_obj)s you follow:",{name:"_",hash:{},data:i}),null!=a&&(r+=a),r+"\n"},13:function(e,t,n,i,a){var o,r=t.helperMissing,s="";return o=(t.sprintf||e&&e.sprintf||r).call(e,{name:"sprintf",hash:{owner_title:null!=(o=null!=(o=null!=e?e.root:e)?o.owner:o)?o.title:o,readable_obj:null!=(o=null!=(o=null!=e?e.root:e)?o.object:o)?o.readable_type:o,user:(t.safeString||e&&e.safeString||r).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||r).call(e,null!=a[4]?a[4].activities:a[4],{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(11,i,a),inverse:this.noop,data:i}),null!=o&&(s+=o),s},15:function(e,t,n,i){var a,o=t.helperMissing,r="                        &ldquo;";return a=(t.ellipsis||e&&e.ellipsis||o).call(e,null!=(a=null!=(a=null!=e?e.root:e)?a.object:a)?a.readable_title:a,20,{name:"ellipsis",hash:{},fn:this.program(16,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"&rdquo;\n"},16:function(){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a){var o,r,s="function",l=t.helperMissing,u=this.escapeExpression,d=this.lambda,c='<li>\n    <a href="'+u((r=null!=(r=t.target_url||(null!=e?e.target_url:e))?r:l,typeof r===s?r.call(e,{name:"target_url",hash:{},data:i}):r))+"\"\n       onclick=\"UD.GoogleAnalytics.trackEvent('notification', 'click', 'activity-comment');\">\n        <span style=\"background-image: url("+u(d(null!=(o=null!=(o=null!=(o=null!=(o=null!=e?e.activities:e)?o[0]:o)?o.user:o)?o.images:o)?o.img_50x50:o,e))+');"\n              class="bordered-thumb thumb"></span>\n\n        <div class="details">\n            <p>\n';return o=t["with"].call(e,null!=e?e.reason_object:e,{name:"with",hash:{},fn:this.program(1,i,a),inverse:this.noop,data:i}),null!=o&&(c+=o),c+'            </p>\n            <time data-redistimestamp="'+u(d(null!=(o=null!=(o=null!=e?e.activities:e)?o[0]:o)?o.micro_timestamp:o,e))+'"></time>\n        </div>\n    </a>\n</li>\n\n'},useData:!0,useDepths:!0}),this.JST["notifications/activity-like-activity"]=e.template({1:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{readable_obj:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_type:a,user:(t.safeString||e&&e.safeString||o).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||o).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"                "},2:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                        "+o((t._||e&&e._||a).call(e,"%(user)s liked your %(readable_obj)s:",{name:"_",hash:{},data:i}))+"\n"},4:function(e,t,n,i){var a,o=t.helperMissing,r=" ";return a=(t.if_cond||e&&e.if_cond||o).call(e,null!=(a=null!=e?e.reason_object:e)?a.relation:a,"==","follower",{name:"if_cond",hash:{},fn:this.program(5,i),inverse:this.program(8,i),data:i}),null!=a&&(r+=a),r},5:function(e,t,n,i){var a,o=t.helperMissing,r="\n";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{readable_obj:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_type:a,user:(t.safeString||e&&e.safeString||o).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||o).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(6,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},6:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                        "+o((t._||e&&e._||a).call(e,"%(user)s liked a %(readable_obj)s you are following:",{name:"_",hash:{},data:i}))+"\n"},8:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{readable_obj:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_type:a,user:(t.safeString||e&&e.safeString||o).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||o).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(9,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},9:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                        "+o((t._||e&&e._||a).call(e,"%(user)s liked a %(readable_obj)s:",{name:"_",hash:{},data:i}))+"\n"},11:function(e,t,n,i){var a,o=t.helperMissing,r="                    &ldquo;";return a=(t.ellipsis||e&&e.ellipsis||o).call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,20,{name:"ellipsis",hash:{},fn:this.program(12,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"&rdquo;\n"},12:function(){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,o,r="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,d='<li>\n    <a href="'+l((o=null!=(o=t.target_url||(null!=e?e.target_url:e))?o:s,typeof o===r?o.call(e,{name:"target_url",hash:{},data:i}):o))+"\"\n       onclick=\"UD.GoogleAnalytics.trackEvent('notification', 'click', 'activity-like');\">\n        <span style=\"background-image: url("+l(u(null!=(a=null!=(a=null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.user:a)?a.images:a)?a.img_50x50:a,e))+');"\n              class="bordered-thumb thumb"></span>\n\n        <div class="details">\n            <p>\n';return a=(t.if_cond||e&&e.if_cond||s).call(e,null!=(a=null!=e?e.reason_object:e)?a.relation:a,"==","owner",{name:"if_cond",hash:{},fn:this.program(1,i),inverse:this.program(4,i),data:i}),null!=a&&(d+=a),d+="\n",a=t["if"].call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,{name:"if",hash:{},fn:this.program(11,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </p>\n            <time data-redistimestamp="'+l(u(null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.micro_timestamp:a,e))+'"></time>\n        </div>\n    </a>\n</li>\n'},useData:!0}),this.JST["notifications/announcement-made-activity"]=e.template({1:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{user:(t.safeString||e&&e.safeString||o).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||o).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},2:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                        "+o((t._||e&&e._||a).call(e,"%(user)s made an announcement in a course you are enrolled in:",{name:"_",hash:{},data:i}))+"\n"},4:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{user:(t.safeString||e&&e.safeString||o).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||o).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},5:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                        "+o((t._||e&&e._||a).call(e,"%(user)s made an announcement",{name:"_",hash:{},data:i}))+"\n"},7:function(e,t,n,i){var a,o=t.helperMissing,r="                    &ldquo;";return a=(t.ellipsis||e&&e.ellipsis||o).call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,20,{name:"ellipsis",hash:{},fn:this.program(8,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"&rdquo;\n"},8:function(){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,o,r="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,d='<li>\n    <a href="'+l((o=null!=(o=t.target_url||(null!=e?e.target_url:e))?o:s,typeof o===r?o.call(e,{name:"target_url",hash:{},data:i}):o))+"\"\n       onclick=\"UD.GoogleAnalytics.trackEvent('notification', 'click', 'announcement-made');\">\n        <span style=\"background-image: url("+l(u(null!=(a=null!=(a=null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.user:a)?a.images:a)?a.img_50x50:a,e))+');"\n              class="bordered-thumb thumb"></span>\n\n        <div class="details">\n            <p>\n';return a=(t.if_cond||e&&e.if_cond||s).call(e,null!=(a=null!=e?e.reason_object:e)?a.relation:a,"==","course_subscriber",{name:"if_cond",hash:{},fn:this.program(1,i),inverse:this.program(4,i),data:i}),null!=a&&(d+=a),d+="\n",a=t["if"].call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </p>\n            <time data-redistimestamp="'+l(u(null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.micro_timestamp:a,e))+'"></time>\n        </div>\n    </a>\n</li>\n'},useData:!0}),this.JST["notifications/discussion-post-activity"]=e.template({1:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{obj_title:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.title:a},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},2:function(e,t,n,i){var a,o=t.helperMissing,r="                        ";return a=(t._||e&&e._||o).call(e,"A new discussion item in <b>%(obj_title)s</b>",{name:"_",hash:{},data:i}),null!=a&&(r+=a),r+"\n"},4:function(e,t,n,i){var a,o=t.helperMissing,r="";return a=(t.sprintf||e&&e.sprintf||o).call(e,{name:"sprintf",hash:{obj_title:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.title:a,discussion_count:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.target:a)?a.object:a)?a.discussion_count:a},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r},5:function(e,t,n,i){var a,o=t.helperMissing,r="                        ";return a=(t._||e&&e._||o).call(e,"%(discussion_count)s new discussion items in <b>%(obj_title)s</b>",{name:"_",hash:{},data:i}),null!=a&&(r+=a),r+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,o,r="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,d='<li>\n    <a href="'+l((o=null!=(o=t.target_url||(null!=e?e.target_url:e))?o:s,typeof o===r?o.call(e,{name:"target_url",hash:{},data:i}):o))+"\"\n       onclick=\"UD.GoogleAnalytics.trackEvent('notification', 'click', 'discussion-post');\">\n        <span style=\"background-image: url("+l(u(null!=(a=null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.images:a)?a.img_50x50:a,e))+');"\n              class="bordered-thumb thumb"></span>\n\n        <div class="details">\n            <p>\n';return a=(t.if_eq||e&&e.if_eq||s).call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.target:a)?a.object:a)?a.discussion_count:a,{name:"if_eq",hash:{compare:1},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),a=(t.if_gt||e&&e.if_gt||s).call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.target:a)?a.object:a)?a.discussion_count:a,{name:"if_gt",hash:{compare:1},fn:this.program(4,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </p>\n            <time data-redistimestamp="'+l(u(null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.micro_timestamp:a,e))+'"></time>\n        </div>\n    </a>\n</li>\n'},useData:!0}),this.JST["notifications/discussion-reply-given-activity"]=e.template({1:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return"                    "+o((t._||e&&e._||a).call(e,"%(user)s replied to the %(readable_obj)s:",{name:"_",hash:{},data:i}))+"\n"},3:function(e,t,n,i){var a,o=t.helperMissing,r="                    &ldquo;";return a=(t.ellipsis||e&&e.ellipsis||o).call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,20,{name:"ellipsis",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"&rdquo;\n"},4:function(){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,o,r="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,d='<li>\n    <a href="'+l((o=null!=(o=t.target_url||(null!=e?e.target_url:e))?o:s,typeof o===r?o.call(e,{name:"target_url",hash:{},data:i}):o))+"\"\n       onclick=\"UD.GoogleAnalytics.trackEvent('notification', 'click', 'discussion-reply');\">\n        <span style=\"background-image: url("+l(u(null!=(a=null!=(a=null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.user:a)?a.images:a)?a.img_50x50:a,e))+');"\n              class="bordered-thumb thumb"></span>\n\n        <div class="details">\n            <p>\n';return a=(t.sprintf||e&&e.sprintf||s).call(e,{name:"sprintf",hash:{readable_obj:null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_type:a,user:(t.safeString||e&&e.safeString||s).call(e,(t.notificationSourceUsersHtml||e&&e.notificationSourceUsersHtml||s).call(e,null!=e?e.activities:e,{name:"notificationSourceUsersHtml",hash:{},data:i}),{name:"safeString",hash:{},data:i})},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="\n",a=t["if"].call(e,null!=(a=null!=(a=null!=(a=null!=e?e.reason_object:e)?a.root:a)?a.object:a)?a.readable_title:a,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </p>\n            <time data-redistimestamp="'+l(u(null!=(a=null!=(a=null!=e?e.activities:e)?a[0]:a)?a.micro_timestamp:a,e))+'"></time>\n        </div>\n    </a>\n</li>\n'},useData:!0}),this.JST["notifications/no-more-activity"]=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a=t.helperMissing,o=this.escapeExpression;return'<li class="null">\n	<div class="notification-zero-case">\n		<p>'+o((t._||e&&e._||a).call(e,"No more notifications to show at this time",{name:"_",hash:{},data:i}))+"</p>\n	</div>\n</li>\n"},useData:!0}),this.JST}),define("ud.notifications",["jquery-widget-init","handlebars.helpers","moment","handlebars-templates","ud.api","ud.googleanalytics"],function(e,t,n,i){e.widget("ud.ud_notifications",{currentRequest:{page:0,active:!1},options:{infiniteScrollDeactivated:!1},maskContainerElement:null,ulElement:null,countElem:null,notificationsData:[],currentPage:1,_create:function(){e.extend(this.options,this.element.data()),this._initHandlebarsTemplates(),e(this.element).delegate(".null","click",function(e){return e.preventDefault(),!1}),e(this.element).delegate("li:not(.null)","click",function(e){e.stopPropagation()}),this.initializePageElements(),this.loadAndRenderUnreadNotificationsCount(),this.initializeInfiniteScroll(),this.element.on("click",".dropdown-toggle > a",e.proxy(this.notificationsBarOpenedHandler,this)),this.element.hasClass("open")&&this.notificationsBarOpenedHandler()},_initHandlebarsTemplates:function(){t.registerHelper("notificationSourceUsersHtml",function(e){return"undefined"==typeof e?"":1==e.length?"<b>"+e[0].user.title+"</b>":2==e.length?"<b>"+e[0].user.title+"</b> and <b>"+e[1].user.title+"</b>":e.length>2?"<b>"+e[0].user.title+"</b> and <b>"+(e.length-1)+" others</b>":void 0})},initializePageElements:function(){this.maskContainerElement=e(".mask",this.element),this.ulElement=e(".notifications-list-container",this.element),this.countElem=e(".count",this.element)},initializeInfiniteScroll:function(){this.maskContainerElement.scroll(function(){this.checkScrollStateAndLoadMore()}.context(this))},checkScrollStateAndLoadMore:function(){var e=this.scrolledDownEnough();this.currentRequest.active||this.options.infiniteScrollDeactivated||!e||this.loadNextPageAndRender()},scrolledDownEnough:function(){var e=this.maskContainerElement.height(),t=this.ulElement.height(),n=this.maskContainerElement.scrollTop(),i=t-e-n;return 100>i},notificationsBarOpenedHandler:function(){this.hideUnreadNotificationsCount(),0==this.notificationsData.length?this.options.infiniteScrollDeactivated||this.loadNextPageAndRender():(this.renderAndShowAllLoadedNotifications(),this.options.infiniteScrollDeactivated&&this.renderNoMoreNotificationsText()),UD.GoogleAnalytics.trackEvent("notification",e(this.element).hasClass("open")?"hide":"show")},loadNextPageAndRender:function(){this.showAjaxloader(),this.currentRequest.active=!0,this.currentRequest.page++,UD.API.call("/newsfeed/notifications",{type:"GET",data:{page:this.currentRequest.page},success:e.proxy(this.saveAndRenderNotifications,this),error:e.proxy(this.handleLoadNotificationsError,this)})},renderAndShowAllLoadedNotifications:function(){this.removeAjaxLoader(),this.ulElement.html(""),this.renderAndEmbedNotifications(this.notificationsData)},renderAndEmbedNotifications:function(e){for(var t="",n=0;n<e.length;n++)t+=this.renderNotification(e[n]);this.ulElement.append(t),this.updateAllTimestamps()},renderNotification:function(e){var t=i["notifications/"+e.template_id];return"undefined"!=typeof t?t(e):""},saveAndRenderNotifications:function(t){this.currentRequest.active=!1;var n=t.data;this.removeAjaxLoader(),0===n.length?(this.options.infiniteScrollDeactivated=!0,this.renderNoMoreNotificationsText()):(e.merge(this.notificationsData,n),this.renderAndEmbedNotifications(n),this.checkScrollStateAndLoadMore())},removeAjaxLoader:function(){e(".ajax-loader-stick",this.element).parent().remove()},showAjaxloader:function(){var e='<li> <div class="ajax-loader-stick" style="position: relative;"></div> </li>';this.ulElement.append(e)},renderNoMoreNotificationsText:function(){0===e(".null",this.element).length&&this.ulElement.append(i["notifications/no-more-activity"]({}))},updateAllTimestamps:function(){e.each(e("time",this.element),function(t,i){var a=e(i),o=a.data("redistimestamp"),r=Math.floor(o/1e3),s=n(r);a.text(s.fromNow())})},hideUnreadNotificationsCount:function(){this.countElem.addClass("none")},handleLoadNotificationsError:function(){this.currentRequest.active=!1,this.options.infiniteScrollDeactivated=!0,this.removeAjaxLoader(),this.renderNoMoreNotificationsText()},loadAndRenderUnreadNotificationsCount:function(){var e=parseInt(this.options.maxPotentialCount);this.renderUnreadNotificationsCount(e)},renderUnreadNotificationsCount:function(e){e&&UD.API.call("/newsfeed/unread-notification-count",{type:"GET",data:{},success:this.onSuccessRenderUnreadNotificationsCount.context(this)})},onSuccessRenderUnreadNotificationsCount:function(e){e>0&&(this.countElem.html(e),this.countElem.removeClass("none"))}})}),define("ud.utils",["jquery","jquery-migrate","ud.page"],function($){function _appendErrorsToForm(e,t,n){n||(n="outside-error-msg");var i,a,o,r,s=$("<span>",{"class":"error-msg inside-error-msg",text:"required"}),l=$("<div>",{"class":"form-tooltip black-tooltip medium arrow-left error-msg "+n}),u=$("<span>",{"class":"arrow"});if(e)for(i in e)a=e[i],i=$.camelCase(i.replace(/_/gi,"-")),r=t.find("#form-item-"+i+" > .tooltip-reference"),o=r.find("[id^="+i+"]"),r.addClass("field-error"),a||!o.is('input[type="text"]')&&!o.is("textarea")?a&&r.append(l.clone().html(a).append(u.clone())):r.append(s.clone())}UD.Utils=UD.Utils||{},UD.Utils.Date={parseYearWeek:function(e){var t=Math.floor(e/100),n=e%100,i=new Date(t,0,1),a=i.getDate()+7*(n-1)-i.getDay();return i.setDate(1>a?a+7:a),i}},UD.Utils.Array={pivotize:function(e,t,n,i,a){var o,r,s,l,u={},d=[],c=[],f=[],p="",h=function(e){return e.match(/^-{0,1}\d*\.{0,1}\d+$/)?"#"+e:e};for(l=0;l<e.length;l++)r=e[l],o=u[r[t]],"undefined"==typeof o&&(s={},s[t]=r[t],f.push(s),o=f.length-1,u[r[t]]=o),p=h(r[n]),-1===d.indexOf(p)&&d.push(p),f[o][p]=r[i];for(l=0;l<f.length;l++){c[l]={},c[l][t]=f[l][t];for(var m=0;m<d.length;m++)p=d[m],c[l][p]="undefined"==typeof f[l][p]?a:f[l][p]}return c}},UD.Utils.Object={merge:function(e,t,n,i){n=n!==!1,e=n?this.clone(e):e;var a,o;for(var r in t)if(a=e[r],o=t[r],!i||void 0===a)if("object"!=typeof a||a instanceof Array||a instanceof RegExp||null===a)if(a instanceof Array&&o instanceof Array)for(var s=0,l=o.length;l>s;++s)a[s]=o[s];else e[r]="object"!=typeof o||o instanceof Array||o instanceof RegExp||null===o?o:this.clone(o);else e[r]="object"!=typeof o||o instanceof Array||o instanceof RegExp||null===o?o:arguments.callee.call(this,a,o,n,i);return e},getFieldsArray:function(e){var t=[];for(var n in e)t.push(n);return t},exclusiveMerge:function(e,t,n){return this.merge(e,t,n,!0)},clone:function(obj){var newObj={},o;for(var i in obj)o=obj[i],newObj[i]=o instanceof Array?o.concat():o instanceof RegExp?eval(o.toString()):void 0===o||null===o?o:"object"==typeof o?arguments.callee.call(this,o):o;return newObj}},UD.Utils.connect=function(e,t,n,i){if((void 0===e||null===e)&&(e=function(){}),2==arguments.length?(n=t,t=null):3==arguments.length&&(i=n,n=t,t="__context__"),e&&e.__connectedFunctions)return e.__connectedFunctions.push({func:n,context:i}),e;var a=function(){if(t="__context__"==t?this:t,e&&e.apply(t,arguments),a.__connectedFunctions)for(var n,i=0;i<a.__connectedFunctions.length;i++)n=a.__connectedFunctions[i],n.func.apply(n.context,arguments)};return a.__connectedFunctions=[{func:n,context:i}],a},UD.Utils.getFileExtension=function(e){var t=e.match(/\.([^\.\/]+)$/);return t.length>=2?t[1]:null},UD.Utils.parseLinkHeader=function(e){for(var t,n={},i=/<\s*"?(.*?)"?\s*>\s*;\s*rel\s*=\s*"(\w+)"/gi;null!==(t=i.exec(e));)n[t[2]]=t[1];return n},UD.Utils.MessageType={info:"info",error:"error"},UD.Utils.Feedback={fromText:function(e,t){t=t||UD.Utils.MessageType.info,e&&($(".header-v4>div.feedbacks-bar").remove(),$(".header-v4").append($("<div>",{"class":"feedbacks-bar ud-page","data-page-name":"feedbacks-bar"}).append($("<div>",{"class":"feedback-bar feedback-type-"+t}).append($("<div>",{"class":"feedback-container"}).append($("<p>",{"class":"message",text:e}))))),$(".feedbacks-bar").ud_page())},fromObj:function(e){UD.Utils.Feedback.fromText(e.message,e.type)},fromJqXHR:function(e,t,n){"function"==typeof n.getResponseHeader?UD.Utils.Feedback.fromText(n.getResponseHeader("X-UI-Message"),n.getResponseHeader("X-UI-Message-Type")):"function"==typeof e.getResponseHeader&&UD.Utils.Feedback.fromText(e.getResponseHeader("X-UI-Message"),e.getResponseHeader("X-UI-Message-Type"))}};var FormSelector={formError:".js-form-error"};UD.Utils.Form={fillErrors:function(e,t){var n,i,a=e.find(FormSelector.formError);this.resetErrors(e),n=t.responseJSON,n.error&&n.error.details?(i=n.error.details,i.error&&(a.html(i.error),a.removeClass("none")),$.isEmptyObject(i.invalid_items)||_appendErrorsToForm(i.invalid_items,e),$.isEmptyObject(i.warning_items)||_appendErrorsToForm(i.warning_items,e,"outside-warning-msg")):n.error&&n.error.message&&(a.html(n.error.message),a.removeClass("none"))},resetErrors:function(e){var t=e.find(FormSelector.formError);t.addClass("none"),t.empty(),e.find(".error-msg").remove(),e.find(".field-error").removeClass("field-error")}}}),define("ud.loader",["jquery-widget-init","jquery.fancybox","ud.initializer","ud.popup","ud.utils"],function(e){e.widget("ud.ud_loader",{options:{url:null},_create:function(){for(var e in this.options)"undefined"!=typeof this.element.data(e.toLowerCase())&&(this.options[e]=this.element.data(e.toLowerCase()));this.addCallback("onBeforeFormSubmit",this.options.onBeforeFormSubmit),this.addCallback("onBeforeLoad",this.options.onBeforeLoad),this.addCallback("onLoad",this.options.onLoad),this.addCallback("onContentRendered",this.options.onContentRendered),this.addCallback("onJson",this.options.onJson),this.onParseElements=UD.Utils.Object.exclusiveMerge(this.options.onParseElements||{},this.onParseElements),this.onParseCommands=UD.Utils.Object.exclusiveMerge(this.options.onParseCommands||{},this.onParseCommands),this.currentAjaxRequest=null,this.currentAjaxRequest=null,this.jsonInstructions=null,this.currentUrl=null,this.isLoading=!1,this.isBlocked=!1,this.parser(),this.load(this.options.url,this.element)},destroy:function(){},addCallback:function(e,t){t&&(this[e]=UD.Utils.connect(this[e],t))},onContentRendered:function(){this.element.ud_initialize(),e.fancybox.update()},onJson:function(){},onLoad:function(){},onParseElements:{form:function(e){e.closest(".external-form").size()||e.submit(function(){try{"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),this.submitForm(e)}catch(t){}return!1}.context(this))},select:function(){},a:function(t,n){t.processed||"nofollow"==t.attr("rel")||"_blank"==t.attr("target")||e(t).data("external-link")||(t.processed=!0,t.click(function(e){t.attr("href")&&!/^javascript/.test(t.attr("href"))&&(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1),this.load(t.attr("href"),n))}.context(this)))}},onParseCommands:{"div.run-command.notify-form-submitted":function(t){e(window).trigger("form_submitted",e(t).data("params"))},"div.run-command.alert":function(t){alert(e(t).html())},"div.run-command.hide-info-section":function(){e("info-section").hide()},"div.run-command.command-reload":function(t,n){var i=e(t).find(".time")?parseFloat(e(t).find(".time").html()):0,a=e(t).find(".url").html()||this.currentUrl;setTimeout(function(){this.load.context(this,a,n)}.context(this),i)},"div.run-command.close-popup":function(){e.ud.ud_popup.prototype.close(!0)},"div.run-command.refresh-page":function(){window.location.reload()},"div.run-command.redirect":function(t){window.top.location.href=e(t).data("url")},"div.run-command.reload-page-element":function(t){var n=e(t).data("event-id");n&&e(window).trigger("reloadpageelement."+n)}},parser:function(t){return t=t?e(t):this.element,this.parseElements(t)===!0?!0:this.parseCommands(t)===!0?!0:void 0},parseElements:function(t){var n=!1;for(var i in this.onParseElements)t.find(i).each(function(a,o){try{if(this.onParseElements[i].call(this,e(o),t)===!0)throw n=!0,$break}catch(r){console&&console.log("error: "+r)}}.context(this));return n},parseCommands:function(e){var t=!1;for(var n in this.onParseCommands)try{e.find(n).each(function(i,a){if(this.onParseCommands[n].call(this,a,e)===!0)throw t=!0,$break}.context(this))}catch(i){console&&console.log("error:"+i)}return t},submitForm:function(t,n){if(!this.isBlocked){if(this.onBeforeFormSubmit&&this.onBeforeFormSubmit(t)===!0)return!0;
if(this.onBeforeLoad&&this.onBeforeLoad(n)===!0)return!0;var i=t.serialize();i+="&displayType=ajax",this.currentAjaxRequest=e.ajax({url:t.attr("action"),method:"post",data:i,success:function(e){this._loadHandler(n||this.element,e)}.context(this)}),this.showLoader(),this.isLoading=!0}},isActive:function(){return this.isLoading},deactivate:function(){this.isBlocked=!0,this.isLoading&&(this.currentAjaxRequest&&this.currentAjaxRequest.abort&&this.currentAjaxRequest.abort(),this.isLoading=!1)},load:function(t,n){if(t&&!this.isBlocked){if(this.onBeforeLoad&&this.onBeforeLoad(n,t)===!0)return!0;this.showLoader(n),this.currentUrl=t,this.currentAjaxRequest=e.ajax({url:t,data:{displayType:"ajax"},success:function(e){this._loadHandler(n||this.element,e)}.context(this)}),this.isLoading=!0}},_loadHandler:function(e,t){if(!this.isBlocked){this.isLoading=!1;var n=t;if(this.onLoad){var i=this.onLoad(n,e);if(i===!0)return!0;"string"==typeof i&&(n=i)}return this._htmlRenderer(e,n),this.onContentRendered&&this.onContentRendered(e,n)===!0?!0:void this.parser(e)}},_htmlRenderer:function(e,t){e.html(t)},showLoader:function(e){e=e||this.element;var t=e.find(".inline-loader-holder");t?t.removeClass("none"):($content=this.getLoaderContent(e.width(),e.height()),e.html($content))},getLoaderContent:function(e,t){return'<div style="background-color: white; margin: 0px; padding: 0px; width: '+e+"px; height: "+t+'px;"><span class="ajax-loader-small" style="top:50%;"></span></div>'}})}),define("ud.popup",["jquery-widget-init","ud-link","jsuri","jquery.fancybox","ud.hellobar.initializer","ud.initializer","ud.loader"],function(e,t,n){e.widget("ud.ud_popup",{options:{autoOpen:!1,type:"ajax",enableLoader:!1,requireLogin:!1,signupPopupIdentifier:null,showLoginPopup:!1,closeUrl:null,showHellobar:!1,hellobarIdentifier:null,scrolling:"auto",width:"auto",height:"auto",locale:null,minWidth:0,minHeight:0,autoDimensions:!0,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,href:null,wrapCSS:"",syncOlarkWindow:!1,modal:!1,overlayClosable:!0,closeBtn:!0,timeDelay:0,passDtCode:!1},udOlark:null,_create:function(){for(var i in this.options)"undefined"!=typeof this.element.data(i.toLowerCase())&&(this.options[i]=this.element.data(i.toLowerCase()));if("string"!=typeof(this.options.href||this.element.attr("href")))return void this.destroy();var a=e.extend({type:this.options.type,beforeLoad:function(){return this.element.attr("disabled")?!1:!0},helpers:{overlay:{closeClick:this.options.overlayClosable}},beforeClose:function(){e("#fancybox-overlay").addClass("noopacity")},beforeShow:function(){this.options.requireLogin&&(this.date=new Date,this.date.setTime(this.date.getTime()+604800)),window.scrollPosition=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop],window.scrollTo(scrollPosition[0],scrollPosition[1])}.bind(this),afterClose:function(){this.udOlark&&this.udOlark.hideIfNotConversing(),e.event.trigger("udpopupclosed"),0!==window.scrollPosition.length&&window.scrollTo(window.scrollPosition[0],window.scrollPosition[1]),this.options.closeUrl&&e.ajax({type:"GET",url:this.options.closeUrl}),this.options.showHellobar&&setTimeout(function(){UD.Config.helloBar.identifier=this.options.hellobarIdentifier,UD.Config.helloBar.isDisabled=!1,e.ud.ud_hellobar_initializer()}.bind(this),5e3)}.bind(this),afterShow:function(){if(this.udOlark&&this.udOlark.showBox(),"ajax"==this.options.type){var t=e(".fancybox-inner");t.ud_initialize(),this.options.enableLoader&&t.ud_loader()}this.options.modal&&e(".fancybox-close, .btn-close").length>0&&e(".fancybox-close, .btn-close").on("click",e.proxy(function(e){e.preventDefault(),this.close()},this))}.bind(this)},this.options);if("ajax"==this.options.type){var o=this.options.href||this.element.attr("href");if(this.options.passDtCode){var r=new n(window.location.toString()),s=r.getQueryParamValue("dtcode"),l=new n(o);s&&l.replaceQueryParam("dtcode",s),o=l.toString()}if(this.options.requireLogin){var u="signup-popup";this.options.showLoginPopup&&(u="login-popup");var d={displayType:"ajax",showSkipButton:1,returnUrlAfterLogin:o};this.options.signupPopupIdentifier&&(d.xref=this.options.signupPopupIdentifier),this.options.locale?d.locale=this.options.locale:UD.request.locale&&(d.locale=UD.request.locale),a.href=t.to("join",u,d)}else a.href=this.attachAjax(o)}if(this.element.fancybox(a),this.options.autoOpen){this.element.hide();var c=this;setTimeout(function(){c.element.trigger("click")},this.options.timeDelay)}this.options.syncOlarkWindow&&require(["ud.olark"],function(e){this.udOlark=e}.bind(this))},destroy:function(){},attachAjax:function(e){if(null===e)return"";if(-1==e.indexOf("&displayType=ajax")&&-1==e.indexOf("?displayType=ajax")){var t="?";return-1!=e.indexOf("?")&&(t="&"),e+t+"displayType=ajax"}return e},open:function(t){t.href&&(t.href=this.attachAjax(t.href)),e.fancybox.open(e.extend({type:"ajax",minHeight:20},t))},close:function(){e.fancybox.close(!0)}})}),define("ud.search",["jquery-widget-init","handlebars.helpers","ud.api","ud.googleanalytics"],function(e,t){e.widget("ud.ud_search",{options:{},_create:function(){for(var t in this.options)"undefined"!=typeof this.element.data(t.toLowerCase())&&(this.options[t]=this.element.data(t.toLowerCase()));this._initHandlebarsTemplates();var n=e(".quick-search",this.element);if(n.length){var i;n.autocomplete({source:function(t,a){i=t.term.trim(),UD.API.call("/search/suggest/?q="+encodeURIComponent(i),{success:e.proxy(function(e){a(e),n.removeClass("ui-autocomplete-loading")},this),error:e.proxy(function(){n.removeClass("ui-autocomplete-loading")},this)})},minLength:2,delay:0,search:function(){var t=e.trim(n.val());return t.length?void 0:!1},select:function(e,t){UD.GoogleAnalytics.trackEvent("searchbox","click","search-result-item"),window.location.href=t.item.link},autoFocus:!1}).data("ui-autocomplete")._renderItem=function(t,n){if(!(n&&n.label&&n.value&&n.link))return t;i=i.replace(/\s{2,}/g," ");var a=new RegExp("("+e.ui.autocomplete.escapeRegex(i)+")","ig");return n.label=n.label.replace(a,"<strong>$1</strong>"),t.append(e(this.searchMenuItemTemplate({item:n})).data("ui-autocomplete-item",n))}.context(this),n.autocomplete("widget").attr("id","quick-search-dropdown-v4")}e("form",this.element).submit(function(t){t&&t.preventDefault();var n=e("input[type=text]",e(this)).val(),i=e(this).attr("action");document.location=i+"?q="+encodeURIComponent(n)})},destroy:function(){},_initHandlebarsTemplates:function(){this.searchMenuItemTemplate=t.compile(e("#search-menu-item").html())}})}),define("ud.api.v2",["jquery","jquery-migrate","jquery.cookie"],function(e){UD.API_V2={version:"api-2.0",getHeaders:function(){var t={};return e.cookie("access_token")&&(t.Authorization="Bearer "+e.cookie("access_token")),t},call:function(t,n){return e.ajax(e.extend({url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},n))}}}),define("ud.form",["jquery-widget-init"],function(e){e.widget("ud.ud_form",{options:{pages:[]},_create:function(){if(this.element.attr("data-page-name")){this.options.pages=this.element.attr("data-page-name").split(",");for(var e=0;e<this.options.pages.length;e++)"undefined"!=typeof this.pages[this.options.pages[e]]&&this.pages[this.options.pages[e]].apply(this)}window.tmp=this},destroy:function(){},pages:{}}),UD.form={submit:function(t){e("#"+t).submit()},onsubmit:function(t){e("#"+t).onsubmit()}},e.extend(e.ud.ud_form.prototype.pages,{submit:function(){this.element.submit()},onsubmit:function(){this.element.onsubmit()},"enable-default-text":function(){var e=this.element;if(e){var t=e.attr("uDefaultText")||null;t&&!e.val()&&(e.val(t),e.addClass("default-text-field"),e.click(function(n){e.value==t&&(e.val(""),e.removeClass("default-text-field")),n.preventDefault()}),e.focus(function(n){e.val()==t&&(e.val(""),e.removeClass("default-text-field")),n.preventDefault()}),e.blur(function(){e.val()||(e.val(t),e.addClass("default-text-field"))}))}},"show-settings":function(){var t=this;this.element.click(function(){var n=e("#"+t.element.data("el"));if(!n)return!1;var i=n.attr("id");if(!i)return!1;var a=e("#show-settings-"+i),o=e("#hide-settings-"+i);return a&&o?(a.hide(),o.show(),void n.show()):!1})},"hide-settings":function(){var t=this;this.element.click(function(){var n=e("#"+t.element.data("el"));if(!n)return!1;var i=n.attr("id");if(!i)return!1;var a=e("#show-settings-"+i),o=e("#hide-settings-"+i);return a&&o?(a.show(),o.hide(),void n.hide()):!1})}})}),require(["ud.jquery.ready","ud.package.external","ud.actionlogger","ud.angular-loader","ud.formajax","ud.hellobar","ud.jqelement","ud.notifications","ud.popup","ud.raven","ud.search","handlebars-templates","ud.api","ud.api.v2","ud.form","ud.googleanalytics","ud.utils"],function(){}),define("ud.package.all",function(){});
//# sourceMappingURL=ud.package.all.js.map